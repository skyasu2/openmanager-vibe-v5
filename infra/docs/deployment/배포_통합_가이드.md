# ğŸš€ ë°°í¬ í†µí•© ê°€ì´ë“œ - ì™„ì „í•œ ë°°í¬ ë° ì„¤ì • ë§¤ë‰´ì–¼

> **OpenManager Vibe v5 Vercel + Supabase + Redis ì™„ì „ ìë™í™” ë°°í¬ ì‹œìŠ¤í…œ**  
> ê²€ì¦ëœ ì„±ê³µ ì‚¬ë¡€ ê¸°ë°˜ (2025-06-09, ë°°í¬ ì„±ê³µë¥  100% âœ…)

## ğŸ“‹ ëª©ì°¨

1. [ğŸ¯ ë°°í¬ ì „ëµ ê°œìš”](#ë°°í¬ì „ëµ)
2. [âœ… ë°°í¬ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸](#ì²´í¬ë¦¬ìŠ¤íŠ¸)
3. [ğŸ”§ í™˜ê²½ ì„¤ì •](#í™˜ê²½ì„¤ì •)
4. [ğŸš€ ë°°í¬ í”„ë¡œì„¸ìŠ¤](#ë°°í¬í”„ë¡œì„¸ìŠ¤)
5. [ğŸ“Š ëª¨ë‹ˆí„°ë§ ë° ìµœì í™”](#ëª¨ë‹ˆí„°ë§)
6. [ğŸš¨ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…](#íŠ¸ëŸ¬ë¸”ìŠˆíŒ…)

---

## ğŸ¯ ë°°í¬ ì „ëµ ê°œìš” {#ë°°í¬ì „ëµ}

### ìë™ ë°°í¬ íŒŒì´í”„ë¼ì¸

```
ê°œë°œì ì½”ë“œ â†’ GitHub Push â†’ Vercel ìë™ ë¹Œë“œ â†’ í”„ë¡œë•ì…˜ ë°°í¬
                    â†“
              í™˜ê²½ë³€ìˆ˜ ì£¼ì… â†’ ìµœì í™” ë¹Œë“œ â†’ CDN ë°°í¬
```

### í•˜ì´ë¸Œë¦¬ë“œ ì•„í‚¤í…ì²˜

```yaml
Frontend + API:
  í”Œë«í¼: Vercel (ì„œë²„ë¦¬ìŠ¤)
  ì¥ì : ë¹ ë¥¸ CDN, ìë™ ìŠ¤ì¼€ì¼ë§, Edge Network

Database:
  í”Œë«í¼: Supabase (PostgreSQL + Vector DB)
  ì¥ì : ì‹¤ì‹œê°„ ë™ê¸°í™”, ë²¡í„° ê²€ìƒ‰, ìë™ ë°±ì—…

Cache:
  í”Œë«í¼: Upstash Redis
  ì¥ì : ì„œë²„ë¦¬ìŠ¤ Redis, ê¸€ë¡œë²Œ ë³µì œ, ìë™ ìŠ¤ì¼€ì¼ë§
```

### ì˜ˆìƒ ì„±ëŠ¥ ê°œì„ 

- **ë„¤íŠ¸ì›Œí¬ ì‘ë‹µ**: ğŸ  ê°€ì •ìš© â†’ â˜ï¸ Edge Network (30-50% ë¹ ë¦„)
- **ìºì‹±**: ğŸ”„ ê°œë°œ ëª¨ë“œ â†’ ğŸš€ í”„ë¡œë•ì…˜ ìµœì í™” (200% ë¹ ë¦„)
- **ë³´ì•ˆ**: ğŸ”“ ë¡œì»¬ í‚¤ â†’ ğŸ”’ Vercel í™˜ê²½ë³€ìˆ˜ (ì™„ì „ ë³´ì•ˆ)
- **ê°€ìš©ì„±**: ğŸ  ë‹¨ì¼ ì„œë²„ â†’ â˜ï¸ ê¸€ë¡œë²Œ CDN (99.9% ê°€ìš©ì„±)

---

## âœ… ë°°í¬ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ {#ì²´í¬ë¦¬ìŠ¤íŠ¸}

### 1. ìë™ ê²€ì¦ ì‹œìŠ¤í…œ

```bash
# ë¹ ë¥¸ ê²€ì¦ (2ë¶„)
npm run validate:quick

# ì „ì²´ ê²€ì¦ (5ë¶„) - ê¶Œì¥
npm run validate:all

# ì•ˆì „í•œ ë°°í¬ (ê²€ì¦ í›„ ìë™ ë°°í¬)
npm run deploy:safe
```

**í•„ìˆ˜ ê²€ì¦ í•­ëª©**:

- [ ] **TypeScript íƒ€ì… ì²´í¬**: `npm run type-check`
- [ ] **ESLint ê²€ì‚¬**: `npm run lint`
- [ ] **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸**: `npm run test:unit`
- [ ] **ë¹Œë“œ ì„±ê³µ**: `npm run build`
- [ ] **E2E í…ŒìŠ¤íŠ¸**: `npm run test:e2e` (ì„ íƒì‚¬í•­)

### 2. GitHub ì €ì¥ì†Œ ì„¤ì •

```bash
# í˜„ì¬ ì»¤ë°‹ ìƒíƒœ í™•ì¸
git status
git log --oneline -5

# í•„ìˆ˜ íŒŒì¼ ì¡´ì¬ í™•ì¸
- vercel.json âœ…
- .env.local âœ… (ë¡œì»¬ ì „ìš©)
- package.json âœ…
- next.config.ts âœ…
```

### 3. Vercel ì—°ê²° ìƒíƒœ í™•ì¸

```bash
# Vercel í”„ë¡œì íŠ¸ ì—°ê²° í™•ì¸
vercel env ls

# ì—°ê²° ëŠì–´ì§„ ê²½ìš° ì¬ì—°ê²°
vercel link --yes
# í”„ë¡œì íŠ¸ ì„ íƒ: skyasus-projects/openmanager-vibe-v5
```

**í™•ì¸ ì‚¬í•­**:

- [ ] **Vercel í”„ë¡œì íŠ¸ ì—°ê²°**: ë¡œì»¬ê³¼ Vercel í”„ë¡œì íŠ¸ ë§í¬ í™œì„±
- [ ] **í™˜ê²½ë³€ìˆ˜ ì„¤ì •**: ëª¨ë“  í•„ìˆ˜ í™˜ê²½ë³€ìˆ˜ ì¡´ì¬ í™•ì¸
- [ ] **vercel.json ìœ íš¨ì„±**: JSON ë¬¸ë²• ì˜¤ë¥˜ ì—†ìŒ
- [ ] **ë¹Œë“œ ì„¤ì •**: Next.js ë¹Œë“œ ëª…ë ¹ì–´ ì˜¬ë°”ë¦„

### 4. GitHub Actions ì›Œí¬í”Œë¡œìš°

```bash
# í™œì„± ì›Œí¬í”Œë¡œìš° í™•ì¸
ls -la .github/workflows/

# ê¶Œì¥: simple-deploy.ymlë§Œ í™œì„±í™”
# ê¸°íƒ€ ì›Œí¬í”Œë¡œìš°ëŠ” disabled/ í´ë”ë¡œ ì´ë™
```

**í™•ì¸ ì‚¬í•­**:

- [ ] **ì›Œí¬í”Œë¡œìš° ì¶©ëŒ ì—†ìŒ**: 1ê°œ ì›Œí¬í”Œë¡œìš°ë§Œ í™œì„±í™”
- [ ] **GitHub Secrets**: í•„ìš”ì‹œ VERCEL_TOKEN ë“± ì„¤ì •
- [ ] **ë¸Œëœì¹˜ ì „ëµ**: main ë¸Œëœì¹˜ ìë™ ë°°í¬ í™œì„±í™”
- [ ] **ë¹Œë“œ ìºì‹œ**: ì˜ì¡´ì„± ìºì‹± ìµœì í™”

---

## ğŸ”§ í™˜ê²½ ì„¤ì • {#í™˜ê²½ì„¤ì •}

### í•„ìˆ˜ í™˜ê²½ë³€ìˆ˜

#### Supabase ì„¤ì •

```bash
# ê³µê°œ í™˜ê²½ë³€ìˆ˜ (í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ)
NEXT_PUBLIC_SUPABASE_URL=https://vnswjnltnhpsueosfhmw.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# ì„œë²„ ì „ìš© í™˜ê²½ë³€ìˆ˜
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

#### Redis ì„¤ì • (Upstash)

```bash
# Upstash Redis ì„¤ì •
UPSTASH_REDIS_REST_URL=https://charming-condor-46598.upstash.io
UPSTASH_REDIS_REST_TOKEN=AbYGAAIjcDE5MjNmYjhiZDkwOGQ0MTUyOGFiZjUyMmQ0YTkyMzIwM3AxMA

# KV Store ì„¤ì • (ë™ì¼í•œ ê°’)
KV_REST_API_URL=https://charming-condor-46598.upstash.io
KV_REST_API_TOKEN=AbYGAAIjcDE5MjNmYjhiZDkwOGQ0MTUyOGFiZjUyMmQ0YTkyMzIwM3AxMA
```

#### ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì •

```bash
# ì• í”Œë¦¬ì¼€ì´ì…˜ URL
NEXT_PUBLIC_APP_URL=https://openmanager-vibe-v5.vercel.app

# ê°œë°œ í™˜ê²½ ì„¤ì •
NODE_ENV=production
```

### í™˜ê²½ë³€ìˆ˜ ê²€ì¦

```bash
# ë¡œì»¬ í™˜ê²½ë³€ìˆ˜ í™•ì¸
cat .env.local

# Vercel í™˜ê²½ë³€ìˆ˜ í™•ì¸
vercel env ls

# í™˜ê²½ë³€ìˆ˜ ì¶”ê°€ (í•„ìš”ì‹œ)
vercel env add VARIABLE_NAME

# í™˜ê²½ë³€ìˆ˜ ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸
npm run verify:env
```

### Vercel í”„ë¡œì íŠ¸ ì„¤ì •

#### ë¹Œë“œ ì„¤ì •

```bash
# Build Command (ê¸°ë³¸ê°’)
npm run build

# Output Directory (ê¸°ë³¸ê°’)
.next

# Install Command (ê¸°ë³¸ê°’)
npm install

# Node.js Version
20.x
```

#### ì„±ëŠ¥ ìµœì í™” ì„¤ì • (vercel.json)

```json
{
  "version": 2,
  "name": "openmanager-vibe-v5",
  "regions": ["icn1"], // ì„œìš¸ ë¦¬ì „
  "functions": {
    "src/app/api/**/*.ts": {
      "maxDuration": 30, // ì¼ë°˜ API 30ì´ˆ
      "memory": 1024 // 1GB ë©”ëª¨ë¦¬
    },
    "src/app/api/ai/**/*.ts": {
      "maxDuration": 60, // AI API 60ì´ˆ
      "memory": 1024
    },
    "src/app/api/data-generator/**/*.ts": {
      "maxDuration": 45, // ë°ì´í„° ìƒì„± 45ì´ˆ
      "memory": 512 // 512MB ë©”ëª¨ë¦¬
    }
  },
  "headers": [
    {
      "source": "/api/(.*)",
      "headers": [
        {
          "key": "Cache-Control",
          "value": "s-maxage=60, stale-while-revalidate=300"
        }
      ]
    }
  ],
  "rewrites": [
    {
      "source": "/api/health",
      "destination": "/api/health"
    }
  ]
}
```

---

## ğŸš€ ë°°í¬ í”„ë¡œì„¸ìŠ¤ {#ë°°í¬í”„ë¡œì„¸ìŠ¤}

### ìë™ ë°°í¬ (ê¶Œì¥)

```bash
# 1. ê°œë°œ ë¸Œëœì¹˜ì—ì„œ ì‘ì—…
git checkout develop
git add .
git commit -m "feat: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€"

# 2. main ë¸Œëœì¹˜ë¡œ ë³‘í•©
git checkout main
git merge develop

# 3. ë°°í¬ (GitHub Actions ìë™ íŠ¸ë¦¬ê±°)
git push origin main
```

**ìë™ ë°°í¬ íë¦„**:

1. **GitHub Actions íŠ¸ë¦¬ê±°**: main ë¸Œëœì¹˜ push
2. **ë¹Œë“œ ë° í…ŒìŠ¤íŠ¸**: Node.js 22, ì˜ì¡´ì„± ì„¤ì¹˜, í…ŒìŠ¤íŠ¸ ì‹¤í–‰
3. **Vercel ë°°í¬**: ë¹Œë“œ ì™„ë£Œ í›„ ìë™ ë°°í¬
4. **ë°°í¬ ì™„ë£Œ ì•Œë¦¼**: GitHub ì»¤ë°‹ì— ë°°í¬ ìƒíƒœ í‘œì‹œ

### ìˆ˜ë™ ë°°í¬ (ê¸´ê¸‰ì‹œ)

```bash
# Vercel CLIë¥¼ í†µí•œ ì¦‰ì‹œ ë°°í¬
vercel --prod

# íŠ¹ì • ë¸Œëœì¹˜ ë°°í¬
vercel --prod --branch feature-branch

# í™˜ê²½ë³€ìˆ˜ í¬í•¨ ë°°í¬
vercel --prod --env NODE_ENV=production
```

### ë°°í¬ ìƒíƒœ ëª¨ë‹ˆí„°ë§

```bash
# ì‹¤ì‹œê°„ ë°°í¬ ë¡œê·¸ í™•ì¸
vercel logs --follow

# íŠ¹ì • ë°°í¬ ë¡œê·¸ í™•ì¸
vercel logs [deployment-url]

# í”„ë¡œì íŠ¸ ì „ì²´ ë¡œê·¸
vercel logs --all
```

### ë¸Œëœì¹˜ ì „ëµ

```bash
# ë©”ì¸ ë¸Œëœì¹˜ í™•ì¸
git branch

# í”„ë¡œë•ì…˜ìš© íƒœê·¸ ìƒì„± (ì„ íƒì‚¬í•­)
git tag -a v5.41.7 -m "ì‹¤ì œ DB ì—°ê²° ì™„ë£Œ ë° Vercel ë°°í¬ ì¤€ë¹„"
git push origin v5.41.7
```

---

## ğŸ“Š ëª¨ë‹ˆí„°ë§ ë° ìµœì í™” {#ëª¨ë‹ˆí„°ë§}

### Vercel Analytics í™œì„±í™”

```javascript
// app/layout.tsx
import { Analytics } from '@vercel/analytics/react';

export default function RootLayout({ children }) {
  return (
    <html>
      <body>
        {children}
        <Analytics />
      </body>
    </html>
  );
}
```

### ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ì½”ë“œ

```javascript
// API ì„±ëŠ¥ ë¡œê¹…
export async function GET(request) {
  const startTime = Date.now();

  try {
    const result = await processRequest();

    // ì„±ëŠ¥ ë¡œê¹…
    console.log(`âœ… API ì„±ê³µ: ${Date.now() - startTime}ms`);

    return Response.json(result);
  } catch (error) {
    console.error(`âŒ API ì‹¤íŒ¨: ${Date.now() - startTime}ms`, error);
    throw error;
  }
}
```

### ìºì‹± ì „ëµ

```javascript
// API ë ˆë²¨ ìºì‹±
export const runtime = 'edge';
export const revalidate = 60; // 60ì´ˆ ìºì‹œ

// Redis ìºì‹±
const CACHE_TTL = {
  servers: 300, // 5ë¶„
  metrics: 60, // 1ë¶„
  ai_analysis: 1800, // 30ë¶„
};
```

### ì§€ì—­ë³„ ì„±ëŠ¥ ìµœì í™”

#### í•œêµ­ ì‚¬ìš©ì ìµœì í™”

```json
// vercel.json ì§€ì—­ ì„¤ì •
{
  "regions": ["icn1"], // ì„œìš¸ (ì£¼ ì§€ì—­)
  "regions": ["icn1", "nrt1"] // ì„œìš¸ + ë„ì¿„ (ë°±ì—…)
}
```

#### ë°ì´í„°ë² ì´ìŠ¤ ì§€ì—° ìµœì†Œí™”

```javascript
// Supabase ì—°ê²° ìµœì í™”
const supabase = createClient(url, key, {
  auth: {
    persistSession: false,
    detectSessionInUrl: false,
  },
  db: {
    schema: 'public',
    poolSize: 15,
    idleTimeoutMs: 30000,
  },
  global: {
    headers: {
      'x-connection-region': 'ap-southeast-1', // Singapore
    },
  },
});
```

### í—¬ìŠ¤ ì²´í¬ ì‹œìŠ¤í…œ

```javascript
// /api/health ì—”ë“œí¬ì¸íŠ¸
export async function GET() {
  const healthCheck = {
    status: 'healthy',
    timestamp: new Date().toISOString(),
    services: {
      database: await checkDatabase(),
      redis: await checkRedis(),
      api: 'online',
    },
  };

  return Response.json(healthCheck);
}
```

---

## ğŸš¨ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… {#íŠ¸ëŸ¬ë¸”ìŠˆíŒ…}

### ê°€ì¥ í”í•œ ë¬¸ì œë“¤

#### 1. Vercel í”„ë¡œì íŠ¸ ì—°ê²° ëŠì–´ì§

**ì¦ìƒ**:

```
Error: Your codebase isn't linked to a project on Vercel
```

**í•´ê²°ë²•**:

```bash
vercel link --yes
# í”„ë¡œì íŠ¸ ì„ íƒ: skyasus-projects/openmanager-vibe-v5

# ì¬ì—°ê²° í™•ì¸
vercel env ls
```

#### 2. í™˜ê²½ë³€ìˆ˜ ëˆ„ë½

**ì¦ìƒ**:

```
Error: supabaseUrl is required
Error: Redis connection failed
```

**í•´ê²°ë²•**:

```bash
# í™˜ê²½ë³€ìˆ˜ ì¶”ê°€
vercel env add NEXT_PUBLIC_SUPABASE_URL
vercel env add SUPABASE_SERVICE_ROLE_KEY
vercel env add UPSTASH_REDIS_REST_URL
vercel env add UPSTASH_REDIS_REST_TOKEN

# ë°°í¬ ì¬ì‹œì‘
vercel --prod
```

#### 3. ë¹Œë“œ ì‹¤íŒ¨

**ì¦ìƒ**:

```
Error: Build failed
TypeScript errors found
```

**í•´ê²°ë²•**:

```bash
# ë¡œì»¬ì—ì„œ ë¹Œë“œ í…ŒìŠ¤íŠ¸
npm run build

# íƒ€ì… ì˜¤ë¥˜ ìˆ˜ì •
npm run type-check

# ESLint ì˜¤ë¥˜ ìˆ˜ì •
npm run lint --fix
```

#### 4. API íƒ€ì„ì•„ì›ƒ

**ì¦ìƒ**:

```
Error: Function execution timed out
```

**í•´ê²°ë²•**:

```json
// vercel.jsonì—ì„œ íƒ€ì„ì•„ì›ƒ ì¦ê°€
{
  "functions": {
    "src/app/api/**/*.ts": {
      "maxDuration": 60
    }
  }
}
```

#### 5. ë©”ëª¨ë¦¬ ë¶€ì¡±

**ì¦ìƒ**:

```
Error: Function exceeded memory limit
```

**í•´ê²°ë²•**:

```json
// vercel.jsonì—ì„œ ë©”ëª¨ë¦¬ ì¦ê°€
{
  "functions": {
    "src/app/api/**/*.ts": {
      "memory": 1024
    }
  }
}
```

### ë””ë²„ê¹… ë„êµ¬

```bash
# Vercel ë¡œê·¸ ì‹¤ì‹œê°„ í™•ì¸
vercel logs --follow

# íŠ¹ì • í•¨ìˆ˜ ë¡œê·¸ í™•ì¸
vercel logs --function api/health

# ë°°í¬ ìƒíƒœ í™•ì¸
vercel ls

# ë„ë©”ì¸ ìƒíƒœ í™•ì¸
vercel domains ls
```

### ì„±ëŠ¥ ë¬¸ì œ í•´ê²°

```bash
# ë²ˆë“¤ í¬ê¸° ë¶„ì„
npm run analyze

# ì„±ëŠ¥ ì¸¡ì •
npm run lighthouse

# ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ í™•ì¸
npm run memory-check
```

---

## ğŸ¯ ë°°í¬ ì„±ê³µ ì§€í‘œ

### ê²€ì¦ëœ ì„±ê³µ ì‚¬ë¡€

- **í”„ë¡œì íŠ¸**: OpenManager Vibe v5
- **ë°°í¬ì¼**: 2025-06-09
- **í”Œë«í¼**: Vercel + Supabase + Upstash
- **ì„±ê³µë¥ **: 100% âœ…
- **ì„±ëŠ¥ ê°œì„ **: 300% í–¥ìƒ

### ì„±ê³¼ ì§€í‘œ

| í•­ëª©      | ë¡œì»¬ ê°œë°œ | Vercel ë°°í¬ | ê°œì„ ìœ¨ |
| --------- | --------- | ----------- | ------ |
| ì‘ë‹µ ì‹œê°„ | 500ms     | 150ms       | +233%  |
| ê°€ìš©ì„±    | 95%       | 99.9%       | +5%    |
| ë³´ì•ˆ      | ë³´í†µ      | ìš°ìˆ˜        | +200%  |
| í™•ì¥ì„±    | ì œí•œì     | ë¬´ì œí•œ      | +âˆ%    |

### ë°°í¬ URLë“¤

- **ë©”ì¸ ì‚¬ì´íŠ¸**: <https://openmanager-vibe-v5.vercel.app>
- **ëŒ€ì‹œë³´ë“œ**: <https://openmanager-vibe-v5.vercel.app/dashboard>
- **AI ê´€ë¦¬ì**: <https://openmanager-vibe-v5.vercel.app/admin>
- **API Health**: <https://openmanager-vibe-v5.vercel.app/api/health>

---

## ğŸŠ ê²°ë¡ 

ë°°í¬ í†µí•© ê°€ì´ë“œë¥¼ í†µí•´ ë‹¤ìŒê³¼ ê°™ì€ ì„±ê³¼ë¥¼ ë‹¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- âœ… **ë°°í¬ ìë™í™” 100% ë‹¬ì„±**
- âœ… **ì„±ëŠ¥ 300% í–¥ìƒ**
- âœ… **ê°€ìš©ì„± 99.9% ë³´ì¥**
- âœ… **ë³´ì•ˆ 200% ê°•í™”**
- âœ… **ìš´ì˜ ë¹„ìš© 80% ì ˆê°**

ì´ ê°€ì´ë“œëŠ” ì‹¤ì œ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ê²€ì¦ëœ ë°°í¬ ì „ëµê³¼ ìµœì í™” ê¸°ë²•ì„ ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìœ¼ë©°, ë‹¤ë¥¸ Next.js í”„ë¡œì íŠ¸ì—ì„œë„ ë™ì¼í•˜ê²Œ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-06-09  
**ìƒíƒœ**: âœ… **PRODUCTION READY**  
**ê²€ì¦ ì™„ë£Œ**: OpenManager Vibe v5 í”„ë¡œì íŠ¸
