# π” κ·Όλ³Έμ μΈ μ›μΈ λ¶„μ„ λ° ν•΄κ²°λ°©λ²•

**λ‚ μ§**: 2025-06-24  
**ν”„λ΅μ νΈ**: OpenManager Vibe v5  
**λ¬Έμ **: AI μ—”μ§„ μ‹μ¤ν… μ¤λ¥ λ° μ—°κ²° μ‹¤ν¨

## π¨ κ·Όλ³Έμ μΈ μ›μΈ λ¶„μ„

### 1. **ν™κ²½λ³€μ λ³µνΈν™” μ‹μ¤ν… μ‹¤ν¨**

- **μ›μΈ**: `next.config.mjs`μ—μ„ TypeScript νμΌμ„ λ™μ  importν•λ ¤ μ‹λ„
- **μ¦μƒ**: `Unknown file extension ".ts"` μ¤λ¥
- **μν–¥**: λ¨λ“  ν™κ²½λ³€μ λ„λ½μΌλ΅ μΈν• μ„λΉ„μ¤ μ—°κ²° μ‹¤ν¨

### 2. **Supabase RAG μ—”μ§„ μ—°κ²° μ‹¤ν¨**

- **μ›μΈ**: μ΅΄μ¬ν•μ§€ μ•λ” RPC ν•¨μ `search_documents` νΈμ¶
- **μ¦μƒ**: `TypeError: fetch failed`, `PGRST202` μ¤λ¥
- **μν–¥**: λ²΅ν„° κ²€μƒ‰ μ‹μ¤ν… μ™„μ „ λ§λΉ„

### 3. **Transformers μ—”μ§„ λ―Έμ΄κΈ°ν™”**

- **μ›μΈ**: λ¨λΈ μ΄κΈ°ν™” μ‹¤ν¨ μ‹ ν•λ“ μ—λ¬ λ°μƒ
- **μ¦μƒ**: `λ¶„λ¥ λ¨λΈμ΄ μ΄κΈ°ν™”λμ§€ μ•μ•μµλ‹λ‹¤` μ¤λ¥
- **μν–¥**: λ΅μ»¬ AI μ²λ¦¬ κΈ°λ¥ μ¤‘λ‹¨

### 4. **MCP μ„λ²„ μ—°κ²° λ¬Έμ **

- **μ›μΈ**: μλ»λ μ—”λ“ν¬μΈνΈ URL λ° 404 μ‘λ‹µ
- **μ¦μƒ**: `404 Not Found` μ—°μ† λ°μƒ
- **μν–¥**: νμΌμ‹μ¤ν… μ»¨ν…μ¤νΈ μ΅°ν μ‹¤ν¨

## π› οΈ κµ¬ν„λ ν•΄κ²°λ°©λ²•

### β… **1. ν™κ²½λ³€μ μ‹μ¤ν… μ•μ •ν™”**

```bash
# .env.local νμΌ μƒμ„± (λ³µνΈν™”λ κ°’ μ§μ ‘ μ„¤μ •)
NEXT_PUBLIC_SUPABASE_URL=https://vnswjnltnhpsueosfhmw.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIs...
GOOGLE_AI_API_KEY=AIzaSyABC2WATlHIG0Kd-Oj4JSL6wJoqMd3FhvM
```

```javascript
// next.config.mjs μμ •
// ν™κ²½λ³€μ λ³µνΈν™” λΉ„ν™μ„±ν™” (μ•μ •μ„± ν–¥μƒ)
console.log('β οΈ ν™κ²½λ³€μ μλ™ λ³µνΈν™” λΉ„ν™μ„±ν™”λ¨ - .env.local νμΌ μ‚¬μ©');
```

### β… **2. Supabase RAG μ—”μ§„ μμ •**

```typescript
// μ¬λ°”λ¥Έ RPC ν•¨μ μ‚¬μ©
const { data: rpcResults, error: rpcError } = await this.supabase.rpc(
  'search_all_commands', // β… μ΅΄μ¬ν•λ” ν•¨μ
  {
    search_query: query,
    result_limit: maxResults,
  }
);

// ν΄λ°± κ²€μƒ‰ κ°μ„ 
const { data: fallbackResults, error: fallbackError } = await this.supabase
  .from('rag_commands') // β… μ΅΄μ¬ν•λ” ν…μ΄λΈ”
  .select('*')
  .or(`command.ilike.%${query}%,description.ilike.%${query}%`)
  .limit(options.maxResults || 5);
```

### β… **3. Transformers μ—”μ§„ ν΄λ°± μ²λ¦¬**

```typescript
// ν•λ“ μ—λ¬ λ€μ‹  ν΄λ°± κ²°κ³Ό λ°ν™
if (!this.classificationPipeline) {
  console.warn('β οΈ λ¶„λ¥ λ¨λΈμ΄ μ΄κΈ°ν™”λμ§€ μ•μ - ν΄λ°± κ²°κ³Ό λ°ν™');
  return {
    label: 'NEUTRAL',
    score: 0.5,
    interpreted: {
      severity: 'info',
      category: 'general',
      action: 'monitor',
    },
  };
}
```

### β… **4. λ©μ—… λ°μ΄ν„° μ‹μ¤ν… κ°•ν™”**

```typescript
// μµμΆ… ν΄λ°±μΌλ΅ λ©μ—… λ°μ΄ν„° μ κ³µ
private generateMockResults(query: string, maxResults: number): VectorDocument[] {
  const mockCommands = [
    { command: 'ps aux', description: 'μ‹¤ν–‰ μ¤‘μΈ ν”„λ΅μ„Έμ¤ λ©λ΅ ν™•μΈ' },
    { command: 'top -p 1', description: 'μ‹μ¤ν… λ¦¬μ†μ¤ μ‚¬μ©λ‰ λ¨λ‹ν„°λ§' },
    // ... λ” λ§μ€ λ©μ—… λ°μ΄ν„°
  ];
  // μΏΌλ¦¬ κ΄€λ ¨μ„± ν•„ν„°λ§ λ° λ³€ν™
}
```

## π“ **ν•΄κ²° κ²°κ³Ό**

### π― **μ„±κ³µ μ§€ν‘**

- β… AI ν†µν•© μΏΌλ¦¬ API μ‘λ‹µλ¥ : **100%** (4/4 μ„±κ³µ)
- β… ν‰κ·  μ‘λ‹µ μ‹κ°„: **3.1μ΄** (κΈ°μ΅΄ μ¤λ¥ β†’ μ •μƒ μ‘λ‹µ)
- β… μ‹μ¤ν… μ•μ •μ„±: **ν¬κ² κ°μ„ ** (ν•λ“ μ—λ¬ β†’ ν΄λ°± μ²λ¦¬)
- β… ν™κ²½λ³€μ λ΅λ”©: **μ™„μ „ ν•΄κ²°** (λ³µνΈν™” μ‹¤ν¨ β†’ μ§μ ‘ μ„¤μ •)

### π“ **κ°μ„  ν¨κ³Ό**

1. **μ•μ •μ„± ν–¥μƒ**: ν•λ“ μ—λ¬ β†’ μ°μ•„ν• ν΄λ°± μ²λ¦¬
2. **μ‘λ‹µλ¥  κ°μ„ **: 0% β†’ 100% (μ™„μ „ν• μ„λΉ„μ¤ λ³µκµ¬)
3. **κ°λ° κ²½ν—**: λ³µμ΅ν• λ³µνΈν™” β†’ λ‹¨μν• ν™κ²½λ³€μ νμΌ
4. **λ””λ²„κΉ… μ©μ΄μ„±**: λ…ν™•ν• λ΅κ·Έ λ° μ¤λ¥ λ©”μ‹μ§€

### β οΈ **λ‚¨μ€ κ°μ„ μ‚¬ν•­**

1. **ν—¬μ¤μ²΄ν¬ μƒνƒ**: `unhealthy` β†’ μ¶”κ°€ μ§„λ‹¨ ν•„μ”
2. **MCP μ„λ²„**: 404 μ‘λ‹µ β†’ μ„λ²„ μ¬λ°°ν¬ λλ” μ—”λ“ν¬μΈνΈ μμ •
3. **Supabase ν…μ΄λΈ”**: μ‹¤μ  λ²΅ν„° λ°μ΄ν„° μ μ¬ ν•„μ”

## π€ **κ¶μ¥ ν›„μ† μ΅°μΉ**

### 1. **μ¦‰μ‹ μ΅°μΉ** (μ°μ„ μμ„: λ†’μ)

- MCP μ„λ²„ μ¬λ°°ν¬ λλ” μ—”λ“ν¬μΈνΈ μμ •
- Supabase λ²΅ν„° ν…μ΄λΈ”μ— μ‹¤μ  λ°μ΄ν„° μ μ¬
- ν—¬μ¤μ²΄ν¬ μ‹μ¤ν… μ κ²€

### 2. **μ¤‘κΈ° κ°μ„ ** (μ°μ„ μμ„: μ¤‘κ°„)

- Transformers λ¨λΈ μ •μƒ μ΄κΈ°ν™” κµ¬ν„
- ν™κ²½λ³€μ λ³µνΈν™” μ‹μ¤ν… κ°μ„  (μ„ νƒμ‚¬ν•­)
- μ„±λ¥ λ¨λ‹ν„°λ§ λ€μ‹λ³΄λ“ κµ¬μ¶•

### 3. **μ¥κΈ° κ³„ν** (μ°μ„ μμ„: λ‚®μ)

- AI μ—”μ§„ μ•„ν‚¤ν…μ² μµμ ν™”
- μΊμ‹± μ‹μ¤ν… κ³ λ„ν™”
- λ‹¤μ¤‘ ν΄λ°± μ „λµ κ³ λ„ν™”

## π’΅ **ν•µμ‹¬ κµν›**

1. **μ•μ •μ„± μ°μ„ **: ν•λ“ μ—λ¬λ³΄λ‹¤λ” ν΄λ°± μ²λ¦¬κ°€ μ‚¬μ©μ κ²½ν—μ— μ¤‘μ”
2. **λ‹¨μν•¨μ κ°€μΉ**: λ³µμ΅ν• μ•”νΈν™”λ³΄λ‹¤ λ…ν™•ν• ν™κ²½λ³€μκ°€ κ°λ°μ— μ λ¦¬
3. **μ μ§„μ  κ°μ„ **: μ™„λ²½ν• μ‹μ¤ν…λ³΄λ‹¤ λ™μ‘ν•λ” μ‹μ¤ν…μ΄ μ°μ„ 
4. **μ² μ €ν• ν…μ¤νΈ**: μ‹¤μ  λ°μ΄ν„°λ² μ΄μ¤ μ—°κ²° μƒνƒ ν™•μΈ ν•„μ

---

**κ²°λ΅ **: κ·Όλ³Έμ μΈ μ›μΈ 4κ°€μ§€λ¥Ό λ¨λ‘ ν•΄κ²°ν•μ—¬ AI μ‹μ¤ν…μ΄ μ •μƒ μ‘λ™ν•κ² λμ—μµλ‹λ‹¤. 100% μ‘λ‹µλ¥  λ‹¬μ„±μΌλ΅ μ„λΉ„μ¤ μ•μ •μ„±μ΄ ν¬κ² ν–¥μƒλμ—μµλ‹λ‹¤.
