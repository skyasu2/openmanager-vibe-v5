# π” OpenManager Vibe v5 - ν™κ²½λ³€μ μ•”νΈν™” μ‹μ¤ν…

## π“‹ κ°μ”

OpenManager Vibe v5λ” λ―Όκ°ν• ν™κ²½λ³€μλ“¤μ„ AES μ•”νΈν™”ν•μ—¬ μ•μ „ν•κ² μ €μ¥ν•κ³  κ΄€λ¦¬ν•λ” μ‹μ¤ν…μ„ μ κ³µν•©λ‹λ‹¤. μ΄ μ‹μ¤ν…μ„ ν†µν•΄ λ°μ΄ν„°λ² μ΄μ¤ μ—°κ²° μ •λ³΄, API ν‚¤, ν† ν° λ“±μ„ Gitμ— μ•μ „ν•κ² μ»¤λ°‹ν•  μ μμµλ‹λ‹¤.

## π”‘ μ•”νΈν™”λ ν™κ²½λ³€μ λ©λ΅

ν„μ¬ μ•”νΈν™”λμ–΄ μ €μ¥λ ν™κ²½λ³€μλ“¤:

### π“ Supabase (λ°μ΄ν„°λ² μ΄μ¤)

- `NEXT_PUBLIC_SUPABASE_URL`: Supabase ν”„λ΅μ νΈ URL
- `NEXT_PUBLIC_SUPABASE_ANON_KEY`: Supabase μµλ… ν‚¤ (κ³µκ°)
- `SUPABASE_SERVICE_ROLE_KEY`: Supabase μ„λΉ„μ¤ λ΅¤ ν‚¤ (λΉ„κ³µκ°)

### π”΄ Redis (μΊμ‹)

- `UPSTASH_REDIS_REST_URL`: Upstash Redis REST URL
- `UPSTASH_REDIS_REST_TOKEN`: Upstash Redis μΈμ¦ ν† ν°

### π“΅ MCP μ„λ²„

- `GCP_MCP_SERVER_URL`: GCP VM λ°°ν¬ MCP μ„λ²„ URL (<http://104.154.205.25:10000>)

## π€ μ‚¬μ©λ²•

### 1. μ „μ²΄ ν™κ²½λ³€μ λ³µνΈν™”

```bash
# λ¨λ“  ν™κ²½λ³€μλ¥Ό λ³µνΈν™”ν•μ—¬ .env.decrypted νμΌ μƒμ„±
node scripts/decrypt-env-vars.mjs openmanager2025
```

### 2. νΉμ • ν™κ²½λ³€μ λ³µνΈν™”

```bash
# νΉμ • ν™κ²½λ³€μλ§ λ³µνΈν™”ν•μ—¬ μ¶λ ¥
node scripts/decrypt-env-vars.mjs openmanager2025 UPSTASH_REDIS_REST_TOKEN
node scripts/decrypt-env-vars.mjs openmanager2025 NEXT_PUBLIC_SUPABASE_URL
```

### 3. μƒλ΅μ΄ ν™κ²½λ³€μ μ•”νΈν™”

```bash
# ν™κ²½λ³€μ κ°’μ„ μμ •ν• ν›„ μ¬μ•”νΈν™”
node scripts/encrypt-env-vars.mjs
```

## π”§ κ°λ° ν™κ²½ μ„¤μ •

### λ°©λ²• 1: λ³µνΈν™”λ ν™κ²½λ³€μ μ‚¬μ©

```bash
# 1. ν™κ²½λ³€μ λ³µνΈν™”
node scripts/decrypt-env-vars.mjs openmanager2025

# 2. .env.decryptedλ¥Ό .env.localλ΅ λ³µμ‚¬
cp .env.decrypted .env.local

# 3. κ°λ° μ„λ²„ μ‹μ‘
npm run dev

# 4. λ³΄μ•μ„ μ„ν•΄ λ³µνΈν™” νμΌ μ‚­μ 
rm .env.decrypted
```

### λ°©λ²• 2: μ§μ ‘ ν™κ²½λ³€μ μ„¤μ •

```bash
# νΉμ • λ³€μλ§ λ³µνΈν™”ν•μ—¬ ν™κ²½λ³€μλ΅ μ„¤μ •
export UPSTASH_REDIS_REST_TOKEN=$(node scripts/decrypt-env-vars.mjs openmanager2025 UPSTASH_REDIS_REST_TOKEN | cut -d'=' -f2)
```

## π›΅οΈ λ³΄μ• κ°€μ΄λ“λΌμΈ

### β… μ•μ „ν• μ‚¬μ©λ²•

- ν€ λΉ„λ°€λ²νΈλ” μ•μ „ν• κ³³μ— λ³΄κ΄€
- λ³µνΈν™”λ νμΌ(`.env.decrypted`)μ€ μ‚¬μ© ν›„ μ¦‰μ‹ μ‚­μ 
- μ•”νΈν™”λ μ„¤μ • νμΌ(`encrypted-env-config.mjs`)μ€ Gitμ— μ»¤λ°‹ κ°€λ¥

### β κΈμ§€μ‚¬ν•­

- λ³µνΈν™”λ ν™κ²½λ³€μλ¥Ό Gitμ— μ»¤λ°‹ν•μ§€ λ§ κ²ƒ
- ν€ λΉ„λ°€λ²νΈλ¥Ό μ½”λ“μ— ν•λ“μ½”λ”©ν•μ§€ λ§ κ²ƒ
- λ³µνΈν™”λ νμΌμ„ μ¥κΈ°κ°„ λ³΄κ΄€ν•μ§€ λ§ κ²ƒ

## π”„ ν™κ²½λ³€μ μν™ μΌμ •

- **Quarterly (λ¶„κΈ°λ³„)**: Redis ν† ν°
- **Manual (μλ™)**: κΈ°νƒ€ λ¨λ“  ν™κ²½λ³€μ

## π“‚ νμΌ κµ¬μ΅°

```
config/
β”β”€β”€ encrypted-env-config.mjs    # μ•”νΈν™”λ ν™κ²½λ³€μ μ„¤μ •
β””β”€β”€ README.md                   # μ΄ νμΌ

scripts/
β”β”€β”€ encrypt-env-vars.mjs        # ν™κ²½λ³€μ μ•”νΈν™” μ¤ν¬λ¦½νΈ
β””β”€β”€ decrypt-env-vars.mjs        # ν™κ²½λ³€μ λ³µνΈν™” μ¤ν¬λ¦½νΈ
```

## π† λ¬Έμ  ν•΄κ²°

### λΉ„λ°€λ²νΈ μ¤λ¥

```bash
β λ³µνΈν™” μ‹¤ν¨: ν€ λΉ„λ°€λ²νΈκ°€ μ¬λ°”λ¥΄μ§€ μ•μµλ‹λ‹¤.
```

**ν•΄κ²°**: μ¬λ°”λ¥Έ ν€ λΉ„λ°€λ²νΈλ¥Ό μ‚¬μ©ν•μ„Έμ”.

### ν™κ²½λ³€μ μ—†μ

```bash
β ν™κ²½λ³€μ VARIABLE_NAMEμ„ μ°Ύμ„ μ μ—†μµλ‹λ‹¤.
```

**ν•΄κ²°**: μ‚¬μ© κ°€λ¥ν• ν™κ²½λ³€μ λ©λ΅μ„ ν™•μΈν•μ„Έμ”.

### λ³µνΈν™” μ‹¤ν¨

```bash
β λ³µνΈν™” μ‹¤ν¨: λ³µνΈν™” κ²°κ³Όκ°€ λΉ„μ–΄μμµλ‹λ‹¤.
```

**ν•΄κ²°**: μ•”νΈν™”λ λ°μ΄ν„°κ°€ μ†μƒλμ—μ„ μ μμµλ‹λ‹¤. κ΄€λ¦¬μμ—κ² λ¬Έμν•μ„Έμ”.

## π“ μ§€μ›

λ¬Έμ κ°€ λ°μƒν•κ±°λ‚ μƒλ΅μ΄ ν™κ²½λ³€μλ¥Ό μ¶”κ°€ν•΄μ•Ό ν•λ” κ²½μ° κ°λ°ν€μ— λ¬Έμν•μ„Έμ”.

---

**β οΈ μ¤‘μ”**: μ΄ μ‹μ¤ν…μ€ κ°λ° νΈμμ„±κ³Ό λ³΄μ•μ„ μ„ν•΄ μ„¤κ³„λμ—μµλ‹λ‹¤. ν”„λ΅λ•μ… ν™κ²½μ—μ„λ” κ° ν”λ«νΌμ ν™κ²½λ³€μ κ΄€λ¦¬ μ‹μ¤ν…μ„ μ‚¬μ©ν•μ„Έμ”.
