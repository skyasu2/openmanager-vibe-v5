{
  "_metadata": {
    "version": "5.0.0",
    "created": "2025-08-18",
    "updated": "2025-12-10",
    "purpose": "Claude Code 서브에이전트와 MCP 서버 최적 매핑 (7개 활성 구조)",
    "target_utilization": "100%",
    "collaboration_systems": {
      "claude_subagents_total": "7개 (최적화 완료)",
      "internal_agents": "7개 Claude 내장 서브에이전트",
      "ai_cli_wrappers": "3개 외부 AI CLI (codex, gemini, qwen) - 별도 관리",
      "priority_order": "Claude Code > 서브에이전트 직접 호출"
    },
    "recent_changes": {
      "2025-12-10_optimization": {
        "agent_count": "12개 → 7개 (42% 최적화)",
        "reason": "역할 중복 제거, MCP/CLI 도구로 대체 가능한 에이전트 제거",
        "removed_agents": [
          "database-administrator (Supabase MCP로 대체)",
          "vercel-platform-specialist (Vercel MCP로 대체)",
          "dev-environment-manager (Claude 기본 기능으로 충분)",
          "structure-refactor-specialist (code-review에 통합)",
          "gcp-cloud-functions-specialist (Vercel이 주 플랫폼)"
        ]
      }
    }
  },

  "mcp_server_priorities": {
    "tier1_essential": ["serena", "memory", "context7"],
    "tier2_specialized": ["supabase", "vercel", "playwright", "shadcn-ui"],
    "tier3_utility": ["sequential-thinking", "time", "github"],
    "tier4_search": ["tavily", "brave-search"]
  },

  "agent_mcp_mapping": {
    "code-review-specialist": {
      "mcp_access": "ENHANCED",
      "primary_tools": ["serena"],
      "secondary_tools": ["memory", "context7"],
      "utilization_target": "90%",
      "capabilities": [
        "mcp__serena__find_symbol",
        "mcp__serena__find_referencing_symbols",
        "mcp__serena__search_for_pattern",
        "mcp__serena__get_symbols_overview",
        "mcp__serena__think_about_collected_information"
      ],
      "specialization": "통합 코드 품질 검토 + 코드리뷰 결과 분석"
    },

    "debugger-specialist": {
      "mcp_access": "ENHANCED",
      "primary_tools": ["serena"],
      "secondary_tools": ["memory", "tavily", "brave-search"],
      "utilization_target": "85%",
      "capabilities": [
        "mcp__serena__find_referencing_symbols",
        "mcp__serena__search_for_pattern",
        "mcp__serena__find_symbol",
        "mcp__serena__get_symbols_overview",
        "mcp__serena__think_about_collected_information",
        "mcp__tavily__tavily-search",
        "mcp__brave-search__brave_web_search"
      ],
      "specialization": "근본 원인 분석 및 버그 해결 전문가"
    },

    "security-specialist": {
      "mcp_access": "ENHANCED",
      "primary_tools": ["serena", "supabase"],
      "secondary_tools": ["memory", "tavily", "brave-search"],
      "utilization_target": "90%",
      "capabilities": [
        "mcp__supabase__get_advisors",
        "mcp__serena__search_for_pattern",
        "mcp__serena__find_symbol",
        "mcp__serena__find_referencing_symbols",
        "mcp__serena__think_about_collected_information",
        "mcp__tavily__tavily-search",
        "mcp__brave-search__brave_web_search"
      ],
      "specialization": "종합 보안 전문가, 포트폴리오 적합 실용적 보안 검증"
    },

    "test-automation-specialist": {
      "mcp_access": "ENHANCED",
      "primary_tools": ["playwright", "serena"],
      "secondary_tools": ["memory"],
      "utilization_target": "85%",
      "capabilities": [
        "mcp__playwright__browser_navigate",
        "mcp__playwright__browser_snapshot",
        "mcp__playwright__browser_click",
        "mcp__serena__get_symbols_overview",
        "mcp__serena__find_symbol",
        "mcp__serena__find_referencing_symbols",
        "mcp__serena__execute_shell_command",
        "mcp__serena__think_about_collected_information"
      ],
      "specialization": "테스트 자동화, Vitest + Playwright E2E 전문"
    },

    "documentation-manager": {
      "mcp_access": "ENHANCED",
      "primary_tools": ["memory", "context7", "serena"],
      "secondary_tools": [],
      "utilization_target": "80%",
      "capabilities": [
        "mcp__context7__get_library_docs",
        "mcp__memory__create_entities",
        "mcp__serena__list_dir",
        "mcp__serena__search_for_pattern",
        "mcp__serena__write_memory",
        "mcp__serena__read_memory"
      ],
      "specialization": "JBGE 원칙 기반 문서 관리, Mermaid 아키텍처 다이어그램"
    },

    "ui-ux-specialist": {
      "mcp_access": "ENHANCED",
      "primary_tools": ["shadcn-ui", "serena"],
      "secondary_tools": ["memory", "sequential-thinking"],
      "utilization_target": "80%",
      "capabilities": [
        "mcp__shadcn-ui__get_component",
        "mcp__serena__get_symbols_overview",
        "mcp__serena__find_symbol",
        "mcp__serena__find_referencing_symbols",
        "mcp__serena__write_memory",
        "mcp__serena__read_memory",
        "mcp__memory__create_entities",
        "mcp__sequential-thinking__sequentialthinking"
      ],
      "specialization": "UI/UX 전문가, 디자인 시스템 구축, 사용자 경험 최적화"
    },

    "performance-specialist": {
      "mcp_access": "ENHANCED",
      "primary_tools": ["serena", "playwright"],
      "secondary_tools": ["memory"],
      "utilization_target": "85%",
      "capabilities": [
        "mcp__serena__find_symbol",
        "mcp__serena__find_referencing_symbols",
        "mcp__serena__get_symbols_overview",
        "mcp__serena__search_for_pattern",
        "mcp__playwright__browser_navigate",
        "mcp__playwright__browser_snapshot"
      ],
      "specialization": "Next.js 성능 최적화, Core Web Vitals, 번들 최적화"
    }
  },

  "utilization_improvement_strategy": {
    "current_state": {
      "mcp_utilization": "100%",
      "fully_working_servers": 12,
      "task_enabled_agents": 7,
      "mcp_enabled_agents": 7,
      "status": "최적화 완료 - 7개 서브에이전트 모두 MCP 도구 활용"
    },

    "achievement": {
      "mcp_utilization": "100% (완전 달성)",
      "mapping_accuracy": "100%",
      "agent_optimization": "12개 → 7개 (42% 최적화)",
      "historic_milestone": "7개 서브에이전트 최적화 + MCP 12/12 서버 정상 연결"
    }
  },

  "auto_trigger_rules": {
    "agent_triggers": {
      "코드 리뷰": "code-review-specialist",
      "버그": "debugger-specialist",
      "보안": "security-specialist",
      "테스트": "test-automation-specialist",
      "문서": "documentation-manager",
      "UI": "ui-ux-specialist",
      "UX": "ui-ux-specialist",
      "성능": "performance-specialist"
    },

    "fallback_strategy": {
      "mcp_server_failure": "대안 MCP 서버 자동 선택",
      "agent_unavailable": "Claude Code 직접 처리"
    }
  }
}
