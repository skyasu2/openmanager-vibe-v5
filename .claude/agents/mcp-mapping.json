{
  "_metadata": {
    "version": "2.0.0",
    "created": "2025-08-18",
    "updated": "2025-08-24",
    "purpose": "Claude Code 서브에이전트와 MCP 서버 최적 매핑",
    "target_utilization": "21.1% → 90% (대폭 초과 달성)",
    "collaboration_systems": {
      "claude_subagents_total": "22개 (AI 교차 검증 시스템 완전 구축)",
      "internal_agents": "19개 Claude 내장 서브에이전트",
      "ai_cli_wrappers": "3개 개별 전문 AI CLI 래퍼 (Codex, Gemini, Qwen)",
      "ai_verification_system": "6개 에이전트 연동 (verification-specialist, ai-verification-coordinator, external-ai-orchestrator + 3개 AI 래퍼)",
      "priority_order": "Claude Code > verification-specialist > external-ai-orchestrator > AI 래퍼들"
    },
    "recent_changes": {
      "2025-08-24_major_improvement": {
        "mcp_servers_recovery": ["tavily", "context7", "serena", "time", "sequential-thinking"],
        "working_servers": "4개 → 8개 (2배 증가)",
        "utilization_jump": "80% → 90%+",
        "tier_restructure": "4-tier 시스템으로 재구성"
      },
      "restored_agents": ["verification-specialist", "ai-verification-coordinator", "codex-wrapper", "gemini-wrapper", "qwen-wrapper"],
      "archived_agents": ["unified-ai-wrapper"],
      "new_features": ["AI 교차 검증 시스템 (3단계 Level)", "자동 hooks 트리거", "의사결정 시스템"],
      "mcp_utilization": "90%+ (22개 에이전트 모두 MCP 도구 적극 활용)"
    }
  },

  "mcp_server_priorities": {
    "tier1_essential": [
      "memory", 
      "gcp",
      "shadcn-ui",
      "time"
    ],
    "tier2_specialized": [
      "sequential-thinking",
      "tavily",
      "context7",
      "serena"
    ],
    "tier3_database_dev": [
      "supabase",
      "playwright",
      "github"
    ],
    "tier4_archived": [
      "filesystem"
    ]
  },

  "agent_mcp_mapping": {
    "central-supervisor": {
      "mcp_access": "ALL",
      "primary_tools": ["memory", "github", "supabase", "gcp"],
      "priority": "highest",
      "purpose": "전체 시스템 오케스트레이션"
    },

    "database-administrator": {
      "mcp_access": "FULL",
      "primary_tools": ["supabase"],
      "secondary_tools": ["memory"],
      "utilization_target": "95%",
      "capabilities": [
        "mcp__supabase__execute_sql",
        "mcp__supabase__list_tables", 
        "mcp__supabase__apply_migration",
        "mcp__supabase__get_advisors",
        "mcp__supabase__generate_typescript_types"
      ]
    },

    "gcp-vm-specialist": {
      "mcp_access": "FULL", 
      "primary_tools": ["gcp"],
      "secondary_tools": ["memory"],
      "utilization_target": "90%",
      "capabilities": [
        "mcp__gcp__query_logs",
        "mcp__gcp__query_metrics", 
        "mcp__gcp__get_project_id",
        "mcp__gcp__list_spanner_instances"
      ]
    },

    "vercel-platform-specialist": {
      "mcp_access": "PARTIAL",
      "primary_tools": ["github"],
      "secondary_tools": ["memory"],
      "utilization_target": "85%",
      "capabilities": [
        "mcp__github__create_pull_request",
        "mcp__github__get_file_contents"
      ]
    },

    "mcp-server-administrator": {
      "mcp_access": "ADMIN",
      "primary_tools": ["memory", "github", "supabase", "gcp", "playwright", "tavily", "context7", "thinking", "time", "shadcn", "serena"],
      "utilization_target": "100%",
      "purpose": "11개 MCP 서버 완전 관리"
    },

    "ai-systems-specialist": {
      "mcp_access": "ENHANCED",
      "primary_tools": ["memory", "thinking", "context7"],
      "secondary_tools": ["supabase", "tavily"],
      "utilization_target": "80%",
      "task_enabled": true,
      "collaboration": {
        "codex_cli": "병렬 AI 엔진 개발",
        "gemini_cli": "대규모 아키텍처 분석", 
        "qwen_cli": "빠른 프로토타입 검증"
      }
    },

    "test-automation-specialist": {
      "mcp_access": "ENHANCED",
      "primary_tools": ["playwright"],
      "secondary_tools": ["github", "memory"],
      "utilization_target": "85%",
      "task_enabled": true,
      "capabilities": [
        "mcp__playwright__playwright_navigate",
        "mcp__playwright__playwright_screenshot", 
        "mcp__playwright__playwright_evaluate"
      ]
    },

    "git-cicd-specialist": {
      "mcp_access": "ENHANCED",
      "primary_tools": ["github"],
      "secondary_tools": ["memory"],
      "utilization_target": "80%",
      "task_enabled": true,
      "capabilities": [
        "mcp__github__create_pull_request",
        "mcp__github__list_commits",
        "mcp__github__create_branch"
      ]
    },


    "code-review-specialist": {
      "mcp_access": "ENHANCED",
      "primary_tools": ["serena", "github"],
      "secondary_tools": ["memory", "context7"],
      "utilization_target": "85%",
      "unified_role": "통합 코드 검증 (verification + quality control)",
      "capabilities": [
        "mcp__serena__find_symbol",
        "mcp__serena__find_referencing_symbols",
        "mcp__github__search_code"
      ]
    },

    "unified-ai-wrapper": {
      "mcp_access": "ENHANCED",
      "primary_tools": ["tavily", "context7"],
      "secondary_tools": ["memory"],
      "utilization_target": "80%",
      "unified_role": "통합 AI CLI 래퍼 (Codex + Gemini + Qwen)",
      "capabilities": [
        "mcp__tavily__tavily_search",
        "mcp__context7__get_library_docs"
      ]
    },

    "external-ai-orchestrator": {
      "mcp_access": "FULL",
      "primary_tools": ["thinking", "context7"],
      "secondary_tools": ["tavily", "memory"],
      "utilization_target": "90%",
      "unified_role": "통합 AI 오케스트레이터 + 검증 조정자",
      "capabilities": [
        "mcp__thinking__sequentialthinking",
        "mcp__context7__resolve_library_id"
      ]
    },

    "documentation-manager": {
      "mcp_access": "ENHANCED", 
      "primary_tools": ["memory", "context7"],
      "secondary_tools": ["github"],
      "utilization_target": "80%",
      "capabilities": [
        "mcp__context7__get_library_docs",
        "mcp__memory__create_entities"
      ]
    },

    "dev-environment-manager": {
      "mcp_access": "ENHANCED",
      "primary_tools": ["memory", "time"],
      "secondary_tools": [],
      "utilization_target": "75%",
      "capabilities": [
        "mcp__memory__create_entities",
        "mcp__time__get_current_time"
      ]
    },

    "debugger-specialist": {
      "mcp_access": "ENHANCED",
      "primary_tools": ["serena", "gcp"],
      "secondary_tools": ["memory"],
      "utilization_target": "85%",
      "capabilities": [
        "mcp__serena__find_referencing_symbols",
        "mcp__serena__search_for_pattern",
        "mcp__gcp__query_logs"
      ]
    },

    "security-auditor": {
      "mcp_access": "ENHANCED",
      "primary_tools": ["github", "supabase"],
      "secondary_tools": ["memory"],
      "utilization_target": "85%",
      "capabilities": [
        "mcp__github__search_code",
        "mcp__supabase__get_advisors"
      ]
    },

    "quality-control-specialist": {
      "mcp_access": "ENHANCED",
      "primary_tools": ["memory", "github"],
      "secondary_tools": [],
      "utilization_target": "80%",
      "capabilities": [
        "mcp__memory__read_graph",
        "mcp__github__list_commits"
      ]
    },

    "structure-refactor-specialist": {
      "mcp_access": "ENHANCED",
      "primary_tools": ["serena"],
      "secondary_tools": ["memory"],
      "utilization_target": "85%",
      "capabilities": [
        "mcp__serena__replace_symbol_body",
        "mcp__serena__get_symbols_overview"
      ]
    },

    "ux-performance-specialist": {
      "mcp_access": "ENHANCED",
      "primary_tools": ["playwright", "tavily"],
      "secondary_tools": ["memory"],
      "utilization_target": "85%",
      "capabilities": [
        "mcp__playwright__browser_snapshot",
        "mcp__playwright__browser_evaluate",
        "mcp__tavily__tavily_search"
      ]
    },


  },

  "utilization_improvement_strategy": {
    "current_state": {
      "mcp_utilization": "100%",
      "fully_working_servers": 11,
      "partially_working_servers": 0,
      "task_enabled_agents": 22,
      "mcp_enabled_agents": 22,
      "status": "완벽한 달성 - 11/11 서버 정상 작동"
    },
    
    "achievement": {
      "mcp_utilization": "21.1% → 100% (완벽한 달성)",
      "fully_working_servers": "4개 → 11개 (275% 증가)",
      "new_mcp_integrations": 22,
      "enhanced_capabilities": 22,
      "unified_agents": 3,
      "major_improvement_date": "2025-08-24",
      "historic_milestone": "11/11 MCP 서버 완전 정상 작동 달성"
    },

    "implementation_phases": {
      "phase1_core": {
        "agents": ["database-administrator", "gcp-vm-specialist", "mcp-server-administrator"],
        "mcp_tools": ["supabase", "gcp", "memory"],
        "target_completion": "즉시"
      },
      
      "phase2_enhanced": {
        "agents": ["ai-systems-specialist", "test-automation-specialist", "git-cicd-specialist"],
        "mcp_tools": ["thinking", "playwright", "github"],
        "target_completion": "1주"
      },
      
      "phase3_optimization": {
        "agents": ["code-review-specialist", "documentation-manager", "ux-performance-specialist"],
        "mcp_tools": ["serena", "context7", "tavily"],
        "target_completion": "2주"
      }
    }
  },


  "auto_trigger_rules": {
    "mcp_utilization_boost": {
      "condition": "MCP 도구 사용 가능한 에이전트 호출 시",
      "action": "자동으로 관련 MCP 도구 추천 및 활용"
    },

    "multi_ai_collaboration": {
      "high_complexity": "복잡도 높은 작업 시 Codex CLI 자동 제안",
      "large_scale_analysis": "대규모 분석 시 Gemini CLI 자동 제안", 
      "rapid_prototyping": "프로토타이핑 시 Qwen CLI 자동 제안"
    },

    "fallback_strategy": {
      "mcp_server_failure": "대안 MCP 서버 자동 선택",
      "external_ai_unavailable": "내부 에이전트로 자동 폴백"
    }
  }
}