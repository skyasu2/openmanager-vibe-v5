# npm cache-max ê²½ê³  ìˆ˜ì • ë³´ê³ ì„œ

**ì‘ì„±ì¼**: 2025-08-01
**ì‘ì„±ì**: Claude Code

## ğŸ” ë¬¸ì œ ë¶„ì„

### ì¦ìƒ

```
npm warn config cache-max This option has been deprecated in favor of `--prefer-online`
```

ëª¨ë“  npm ëª…ë ¹ì–´ ì‹¤í–‰ ì‹œ ìœ„ ê²½ê³  ë©”ì‹œì§€ê°€ ë°˜ë³µì ìœ¼ë¡œ ì¶œë ¥ë¨

### ì›ì¸

- `.npmrc` íŒŒì¼ì— `cache-max=86400000` ì„¤ì •ì´ í¬í•¨ë˜ì–´ ìˆìŒ
- npm v7 ì´ìƒì—ì„œ `cache-max` ì˜µì…˜ì´ deprecatedë¨
- í˜„ì¬ npm ë²„ì „: 10.9.2

### ì˜í–¥

- ê¸°ëŠ¥ì  ì˜í–¥ì€ ì—†ìœ¼ë‚˜ ëª¨ë“  npm ëª…ë ¹ì–´ì—ì„œ ê²½ê³  ì¶œë ¥
- CI/CD ë¡œê·¸ ê°€ë…ì„± ì €í•˜
- ê°œë°œì ê²½í—˜(DX) ì €í•˜

## âœ… í•´ê²° ë°©ë²•

### 1. ê¸°ì¡´ ì„¤ì • ë¶„ì„

```ini
# ê¸°ì¡´ .npmrc (ë¬¸ì œ ë¶€ë¶„)
prefer-offline=true    # ì˜¤í”„ë¼ì¸ ìš°ì„  ì •ì±… (ìœ ì§€)
cache-max=86400000     # 24ì‹œê°„ ìºì‹œ (ì œê±° í•„ìš”)
```

### 2. ê°œì„ ëœ ì„¤ì •

```ini
# ìºì‹œ ìµœì í™”
prefer-offline=true

# ë„¤íŠ¸ì›Œí¬ ì•ˆì •ì„± ê°œì„  (ì¶”ê°€)
fetch-retries=3
fetch-retry-mintimeout=10000
fetch-retry-maxtimeout=60000
```

### ë³€ê²½ ì‚¬í•­

1. **ì œê±°**: `cache-max=86400000` - deprecated ì˜µì…˜ ì œê±°
2. **ìœ ì§€**: `prefer-offline=true` - ë™ì¼í•œ ìºì‹œ í™œìš© íš¨ê³¼
3. **ì¶”ê°€**: ë„¤íŠ¸ì›Œí¬ ì¬ì‹œë„ ì„¤ì •ìœ¼ë¡œ ì•ˆì •ì„± í–¥ìƒ

## ğŸ“Š ê°œì„  íš¨ê³¼

### ì¦‰ê°ì  íš¨ê³¼

- âœ… npm ê²½ê³  ë©”ì‹œì§€ ì™„ì „ ì œê±°
- âœ… CI/CD ë¡œê·¸ í´ë¦°
- âœ… ê°œë°œì ê²½í—˜ ê°œì„ 

### ì„±ëŠ¥ ì˜í–¥

- ë³€í™” ì—†ìŒ (`prefer-offline`ì´ ë™ì¼í•œ ì—­í•  ìˆ˜í–‰)
- ë„¤íŠ¸ì›Œí¬ ë¶ˆì•ˆì • ì‹œ ì¬ì‹œë„ë¡œ ì¸í•œ ì•ˆì •ì„± í–¥ìƒ

## ğŸ”§ ì¶”ê°€ ìµœì í™” ì˜µì…˜

### ê³ ë ¤í•  ìˆ˜ ìˆëŠ” ì¶”ê°€ ì„¤ì •

```ini
# ë ˆì§€ìŠ¤íŠ¸ë¦¬ ìµœì í™”
registry=https://registry.npmjs.org/

# íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì†ë„ í–¥ìƒ
install-strategy=hoisted

# ì§„í–‰ í‘œì‹œ ë¹„í™œì„±í™” (CI/CDìš©)
progress=false
```

## ğŸ“ npm ìºì‹œ ì •ì±… ë³€í™”

### npm v6 ì´ì „

- `cache-max`: ìºì‹œ ìœ íš¨ ì‹œê°„ ì„¤ì •
- `cache-min`: ìµœì†Œ ìºì‹œ ì‹œê°„ ì„¤ì •

### npm v7 ì´í›„

- `prefer-offline`: ìºì‹œ ìš°ì„  ì‚¬ìš©
- `prefer-online`: í•­ìƒ ìµœì‹  ë²„ì „ í™•ì¸
- ìºì‹œ ê´€ë¦¬ê°€ ìë™í™”ë˜ì–´ ì‹œê°„ ê¸°ë°˜ ì„¤ì • ë¶ˆí•„ìš”

## ğŸ¯ ê¶Œì¥ì‚¬í•­

1. **ê°œë°œ í™˜ê²½**: `prefer-offline=true` ìœ ì§€ (ë¹ ë¥¸ ì„¤ì¹˜)
2. **CI/CD**: `prefer-online=true` ê³ ë ¤ (í•­ìƒ ìµœì‹ )
3. **ëª¨ë‹ˆí„°ë§**: ì •ê¸°ì ìœ¼ë¡œ deprecated ì˜µì…˜ í™•ì¸

## ğŸ“š ì°¸ê³  ìë£Œ

- [npm config documentation](https://docs.npmjs.com/cli/v10/using-npm/config)
- [npm v7 breaking changes](https://github.com/npm/cli/blob/latest/changelogs/CHANGELOG-7.md)
