# Issue Report: 2025-01-29-00-21 - MEDIUM

## Summary
í”„ë¡œì íŠ¸ ì „ì²´ í”Œë«í¼ ìƒíƒœ ì ê²€ ë° ë¬´ë£Œ í‹°ì–´ ì‚¬ìš©ëŸ‰ ë¶„ì„ ì™„ë£Œ. ëª¨ë“  ì„œë¹„ìŠ¤ê°€ ìš´ì˜ ì¤‘ì´ë‚˜ ì¼ë¶€ ìµœì í™” í•„ìš”.

## Platform Status Report

### 1. Vercel (Frontend)
- **ë°°í¬ URL**: https://openmanager-vibe-v5.vercel.app
- **ìƒíƒœ**: âœ… ì •ìƒ ìš´ì˜ ì¤‘ (HTTP 307, 157ms ì‘ë‹µ)
- **API Health**: âœ… ëª¨ë“  ì„œë¹„ìŠ¤ operational
- **ë²„ì „**: 5.44.3
- **ë¬´ë£Œ í‹°ì–´ ì‚¬ìš©ëŸ‰**: ì˜ˆìƒ 30% (100GB ëŒ€ì—­í­ ì¤‘)

### 2. Supabase (Database)
- **API URL**: https://vnswjnltnhpsueosfhmw.supabase.co
- **ìƒíƒœ**: âœ… ì •ìƒ (401 ì‘ë‹µì€ ì¸ì¦ í•„ìš”ë¡œ ì •ìƒ)
- **í”„ë¡œì íŠ¸ ID**: vnswjnltnhpsueosfhmw
- **ì—°ê²° ì •ë³´**:
  - Pooler: aws-0-ap-southeast-1.pooler.supabase.com:6543
  - Direct: aws-0-ap-southeast-1.pooler.supabase.com:5432
- **ë¬´ë£Œ í‹°ì–´ ì‚¬ìš©ëŸ‰**: ì˜ˆìƒ 3% (500MB ì¤‘)

### 3. Upstash Redis (Cache)
- **URL**: https://charming-condor-46598.upstash.io
- **ìƒíƒœ**: âœ… ì •ìƒ (PONG ì‘ë‹µ)
- **ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰**: 0B / 64MB (0%)
- **ë¬´ë£Œ í‹°ì–´**: 256MB ì œí•œ ì¤‘ 64MBë§Œ í• ë‹¹ë¨
- **ì¼ì¼ ìš”ì²­ í•œë„**: 10,000 commands/day

### 4. GCP Functions (Backend API)
- **í”„ë¡œì íŠ¸**: openmanager-free-tier
- **ë¦¬ì „**: asia-northeast3
- **í•¨ìˆ˜ ìƒíƒœ**:
  - enhanced-korean-nlp: âš ï¸ 400 ì—ëŸ¬ (1.24s)
  - ml-analytics-engine: âš ï¸ 400 ì—ëŸ¬ (6.00s)
  - unified-ai-processor: âš ï¸ 400 ì—ëŸ¬ (1.59s)
  - ai-gateway: âœ… 405 (GET ë¯¸ì§€ì›, ì •ìƒ)
  - rule-engine: âœ… 405 (GET ë¯¸ì§€ì›, ì •ìƒ)
- **ë¬´ë£Œ í‹°ì–´**: 2ë°±ë§Œ ìš”ì²­/ì›”, 400,000 GB-ì´ˆ

## Environment Variables Setup

### í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜ (í”„ë¡œë•ì…˜)
```bash
# Vercel Dashboardì—ì„œ ì„¤ì •
NEXT_PUBLIC_SITE_URL=https://openmanager-vibe-v5.vercel.app
NEXTAUTH_URL=https://openmanager-vibe-v5.vercel.app

# Supabase
SUPABASE_URL=https://vnswjnltnhpsueosfhmw.supabase.co
NEXT_PUBLIC_SUPABASE_URL=https://vnswjnltnhpsueosfhmw.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=[anon_key]
SUPABASE_SERVICE_ROLE_KEY=[service_role_key]

# Redis
UPSTASH_REDIS_REST_URL=https://charming-condor-46598.upstash.io
UPSTASH_REDIS_REST_TOKEN=[token]

# GCP
GCP_PROJECT_ID=openmanager-free-tier
GCP_REGION=asia-northeast3
GCP_FUNCTION_BASE_URL=https://asia-northeast3-openmanager-free-tier.cloudfunctions.net

# GitHub OAuth
GITHUB_CLIENT_ID=[client_id]
GITHUB_CLIENT_SECRET=[client_secret]
NEXTAUTH_SECRET=[secure_random_string]

# Google AI
GOOGLE_AI_API_KEY=[api_key]
GOOGLE_AI_MODEL=gemini-2.0-flash
```

### ë¡œì»¬ ê°œë°œ í™˜ê²½
```bash
# .env.local íŒŒì¼
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXTAUTH_URL=http://localhost:3000
DEVELOPMENT_MODE=true
LOCAL_DEVELOPMENT=true
```

## ë¬´ë£Œ í‹°ì–´ ìµœì í™” ê¶Œì¥ì‚¬í•­

### 1. Redis ë©”ëª¨ë¦¬ í™œìš©
- í˜„ì¬ 0B ì‚¬ìš© ì¤‘ â†’ ìºì‹± ì „ëµ êµ¬í˜„ í•„ìš”
- ê¶Œì¥: ìì£¼ ì‚¬ìš©ë˜ëŠ” API ì‘ë‹µ ìºì‹±
- TTL: 5-15ë¶„ ì„¤ì •ìœ¼ë¡œ ë©”ëª¨ë¦¬ íš¨ìœ¨í™”

### 2. GCP Functions ìµœì í™”
- Python í•¨ìˆ˜ë“¤ì˜ 400 ì—ëŸ¬ í•´ê²° í•„ìš”
- Cold start ìµœì†Œí™”ë¥¼ ìœ„í•œ ì›Œë°ì—… ì „ëµ
- ë©”ëª¨ë¦¬ ì œí•œ: 256MBë¡œ ì„¤ì •

### 3. Vercel ëŒ€ì—­í­ ê´€ë¦¬
- ì •ì  ìì‚° CDN ìºì‹± ê°•í™”
- ì´ë¯¸ì§€ ìµœì í™” (next/image í™œìš©)
- API ì‘ë‹µ ì••ì¶• í™œì„±í™”

### 4. Supabase ì¿¼ë¦¬ ìµœì í™”
- Row Level Security (RLS) ì •ì±… ê²€í† 
- ì¸ë±ìŠ¤ ìµœì í™”
- Connection pooling í™œìš©

## ë°°í¬ ëª…ë ¹ì–´

### Vercel ë°°í¬
```bash
# í”„ë¦¬ë·° ë°°í¬
vercel

# í”„ë¡œë•ì…˜ ë°°í¬
vercel --prod

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
vercel env add VARIABLE_NAME
```

### GCP Functions ë°°í¬
```bash
# ëª¨ë“  í•¨ìˆ˜ ë°°í¬
cd gcp-functions
./deployment/deploy-all.sh

# ê°œë³„ í•¨ìˆ˜ ë°°í¬
gcloud functions deploy enhanced-korean-nlp \
  --runtime python311 \
  --trigger-http \
  --allow-unauthenticated \
  --region asia-northeast3 \
  --memory 256MB \
  --timeout 60s
```

## ëª¨ë‹ˆí„°ë§ ìŠ¤í¬ë¦½íŠ¸

```bash
# ì‹œìŠ¤í…œ ì „ì²´ ìƒíƒœ
npm run system:status

# Redis ìƒíƒœ
npm run redis:test

# GCP í• ë‹¹ëŸ‰
npm run gcp:check

# ë¬´ë£Œ í‹°ì–´ ë¶„ì„
npm run analyze:free-tier
```

## ì ‘ì† ì •ë³´ ìš”ì•½

- **í”„ë¡œë•ì…˜ URL**: https://openmanager-vibe-v5.vercel.app
- **Supabase Dashboard**: https://app.supabase.com/project/vnswjnltnhpsueosfhmw
- **Upstash Console**: https://console.upstash.com
- **GCP Console**: https://console.cloud.google.com/project/openmanager-free-tier
- **Vercel Dashboard**: https://vercel.com/dashboard

## ì¦‰ì‹œ ì¡°ì¹˜ í•„ìš” ì‚¬í•­

1. GCP Python í•¨ìˆ˜ë“¤ì˜ 400 ì—ëŸ¬ ì›ì¸ ì¡°ì‚¬ ë° ìˆ˜ì •
2. Redis ìºì‹± ì „ëµ êµ¬í˜„ìœ¼ë¡œ ì„±ëŠ¥ í–¥ìƒ
3. í™˜ê²½ ë³€ìˆ˜ ë³´ì•ˆ ê°•í™” (íŠ¹íˆ í”„ë¡œë•ì…˜)
4. ë¬´ë£Œ í‹°ì–´ ì‚¬ìš©ëŸ‰ ìë™ ëª¨ë‹ˆí„°ë§ ì„¤ì •

## Prevention
- ì£¼ê°„ ë¬´ë£Œ í‹°ì–´ ì‚¬ìš©ëŸ‰ ì ê²€ ìë™í™”
- GCP Functions í—¬ìŠ¤ì²´í¬ ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€
- Redis ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì•Œë¦¼ ì„¤ì • (80% ì„ê³„ê°’)
- Vercel ëŒ€ì—­í­ ì‚¬ìš©ëŸ‰ ëŒ€ì‹œë³´ë“œ êµ¬ì„±

ğŸ¤– Generated with [Claude Code](https://claude.ai/code)

Co-Authored-By: Claude <noreply@anthropic.com>