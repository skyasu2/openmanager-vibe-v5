{
  "analysis": {
    "timestamp": "2025-08-14T18:37:49.264Z",
    "project": "openmanager-free-tier",
    "region": "asia-northeast3",
    "compute": {
      "vm_instance": {
        "name": "mcp-server",
        "zone": "us-central1-a",
        "machine_type": "e2-micro",
        "status": "RUNNING",
        "estimated_monthly_hours": 744,
        "disk_usage": {
          "boot_disk_gb": 10,
          "additional_disk_gb": 0
        }
      },
      "network": {
        "external_ip": "104.154.205.25",
        "estimated_egress_gb": 0.5
      },
      "usage_percentage": {
        "compute_hours": 100,
        "disk": 33,
        "network": 50
      }
    },
    "functions": {
      "deployed_functions": [
        "ai-gateway",
        "enhanced-korean-nlp",
        "ml-analytics-engine",
        "rag-vector-processor",
        "rule-engine",
        "session-context-manager",
        "unified-ai-processor"
      ],
      "estimated_usage": {
        "monthly_invocations": 50000,
        "memory_allocation_mb": {
          "enhanced-korean-nlp": 512,
          "ml-analytics-engine": 512,
          "unified-ai-processor": 1024
        },
        "avg_execution_time_ms": 2000,
        "total_gb_seconds": 25000
      },
      "usage_percentage": {
        "invocations": 2.5,
        "compute": 6.25,
        "network": 20
      }
    },
    "storage": {
      "buckets": [],
      "estimated_usage": {
        "total_storage_gb": 0.1,
        "monthly_class_a_ops": 100,
        "monthly_class_b_ops": 1000
      },
      "usage_percentage": {
        "storage": 2,
        "class_a": 2,
        "class_b": 2
      }
    },
    "recommendations": []
  },
  "recommendations": [
    {
      "category": "compute",
      "priority": "high",
      "title": "VM 가동 시간 최적화",
      "description": "VM 인스턴스가 24/7 가동 중입니다. 개발 시간에만 가동하도록 스케줄링하여 무료 한도를 절약할 수 있습니다.",
      "actions": [
        "GCP 스케줄러로 업무 시간(9-18시)에만 VM 자동 시작/종료",
        "주말 및 공휴일 자동 종료 설정",
        "개발 완료 후 수동 종료 습관화"
      ],
      "savings": "월 200-300시간 절약 가능"
    },
    {
      "category": "compute",
      "priority": "medium",
      "title": "e2-micro 메모리 최적화",
      "description": "현재 메모리 사용률 52% (509MB/976MB)로 양호하지만 추가 최적화 가능합니다.",
      "actions": [
        "스왑 파일 생성으로 메모리 압박 상황 대비",
        "PM2 메모리 제한 설정 (--max-memory-restart 800M)",
        "불필요한 시스템 서비스 비활성화",
        "Node.js 힙 크기 제한 (--max-old-space-size=768)"
      ],
      "current_status": "PM2 프로세스 1개 정상 실행 중 (59MB 사용)"
    },
    {
      "category": "functions",
      "priority": "low",
      "title": "Cloud Functions 효율성 개선",
      "description": "현재 사용량이 매우 낮아 최적화 여지가 큽니다.",
      "actions": [
        "함수별 메모리 할당 최적화 (최소 필요 메모리로 조정)",
        "콜드 스타트 최소화를 위한 함수 워밍업",
        "빈번하지 않은 함수는 주문형 실행으로 변경",
        "함수 간 공통 라이브러리 모듈화"
      ],
      "potential_savings": "무료 한도의 95% 여유 보유"
    },
    {
      "category": "monitoring",
      "priority": "high",
      "title": "무료 티어 사용량 모니터링",
      "description": "사용량 급증 시 과금 방지를 위한 모니터링 시스템 구축이 필요합니다.",
      "actions": [
        "Cloud Billing API를 통한 실시간 사용량 추적",
        "80% 임계값 도달 시 자동 알림 설정",
        "일일 사용량 리포트 자동 생성",
        "월말 한도 근접 시 자동 서비스 제한"
      ],
      "implementation": "scripts/gcp-quota-monitor.js 스크립트 활용"
    },
    {
      "category": "security",
      "priority": "medium",
      "title": "보안 최적화로 리소스 절약",
      "description": "불필요한 네트워크 트래픽 차단으로 송신 비용을 절약할 수 있습니다.",
      "actions": [
        "방화벽 규칙 최소화 (필요한 포트만 개방)",
        "DDoS 방어 설정으로 무효 트래픽 차단",
        "API 호출 제한 및 인증 강화",
        "로그 수집 최적화 (중요한 로그만 수집)"
      ],
      "current_config": "포트 10000 개방, API 토큰 인증 사용"
    }
  ],
  "riskLevel": {
    "level": "🟡 중간 (MEDIUM)",
    "score": 40,
    "description": "현재는 안전하지만 지속적인 모니터링이 필요합니다."
  },
  "totalScore": 75,
  "nextReviewDate": "2025-08-21T18:37:49.285Z"
}
