# ğŸ¤– AI ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ v3.3.0

> **OpenManager Vibe v5** - 2ëª¨ë“œ ì „ìš© í†µí•© AI ì—”ì§„ ì•„í‚¤í…ì²˜ (2025ë…„ 7ì›” ì—…ë°ì´íŠ¸)

## ğŸ“‹ **ê°œìš”**

OpenManager Vibe v5ì˜ AI ì‹œìŠ¤í…œì€ **2ê°œì˜ ëª…í™•í•œ ìš´ì˜ ëª¨ë“œ**ë¥¼ ì œê³µí•˜ëŠ” í†µí•© AI ì—”ì§„ ì•„í‚¤í…ì²˜ì…ë‹ˆë‹¤. AUTO ëª¨ë“œë¥¼ ì™„ì „íˆ ì œê±°í•˜ì—¬ ë³µì¡ì„±ì„ ì¤„ì´ê³ , ê° ëª¨ë“œëŠ” ëª…í™•í•œ ì²˜ë¦¬ ê²½ë¡œë¥¼ í†µí•´ ìµœì ì˜ ì„±ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

## ğŸ¯ **2ê°œ ìš´ì˜ ëª¨ë“œ (AUTO ëª¨ë“œ ì œê±°)**

### **1. LOCAL ëª¨ë“œ** (ì™„ì „í•œ ë¡œì»¬ ì²˜ë¦¬)

```
ğŸ  LOCAL ëª¨ë“œ - RAG + NLP + MCP + í•˜ìœ„ AI ì—”ì§„
â”œâ”€ Supabase RAG Engine (ë©”ì¸ ì¶”ë¡ )
â”œâ”€ OptimizedKoreanNLPEngine (í•œêµ­ì–´ ì²˜ë¦¬)
â”œâ”€ MCP Context Collector (ì‹¤ì‹œê°„ ì»¨í…ìŠ¤íŠ¸)
â”œâ”€ OpenSource Engines (ë³´ì¡° ì²˜ë¦¬)
â”œâ”€ Custom Engines (íŠ¹í™” ì²˜ë¦¬)
â”œâ”€ í‰ê·  ì‘ë‹µ ì‹œê°„: 2-6ì´ˆ (ë³µì¡ë„ë³„)
â””â”€ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤: ì™„ì „í•œ ë¡œì»¬ í™˜ê²½, í”„ë¼ì´ë²„ì‹œ ì¤‘ì‹œ
```

#### **êµ¬ì„± ìš”ì†Œ**

- **Supabase RAG Engine**: ë©”ì¸ ìì—°ì–´ ì²˜ë¦¬ ë° ì¶”ë¡ 
- **OptimizedKoreanNLPEngine**: 5ë‹¨ê³„ ë³‘ë ¬ ì²˜ë¦¬ í•œêµ­ì–´ NLP
- **MCP Context Collector**: ì‹¤ì‹œê°„ ì‹œìŠ¤í…œ ì»¨í…ìŠ¤íŠ¸ ìˆ˜ì§‘
- **OpenSource Engines**: ì˜¤í”ˆì†ŒìŠ¤ AI ëª¨ë¸ í†µí•©
- **Custom Engines**: íŠ¹í™”ëœ ì»¤ìŠ¤í…€ ì²˜ë¦¬ ì—”ì§„

#### **íŠ¹ì§•**

- ğŸ”’ **ì™„ì „í•œ í”„ë¼ì´ë²„ì‹œ**: ëª¨ë“  ì²˜ë¦¬ê°€ ë¡œì»¬ì—ì„œ ìˆ˜í–‰
- ğŸŒ **ë„¤íŠ¸ì›Œí¬ ë…ë¦½**: ì¸í„°ë„· ì—°ê²° ì—†ì´ë„ ë™ì‘
- ğŸ“Š **í¬ê´„ì  ì²˜ë¦¬**: RAG + NLP + MCP + í•˜ìœ„ AI ì—”ì§„ ëª¨ë‘ í™œìš©
- âš¡ **ìµœì í™”ëœ ì„±ëŠ¥**: ë‹¨ìˆœ(2ì´ˆ), ì¤‘ê°„(4ì´ˆ), ë³µì¡(6ì´ˆ), ë§¤ìš°ë³µì¡(8ì´ˆ)

### **2. GOOGLE_ONLY ëª¨ë“œ** (Google AI + ì„ íƒì  ë¡œì»¬)

```
ğŸš€ GOOGLE_ONLY ëª¨ë“œ - Google AI + ë¡œì»¬ëª¨ë“œ(í•„ìš”í•œ ë¶€ë¶„ë§Œ)
â”œâ”€ Google AI Studio (ë©”ì¸ ì¶”ë¡  ì—”ì§„)
â”œâ”€ Supabase RAG (ë³´ì¡° ì»¨í…ìŠ¤íŠ¸)
â”œâ”€ OptimizedKoreanNLPEngine (í•œêµ­ì–´ ì „ì²˜ë¦¬)
â”œâ”€ MCP Context (í•„ìš”ì‹œë§Œ)
â”œâ”€ í‰ê·  ì‘ë‹µ ì‹œê°„: 1-3ì´ˆ
â””â”€ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤: ê³ ê¸‰ ì¶”ë¡ , ë³µì¡í•œ ë¶„ì„, ì°½ì˜ì  ë¬¸ì œ í•´ê²°
```

#### **êµ¬ì„± ìš”ì†Œ**

- **Google AI Studio**: Gemini ëª¨ë¸ ê¸°ë°˜ ê³ ê¸‰ ì¶”ë¡  (ë©”ì¸)
- **Supabase RAG**: ë³´ì¡° ì»¨í…ìŠ¤íŠ¸ ë° ê²€ì¦
- **OptimizedKoreanNLPEngine**: í•œêµ­ì–´ ì „ì²˜ë¦¬ (í•„ìš”ì‹œ)
- **MCP Context**: ì„ íƒì  ì‹œìŠ¤í…œ ì»¨í…ìŠ¤íŠ¸

#### **íŠ¹ì§•**

- ğŸ§  **ê³ ê¸‰ ì¶”ë¡ **: Google AIì˜ ê°•ë ¥í•œ ì¶”ë¡  ëŠ¥ë ¥
- âš¡ **ë¹ ë¥¸ ì‘ë‹µ**: í´ë¼ìš°ë“œ ì²˜ë¦¬ë¡œ 1-3ì´ˆ ì‘ë‹µ
- ğŸ¯ **ì„ íƒì  ë¡œì»¬**: í•„ìš”í•œ ë¶€ë¶„ë§Œ ë¡œì»¬ ì²˜ë¦¬ ì¶”ê°€
- ğŸ“ˆ **í™•ì¥ì„±**: Google AI ì¸í”„ë¼ í™œìš©

## ğŸ—ï¸ **ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ v3.3.0**

### **ì „ì²´ êµ¬ì¡°ë„**

```mermaid
graph TD
    A[ì‚¬ìš©ì ìš”ì²­] --> B[UnifiedAIEngineRouter v3.3.0]
    B --> C{ëª¨ë“œ ì„ íƒ}

    C -->|LOCAL ëª¨ë“œ| D[LOCAL íŒŒì´í”„ë¼ì¸]
    C -->|GOOGLE_ONLY ëª¨ë“œ| E[GOOGLE_ONLY íŒŒì´í”„ë¼ì¸]

    D --> F[Supabase RAG]
    D --> G[OptimizedKoreanNLP]
    D --> H[MCP Context]
    D --> I[OpenSource Engines]
    D --> J[Custom Engines]

    E --> K[Google AI Studio]
    E --> L[Supabase RAG ë³´ì¡°]
    E --> M[OptimizedKoreanNLP ì „ì²˜ë¦¬]
    E --> N[MCP Context ì„ íƒì ]

    F --> O[ê²°ê³¼ í†µí•©]
    G --> O
    H --> O
    I --> O
    J --> O

    K --> P[ê²°ê³¼ í†µí•©]
    L --> P
    M --> P
    N --> P

    O --> Q[LOCAL ì‘ë‹µ]
    P --> R[GOOGLE_ONLY ì‘ë‹µ]
```

### **í•µì‹¬ êµ¬ì„± ìš”ì†Œ**

#### **1. UnifiedAIEngineRouter v3.3.0**

```typescript
/**
 * ğŸš€ í†µí•© AI ì—”ì§„ ë¼ìš°í„° v3.3 (2ëª¨ë“œ ì „ìš©)
 *
 * í•µì‹¬ ëª¨ë“œ:
 * - LOCAL: RAG + NLP + MCP + í•˜ìœ„ AI ì—”ì§„ (ì™„ì „í•œ ë¡œì»¬ ì²˜ë¦¬)
 * - GOOGLE_ONLY: Google AI + ë¡œì»¬ëª¨ë“œ(í•„ìš”í•œ ë¶€ë¶„ë§Œ)
 *
 * ì œê±°ëœ ê¸°ëŠ¥:
 * - AUTO ëª¨ë“œ ì™„ì „ ì‚­ì œ
 * - ëª¨ë“œ ê°„ ìë™ ì „í™˜ ë¡œì§ ì œê±°
 * - ë³µì¡í•œ ê°€ì¤‘ì¹˜ ì‹œìŠ¤í…œ ë‹¨ìˆœí™”
 */
export class UnifiedAIEngineRouter {
  private currentMode: 'LOCAL' | 'GOOGLE_ONLY' = 'LOCAL';

  async processQuery(request: AIRequest): Promise<AIResponse> {
    const mode = this.normalizeMode(request.mode);

    switch (mode) {
      case 'LOCAL':
        return this.processLocalMode(request);
      case 'GOOGLE_ONLY':
        return this.processGoogleOnlyMode(request);
    }
  }
}
```

#### **2. LOCAL ëª¨ë“œ ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸**

```typescript
private async processLocalMode(request: AIRequest): Promise<AIResponse> {
  const startTime = Date.now();

  try {
    // 1. í•œêµ­ì–´ NLP ì²˜ë¦¬ (ë³‘ë ¬)
    const koreanNLPPromise = this.optimizedKoreanNLP.process(request.query);

    // 2. MCP ì»¨í…ìŠ¤íŠ¸ ìˆ˜ì§‘ (ë³‘ë ¬)
    const mcpContextPromise = this.mcpContextCollector?.collectContext(request.query);

    // 3. Supabase RAG ì²˜ë¦¬ (ë©”ì¸)
    const ragContext = await Promise.all([koreanNLPPromise, mcpContextPromise]);
    const ragResponse = await this.supabaseRAG.generateResponse(
      request.query,
      this.combineContext(ragContext)
    );

    // 4. ë³´ì¡° ì—”ì§„ë“¤ ì²˜ë¦¬ (ë³‘ë ¬)
    const [openSourceResult, customResult] = await Promise.all([
      this.openSourceEngines.process(request.query),
      this.customEngines.process(request.query)
    ]);

    // 5. ê²°ê³¼ í†µí•©
    return this.combineLocalResults(ragResponse, openSourceResult, customResult);

  } catch (error) {
    return this.formatErrorResponse(error, startTime, 'LOCAL');
  }
}
```

#### **3. GOOGLE_ONLY ëª¨ë“œ ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸**

```typescript
private async processGoogleOnlyMode(request: AIRequest): Promise<AIResponse> {
  const startTime = Date.now();

  try {
    // 1. í•œêµ­ì–´ ì „ì²˜ë¦¬ (í•„ìš”ì‹œ)
    const preprocessed = await this.optimizedKoreanNLP.preprocess(request.query);

    // 2. Google AI ë©”ì¸ ì²˜ë¦¬
    const googleResponse = await this.googleAI.generateResponse(
      preprocessed || request.query,
      request.context
    );

    // 3. ë³´ì¡° ì»¨í…ìŠ¤íŠ¸ (ì„ íƒì )
    const supportContext = await Promise.all([
      this.supabaseRAG.getRelevantContext(request.query),
      this.mcpContextCollector?.collectContext(request.query)
    ]);

    // 4. ê²°ê³¼ ê²€ì¦ ë° ë³´ì™„
    return this.enhanceGoogleResponse(googleResponse, supportContext);

  } catch (error) {
    return this.formatErrorResponse(error, startTime, 'GOOGLE_ONLY');
  }
}
```

## âš¡ **ì„±ëŠ¥ ìµœì í™”**

### **LOCAL ëª¨ë“œ ìµœì í™”**

```typescript
// 5ë‹¨ê³„ ë³‘ë ¬ ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸
const performanceTargets = {
  simple: 2000, // ë‹¨ìˆœ ì§ˆì˜: 2ì´ˆ
  medium: 4000, // ì¤‘ê°„ ì§ˆì˜: 4ì´ˆ
  complex: 6000, // ë³µì¡ ì§ˆì˜: 6ì´ˆ
  veryComplex: 8000, // ë§¤ìš° ë³µì¡: 8ì´ˆ
};

// í’ˆì§ˆ ëª©í‘œ
const qualityTargets = {
  confidence: 0.75, // 75% ì´ìƒ ì‹ ë¢°ë„
  accuracy: 0.8, // 80% ì´ìƒ ì •í™•ë„
  completeness: 0.85, // 85% ì´ìƒ ì™„ì„±ë„
};
```

### **GOOGLE_ONLY ëª¨ë“œ ìµœì í™”**

```typescript
// ë¹ ë¥¸ ì‘ë‹µ ìµœì í™”
const googleOptimization = {
  responseTime: 1000, // 1ì´ˆ ëª©í‘œ
  maxTime: 3000, // ìµœëŒ€ 3ì´ˆ
  fallbackTime: 5000, // í´ë°± 5ì´ˆ
  cacheEnabled: true, // ìºì‹± í™œì„±í™”
  streamingEnabled: true, // ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ
};
```

## ğŸ”§ **ì„¤ì • ë° ì‚¬ìš©ë²•**

### **ëª¨ë“œ ë³€ê²½**

```typescript
// í”„ë¡œê·¸ë˜ë° ë°©ì‹
const router = UnifiedAIEngineRouter.getInstance();
router.setMode('LOCAL');        // ë¡œì»¬ ëª¨ë“œ
router.setMode('GOOGLE_ONLY');  // Google AI ëª¨ë“œ

// API í˜¸ì¶œ ë°©ì‹
POST /api/ai/unified-query
{
  "query": "ì„œë²„ ìƒíƒœ í™•ì¸",
  "mode": "LOCAL"  // ë˜ëŠ” "GOOGLE_ONLY"
}
```

### **ì‘ë‹µ êµ¬ì¡°**

```typescript
interface AIResponse {
  success: boolean;
  response: string;
  confidence: number;
  mode: 'LOCAL' | 'GOOGLE_ONLY';
  enginePath: string[];
  processingTime: number;
  fallbacksUsed: number;
  metadata: {
    mainEngine: string;
    supportEngines: string[];
    ragUsed: boolean;
    googleAIUsed: boolean;
    mcpContextUsed: boolean;
    subEnginesUsed: string[];
    isKorean?: boolean;
    qualityScore?: number;
  };
}
```

## ğŸ“Š **ëª¨ë‹ˆí„°ë§ ë° í†µê³„**

### **ì„±ëŠ¥ ë©”íŠ¸ë¦­**

```typescript
interface AIEngineStats {
  successfulRequests: number;
  failedRequests: number;
  averageResponseTime: number;
  lastUpdated: string;
  modeDistribution: {
    LOCAL: number;
    GOOGLE_ONLY: number;
  };
  engineUsage: {
    supabaseRAG: number;
    googleAI: number;
    optimizedKoreanNLP: number;
    openSourceEngines: number;
    customEngines: number;
  };
}
```

### **ìƒíƒœ ì¡°íšŒ**

```typescript
const status = router.getStatus();
console.log(status);
// {
//   router: 'UnifiedAIEngineRouter',
//   version: '3.3.0',
//   mode: 'LOCAL',
//   initialized: true,
//   availableModes: ['LOCAL', 'GOOGLE_ONLY'],
//   stats: { ... },
//   engines: { ... }
// }
```

## ğŸš€ **í–¥í›„ ê³„íš**

### **v3.4 ê³„íš**

- ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ ì§€ì› ê°•í™”
- ìºì‹± ì‹œìŠ¤í…œ ìµœì í™”
- ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ

### **v3.5 ê³„íš**

- ì»¤ìŠ¤í…€ ì—”ì§„ í”ŒëŸ¬ê·¸ì¸ ì‹œìŠ¤í…œ
- ê³ ê¸‰ ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬
- ë©€í‹°ëª¨ë‹¬ ì§€ì› í™•ì¥

---

> **ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025ë…„ 7ì›”  
> **ë²„ì „**: UnifiedAIEngineRouter v3.3.0  
> **ìƒíƒœ**: 2ëª¨ë“œ ì „ìš© ì‹œìŠ¤í…œ ì™„ë£Œ
