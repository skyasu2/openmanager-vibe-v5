# AI êµì°¨ê²€ì¦ ê²°ê³¼: Multi-AI MCP v3.5.1

**ë‚ ì§œ**: 2025-10-07
**ê²€ì¦ ëŒ€ìƒ**: Multi-AI MCP v3.5.1 (Buffer OOM ìˆ˜ì • + 600s íƒ€ì„ì•„ì›ƒ)
**ê²€ì¦ ë°©ë²•**: 3-AI êµì°¨ê²€ì¦ (Codex + Gemini + Qwen)
**ë³µì¡ë„**: High (5ê°œ íŒŒì¼, ìµœê·¼ 3ì»¤ë°‹ ë¶„ì„)

---

## ğŸ“Š 3-AI ì‘ë‹µ ìš”ì•½

### Codex (ì‹¤ë¬´ ì „ë¬¸ê°€) - 9,103 í† í°, 14.4ì´ˆ

**safeStringConvert ê²€í† **:
> Bufferë¥¼ ë¨¼ì € `slice`í•œ ë’¤ `toString`í•˜ëŠ” ë°©ì‹ì€ ì „ì²´ ë°”ì´íŠ¸ë¥¼ ë¬¸ìì—´ë¡œ í’€ì§€ ì•Šì•„ ëŒ€í˜• ë²„í¼ì—ì„œë„ OOMì„ ì˜ˆë°©í•˜ëŠ” ì‹¤ìš©ì ì¸ íŒ¨í„´ì…ë‹ˆë‹¤.
> UTF-8 ë©€í‹°ë°”ì´íŠ¸ ë¬¸ìê°€ ê²½ê³„ì—ì„œ ì˜ë¦´ ìˆ˜ ìˆë‹¤ëŠ” ë¶€ì‘ìš©ì€ ìˆì§€ë§Œ ì˜¤ë¥˜ ë¡œê·¸ ìš©ë„ë¡œëŠ” í—ˆìš© ê°€ëŠ¥í•œ íŠ¸ë ˆì´ë“œì˜¤í”„ì…ë‹ˆë‹¤.
> 10KB ì œí•œì€ ëŒ€ë¶€ë¶„ì˜ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ë‹´ê¸°ì— ì¶©ë¶„í•˜ë©´ì„œ ë¡œê·¸ í­ì£¼ë¥¼ ë§‰ì•„ ê¸°ë³¸ê°’ìœ¼ë¡œ ì ì ˆí•˜ê³ , ë” ê¸´ ì»¨í…ìŠ¤íŠ¸ê°€ í•„ìš”í•˜ë©´ `maxChars` ì¸ìë¡œ ì¡°ì ˆí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**600ì´ˆ íƒ€ì„ì•„ì›ƒ**:
> ëŒ€ë¶€ë¶„ì˜ ì‹¤ë¬´ ì›Œí¬í”Œë¡œì—ì„œëŠ” 600ì´ˆ(10ë¶„) íƒ€ì„ì•„ì›ƒì´ ì§€ë‚˜ì¹˜ê²Œ ê¸¸ì–´ ì‘ì—… íë¦„ì„ ëŠê³  ìƒì‚°ì„±ì„ ë–¨ì–´ëœ¨ë¦½ë‹ˆë‹¤.
> ì‚¬ìš©ìëŠ” ë³´í†µ 2~3ë¶„ ë‚´ ì‘ë‹µì„ ê¸°ëŒ€í•˜ë¯€ë¡œ 10ë¶„ ëŒ€ê¸°ëŠ” ë¶ˆë§Œê³¼ ì´íƒˆë¡œ ì´ì–´ì§ˆ ê°€ëŠ¥ì„±ì´ í½ë‹ˆë‹¤.

**ì ìˆ˜**: 8.5/10
- âœ… Buffer ì²˜ë¦¬ íŒ¨í„´ ìŠ¹ì¸
- âš ï¸ íƒ€ì„ì•„ì›ƒ ê³¼ë„í•¨ ì§€ì 

---

### Gemini (ì•„í‚¤í…ì²˜ ì „ë¬¸ê°€) - 23.4ì´ˆ

**DRY ì›ì¹™ ìœ„ë°˜**:
> ë„¤, `safeStringConvert` í˜¸ì¶œ íŒ¨í„´ì˜ ì¤‘ë³µì€ DRY ì›ì¹™ì— ìœ„ë°°ë˜ë¯€ë¡œ ì¶”ìƒí™”ê°€ í•„ìš”í•©ë‹ˆë‹¤. ê° í´ë¼ì´ì–¸íŠ¸ì˜ ë°˜ë³µì ì¸ try-catchì™€ ì—ëŸ¬ ë¡œê¹…ì„ í¬í•¨í•˜ëŠ” ë˜í¼ í•¨ìˆ˜ë¥¼ ìƒì„±í•˜ì—¬ ì¤‘ë³µì„ ì œê±°í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì—ëŸ¬ ì²˜ë¦¬ ì •ì±…ì„ ì¤‘ì•™ì—ì„œ ê´€ë¦¬í•˜ê³  ì½”ë“œ ìœ ì§€ë³´ìˆ˜ì„±ì„ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**í†µí•© íƒ€ì„ì•„ì›ƒ ì„¤ê³„**:
> í˜„ì¬ì˜ í†µí•© íƒ€ì„ì•„ì›ƒì€ AI ëª¨ë¸ë³„ ì‘ë‹µ ì†ë„ ì°¨ì´ë¥¼ ë°˜ì˜í•˜ì§€ ëª»í•´ ë¹„íš¨ìœ¨ì ì…ë‹ˆë‹¤. ê° AIì˜ íŠ¹ì„±(ì˜ˆ: Gemini-ë¹ ë¦„, Claude-ëŠë¦¼)ì— ë§ì¶° ê°œë³„ íƒ€ì„ì•„ì›ƒì„ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì‹œìŠ¤í…œ ì•ˆì •ì„±ê³¼ íš¨ìœ¨ì„±ì„ ë†’ì´ëŠ” ë” ë‚˜ì€ ì„¤ê³„ì…ë‹ˆë‹¤.

**ì ìˆ˜**: 7/10
- âœ… DRY ì›ì¹™ ìœ„ë°˜ ì •í™•íˆ ì§€ì 
- âœ… í†µí•© íƒ€ì„ì•„ì›ƒ ë¹„íš¨ìœ¨ì„± ë¶„ì„
- âš ï¸ AIë³„ íŠ¹ì„± ë°˜ì˜ í•„ìš”

---

### Qwen (ì„±ëŠ¥ ì „ë¬¸ê°€) - 9.6ì´ˆ

**Buffer.slice ì„±ëŠ¥**:
> `Buffer.slice(0, 10000).toString()`ì€ ì„±ëŠ¥ì´ ê´œì°®ì§€ë§Œ, ì‚¬ìš© ëª©ì ì— ë”°ë¼ ë” íš¨ìœ¨ì ì¸ ë°©ë²•ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> - `slice()`ëŠ” ë³µì‚¬ê°€ ì•„ë‹Œ **ë·°(view)** ë¥¼ ìƒì„±í•˜ë¯€ë¡œ, ë©”ëª¨ë¦¬ ë³µì‚¬ê°€ ë°œìƒí•˜ì§€ ì•Šì•„ íš¨ìœ¨ì ì…ë‹ˆë‹¤.
> - `toString()`ì€ ì§€ì •ëœ ì¸ì½”ë”©(ê¸°ë³¸ UTF-8)ìœ¼ë¡œ ë¬¸ìì—´ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.
> - ë‹¨, `Buffer`ê°€ ë§¤ìš° í¬ê³  `toString()`ìœ¼ë¡œ ë³€í™˜ë˜ëŠ” ë¬¸ìì—´ì´ ì»¤ì§€ë©´ **GC(Garbage Collector)** ì••ë°•ì´ ì»¤ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> - ì •í™•í•œ ì„±ëŠ¥ì€ Node.js ë²„ì „, Buffer í¬ê¸°, ì‚¬ìš© ë¹ˆë„ ë“±ì— ë”°ë¼ ë‹¤ë¦…ë‹ˆë‹¤.
> **ìš”ì•½**: ê´œì°®ì€ ì„±ëŠ¥, ë‹¨ GC ê³ ë ¤ í•„ìš”, ì‹¤ì œ ì‚¬ìš© ìƒí™©ì— ë”°ë¼ ë” ë‚˜ì€ ë°©ë²• ì¡´ì¬ ê°€ëŠ¥.

**ì ìˆ˜**: 8/10
- âœ… Buffer.slice ë·° íŠ¹ì„± ì •í™•íˆ ì„¤ëª…
- âœ… GC ì••ë°• ê²½ê³ 
- â„¹ï¸ ì¶”ê°€ ìµœì í™” ì—¬ì§€ ì–¸ê¸‰

---

## âœ… 3-AI í•©ì˜ í•­ëª© (2+ AI ë™ì˜)

### 1. safeStringConvert êµ¬í˜„ ìŠ¹ì¸ (Codex + Qwen)
- **íŒ¨í„´**: Buffer.slice â†’ toString ìˆœì„œê°€ OOM ë°©ì§€ì— íš¨ê³¼ì 
- **10KB ì œí•œ**: ì—ëŸ¬ ë©”ì‹œì§€ìš©ìœ¼ë¡œ ì ì ˆ
- **ì„±ëŠ¥**: Buffer.sliceëŠ” ë·°(view) ìƒì„±ìœ¼ë¡œ ë©”ëª¨ë¦¬ ë³µì‚¬ ì—†ìŒ

### 2. 600ì´ˆ íƒ€ì„ì•„ì›ƒ ê³¼ë„í•¨ (Codex + Gemini)
- **ì‚¬ìš©ì ê²½í—˜**: 2~3ë¶„ ë‚´ ì‘ë‹µ ê¸°ëŒ€, 10ë¶„ ëŒ€ê¸° ë¶ˆë§Œ ì´ˆë˜
- **ì„¤ê³„ ë¹„íš¨ìœ¨**: AIë³„ ì‘ë‹µ ì†ë„ ì°¨ì´ ë¯¸ë°˜ì˜

---

## âš ï¸ ì¶©ëŒ í•­ëª© (AI ê°„ ì˜ê²¬ ì°¨ì´)

### ì—†ìŒ
ëª¨ë“  AIê°€ í•µì‹¬ ë¬¸ì œì— ëŒ€í•´ ì¼ì¹˜ëœ ì˜ê²¬ ì œì‹œ

---

## ğŸ” ë°œê²¬ëœ ë¬¸ì œì 

### 1. DRY ì›ì¹™ ìœ„ë°˜ (Gemini ì§€ì , Critical)

**í˜„ì¬ ìƒíƒœ**: 3ê°œ AI í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë™ì¼ íŒ¨í„´ ë°˜ë³µ
```typescript
// codex.ts, gemini.ts, qwen.ts ëª¨ë‘ ë™ì¼
const errorOutput = error as { stdout?: string | Buffer; stderr?: string | Buffer };
const stdout = safeStringConvert(errorOutput.stdout);
const stderr = safeStringConvert(errorOutput.stderr) || errorMessage;

return {
  provider: 'xxx',
  response: stdout,
  stderr: stderr || undefined,
  responseTime: Date.now() - startTime,
  success: false,
  error: shortError
};
```

**ì¤‘ë³µ ë°œìƒ ìœ„ì¹˜**:
- `codex.ts`: 149-159ì¤„ (1íšŒ)
- `gemini.ts`: 187-197ì¤„, 205-215ì¤„, 236-245ì¤„ (3íšŒ)
- `qwen.ts`: 184-194ì¤„ (1íšŒ)
- **ì´ 5íšŒ ë°˜ë³µ**

**ë¬¸ì œì **:
- ì—ëŸ¬ ì²˜ë¦¬ ì •ì±… ë³€ê²½ ì‹œ 5ê³³ ìˆ˜ì • í•„ìš”
- íƒ€ì… ìºìŠ¤íŒ… ë¡œì§ ì¤‘ë³µ
- ìœ ì§€ë³´ìˆ˜ì„± ì €í•˜

### 2. í†µí•© íƒ€ì„ì•„ì›ƒì˜ ë¹„íš¨ìœ¨ì„± (Codex + Gemini í•©ì˜, High)

**í˜„ì¬ ìƒíƒœ**: ëª¨ë“  AIê°€ 600ì´ˆ(10ë¶„) ë™ì¼
```typescript
// config.ts: ëª¨ë“  AI simple/medium/complex ë™ì¼
codex: { simple: 600000, medium: 600000, complex: 600000 },
gemini: { simple: 600000, medium: 600000, complex: 600000 },
qwen: { simple: 600000, medium: 600000, complex: 600000 },
```

**ë¬¸ì œì **:
- **ì‚¬ìš©ì ê²½í—˜**: 10ë¶„ ëŒ€ê¸° ë¶ˆê°€ëŠ¥ (2~3ë¶„ ê¸°ëŒ€)
- **AI íŠ¹ì„± ë¬´ì‹œ**: Gemini(ë¹ ë¦„), Codex(ì¤‘ê°„), Qwen(ëŠë¦¼) ì°¨ì´ ë¯¸ë°˜ì˜
- **ë³µì¡ë„ë³„ ì°¨ì´ ì†ì‹¤**: v3.5.0 ì´ì „ì—ëŠ” simple/medium/complex êµ¬ë¶„

**ì‹¤ì œ ì‘ë‹µ ì‹œê°„ (ì´ë²ˆ ê²€ì¦)**:
- Codex: 3.4ì´ˆ (ë‹¨ìˆœ), 14.4ì´ˆ (ë³µì¡)
- Gemini: 18.1ì´ˆ (ë³µì¡), 23.4ì´ˆ (ë§¤ìš° ë³µì¡)
- Qwen: 9.6ì´ˆ (ë‹¨ìˆœ), íƒ€ì„ì•„ì›ƒ (ë§¤ìš° ë³µì¡)

### 3. UTF-8 ê²½ê³„ ë¬¸ì œ (Codex ì–¸ê¸‰, Low)

**í˜„ì¬ ìƒíƒœ**: Buffer.sliceê°€ ë©€í‹°ë°”ì´íŠ¸ ë¬¸ì ì¤‘ê°„ì—ì„œ ìë¥¼ ìˆ˜ ìˆìŒ
```typescript
// buffer.ts:45
const limitedBuffer = isTruncated ? data.slice(0, maxChars) : data;
const str = limitedBuffer.toString('utf8');
```

**ë¬¸ì œì **:
- UTF-8 ë©€í‹°ë°”ì´íŠ¸ ë¬¸ì(í•œê¸€ ë“±)ê°€ ê²½ê³„ì—ì„œ ê¹¨ì§ˆ ìˆ˜ ìˆìŒ
- ì—ëŸ¬ ë©”ì‹œì§€ ëë¶€ë¶„ì— ê¹¨ì§„ ë¬¸ì ì¶œí˜„ ê°€ëŠ¥

**ì˜í–¥ë„**:
- ì—ëŸ¬ ë¡œê·¸ ìš©ë„ë¡œëŠ” í—ˆìš© ê°€ëŠ¥ (Codex ì˜ê²¬)
- ì‹¤ì œ ê¸°ëŠ¥ì— ì˜í–¥ ì—†ìŒ

### 4. GC ì••ë°• (Qwen ì–¸ê¸‰, Medium)

**í˜„ì¬ ìƒíƒœ**: ë§¤ ì—ëŸ¬ë§ˆë‹¤ ìƒˆ Buffer/String ìƒì„±
```typescript
const stdout = safeStringConvert(errorOutput.stdout);
const stderr = safeStringConvert(errorOutput.stderr);
```

**ë¬¸ì œì **:
- ëŒ€ëŸ‰ ì—ëŸ¬ ë°œìƒ ì‹œ GC ì••ë°• ì¦ê°€
- ë©”ëª¨ë¦¬ í• ë‹¹/í•´ì œ ë¹ˆë„ ë†’ìŒ

**ìµœì í™” ê¸°íšŒ**:
- Buffer í’€ë§ (ì¬ì‚¬ìš©)
- ê³ ì • í¬ê¸° ë²„í¼ ì‚¬ì „ í• ë‹¹

---

## ğŸ“ˆ ê¶Œì¥ ê°œì„ ì‚¬í•­

### 1. ì—ëŸ¬ í•¸ë“¤ëŸ¬ ì¶”ìƒí™” (Priority: High)

**ëª©í‘œ**: DRY ì›ì¹™ ì¤€ìˆ˜, 5íšŒ ì¤‘ë³µ ì œê±°

**ì œì•ˆ ì½”ë“œ**:
```typescript
// src/utils/error-handler.ts (ì‹ ê·œ íŒŒì¼)
import { safeStringConvert } from './buffer.js';
import type { AIResponse } from '../types.js';

export function createErrorResponse(
  provider: 'codex' | 'gemini' | 'qwen',
  error: unknown,
  startTime: number,
  errorMessage: string
): AIResponse {
  const errorOutput = error as { stdout?: string | Buffer; stderr?: string | Buffer };
  const stdout = safeStringConvert(errorOutput.stdout);
  const stderr = safeStringConvert(errorOutput.stderr) || errorMessage;

  return {
    provider,
    response: stdout,
    stderr: stderr || undefined,
    responseTime: Date.now() - startTime,
    success: false,
    error: errorMessage.slice(0, 200)
  };
}
```

**ì ìš©**:
```typescript
// codex.ts, gemini.ts, qwen.ts
import { createErrorResponse } from '../utils/error-handler.js';

// Before: 10ì¤„
// After: 1ì¤„
return createErrorResponse('codex', error, startTime, shortError);
```

**íš¨ê³¼**:
- ì½”ë“œ ì¤‘ë³µ 5íšŒ â†’ 0íšŒ
- ì—ëŸ¬ ì²˜ë¦¬ ì •ì±… ì¤‘ì•™ ê´€ë¦¬
- íƒ€ì… ì•ˆì „ì„± í–¥ìƒ (íƒ€ì… ìºìŠ¤íŒ… 1ê³³)

### 2. AIë³„ ê°œë³„ íƒ€ì„ì•„ì›ƒ ë³µì› (Priority: High)

**ëª©í‘œ**: ì‚¬ìš©ì ê²½í—˜ ê°œì„ , AI íŠ¹ì„± ë°˜ì˜

**ì œì•ˆ**:
```typescript
// config.ts
codex: {
  simple: 60000,    // 1ë¶„ (ê¸°ì¡´ 30ì´ˆ â†’ 2ë°° ì—¬ìœ )
  medium: 180000,   // 3ë¶„ (ê¸°ì¡´ 90ì´ˆ â†’ 2ë°° ì—¬ìœ )
  complex: 300000,  // 5ë¶„ (ê¸°ì¡´ 120ì´ˆ â†’ 2.5ë°° ì—¬ìœ )
},
gemini: {
  simple: 30000,    // 30ì´ˆ (ë¹ ë¥¸ ì‘ë‹µ)
  medium: 90000,    // 1.5ë¶„
  complex: 180000,  // 3ë¶„
},
qwen: {
  simple: 90000,    // 1.5ë¶„ (Plan Mode ê³ ë ¤)
  medium: 180000,   // 3ë¶„
  complex: 300000,  // 5ë¶„
},
```

**ê·¼ê±°**:
- Gemini: í‰ê·  18-23ì´ˆ (ê°€ì¥ ë¹ ë¦„)
- Codex: í‰ê·  3-14ì´ˆ (ì¤‘ê°„)
- Qwen: í‰ê·  9ì´ˆ (ë‹¨ìˆœ), ë§¤ìš° ë³µì¡ ì‹œ ê¸´ ì‹œê°„
- ì‹¤ì œ ì‘ë‹µ ì‹œê°„ ëŒ€ë¹„ 1.5-2ë°° ì—¬ìœ 

**í†µì‹  ë‘ì ˆ ê°ì§€**:
- 300ì´ˆ(5ë¶„) ìµœëŒ€ íƒ€ì„ì•„ì›ƒìœ¼ë¡œë„ ì¶©ë¶„
- 600ì´ˆëŠ” ê³¼ë„ (ì‚¬ìš©ì ì´íƒˆ ìœ ë°œ)

### 3. UTF-8 ì•ˆì „ ìŠ¬ë¼ì´ì‹± (Priority: Low)

**ëª©í‘œ**: ë©€í‹°ë°”ì´íŠ¸ ë¬¸ì ê²½ê³„ ë³´í˜¸

**ì œì•ˆ**:
```typescript
// buffer.ts: safeStringConvert ê°œì„ 
function safeSliceUtf8(buffer: Buffer, maxBytes: number): Buffer {
  if (buffer.length <= maxBytes) {
    return buffer;
  }

  // Find last complete UTF-8 character boundary
  let sliceEnd = maxBytes;
  while (sliceEnd > 0 && (buffer[sliceEnd] & 0xC0) === 0x80) {
    sliceEnd--; // Skip continuation bytes
  }

  return buffer.slice(0, sliceEnd);
}

export function safeStringConvert(
  data: string | Buffer | undefined,
  maxChars: number = MAX_ERROR_OUTPUT_CHARS
): string {
  if (!data) return '';
  if (typeof data === 'string') {
    return data.length > maxChars
      ? data.slice(0, maxChars).trim() + '... (truncated)'
      : data.trim();
  }

  // UTF-8 ì•ˆì „ ìŠ¬ë¼ì´ì‹±
  const isTruncated = data.length > maxChars;
  const limitedBuffer = isTruncated ? safeSliceUtf8(data, maxChars) : data;
  const str = limitedBuffer.toString('utf8');

  return isTruncated
    ? str.trim() + '... (truncated)'
    : str.trim();
}
```

**íš¨ê³¼**:
- ë©€í‹°ë°”ì´íŠ¸ ë¬¸ì ê¹¨ì§ ë°©ì§€
- ì—ëŸ¬ ë©”ì‹œì§€ ê°€ë…ì„± í–¥ìƒ
- ë³µì¡ë„ ì†Œí­ ì¦ê°€ (í—ˆìš© ë²”ìœ„)

### 4. Buffer í’€ë§ (Priority: Low, ì„ íƒì )

**ëª©í‘œ**: GC ì••ë°• ê°ì†Œ

**ì œì•ˆ**:
```typescript
// buffer.ts: í’€ë§ ì¶”ê°€ (ê³ ê¸‰ ìµœì í™”)
const bufferPool = new Map<number, Buffer[]>();

function getPooledBuffer(size: number): Buffer {
  const pool = bufferPool.get(size) || [];
  return pool.pop() || Buffer.allocUnsafe(size);
}

function returnToPool(buffer: Buffer): void {
  const size = buffer.length;
  const pool = bufferPool.get(size) || [];
  if (pool.length < 10) { // ìµœëŒ€ 10ê°œ í’€ë§
    pool.push(buffer);
    bufferPool.set(size, pool);
  }
}
```

**íš¨ê³¼**:
- GC ë¹ˆë„ ê°ì†Œ
- ë©”ëª¨ë¦¬ í• ë‹¹ ì˜¤ë²„í—¤ë“œ ê°ì†Œ
- ë³µì¡ë„ ì¦ê°€ (trade-off)

**ì ìš© ì‹œê¸°**:
- ì—ëŸ¬ ë°œìƒ ë¹ˆë„ê°€ ë†’ì€ í™˜ê²½
- í”„ë¡œíŒŒì¼ë§ í›„ ê²°ì • ê¶Œì¥

---

## ğŸ¯ ìš°ì„ ìˆœìœ„ ë¡œë“œë§µ

### Phase 1: Critical (ì¦‰ì‹œ ì ìš©)

1. **ì—ëŸ¬ í•¸ë“¤ëŸ¬ ì¶”ìƒí™”** (1-2ì‹œê°„)
   - `src/utils/error-handler.ts` ì‹ ê·œ ìƒì„±
   - 3ê°œ AI í´ë¼ì´ì–¸íŠ¸ ë¦¬íŒ©í† ë§
   - í…ŒìŠ¤íŠ¸ ì¶”ê°€

2. **íƒ€ì„ì•„ì›ƒ ë³µì›** (30ë¶„)
   - `config.ts` ìˆ˜ì •
   - AIë³„ íŠ¹ì„± ë°˜ì˜ (Gemini < Codex < Qwen)
   - í™˜ê²½ë³€ìˆ˜ ë¬¸ì„œ ì—…ë°ì´íŠ¸

### Phase 2: Important (1ì£¼ì¼ ë‚´)

3. **UTF-8 ì•ˆì „ ìŠ¬ë¼ì´ì‹±** (2-3ì‹œê°„)
   - `safeSliceUtf8` ìœ í‹¸ë¦¬í‹° ì¶”ê°€
   - ìœ ë‹› í…ŒìŠ¤íŠ¸ (í•œê¸€, ì´ëª¨ì§€ ë“±)
   - ë²¤ì¹˜ë§ˆí¬ ì„±ëŠ¥ ê²€ì¦

### Phase 3: Optional (í•„ìš”ì‹œ)

4. **Buffer í’€ë§** (ì„ íƒì )
   - ì—ëŸ¬ ë°œìƒ ë¹ˆë„ ëª¨ë‹ˆí„°ë§
   - GC ì••ë°• ì¸¡ì •
   - ROI ë¶„ì„ í›„ ê²°ì •

---

## ğŸ“Š ê²€ì¦ ë©”íŠ¸ë¦­

### AI ì‘ë‹µ ì„±ê³µë¥ 
- Codex: 2/2 (100%)
- Gemini: 2/2 (100%)
- Qwen: 1/2 (50%, 1íšŒ íƒ€ì„ì•„ì›ƒ)

### ì‘ë‹µ ì‹œê°„
- ìµœë‹¨: Codex 3.4ì´ˆ (ë‹¨ìˆœ ì¿¼ë¦¬)
- í‰ê· : 13.1ì´ˆ
- ìµœì¥: Gemini 23.4ì´ˆ (ë³µì¡ ì¿¼ë¦¬)

### íƒ€ì„ì•„ì›ƒ ë°œìƒ
- ì´ ì¿¼ë¦¬: 6ê°œ (2ì°¨ ë³‘ë ¬ ì‹¤í–‰)
- íƒ€ì„ì•„ì›ƒ: 3ê°œ (ì²« ì‹¤í–‰ ì „ì²´, ë‘ ë²ˆì§¸ Qwen 1íšŒ)
- ì„±ê³µë¥ : 50%

**íƒ€ì„ì•„ì›ƒ ì›ì¸ ë¶„ì„**:
- ì²« ì‹¤í–‰(3ê°œ ëª¨ë‘): ì¿¼ë¦¬ ê³¼ë„í•˜ê²Œ ë³µì¡ (200ì+ ì„¤ëª…)
- ë‘ ë²ˆì§¸ Qwen: ì—¬ì „íˆ ë³µì¡í•œ ë¶„ì„ ìš”êµ¬
- ì„¸ ë²ˆì§¸ Qwen: ë‹¨ìˆœ ì¿¼ë¦¬ë¡œ 9.6ì´ˆ ì„±ê³µ

**êµí›ˆ**:
- ì¿¼ë¦¬ ë³µì¡ë„ê°€ íƒ€ì„ì•„ì›ƒì— ê²°ì •ì  ì˜í–¥
- 200ì ì´í•˜ ë‹¨ìˆœ ì¿¼ë¦¬ ê¶Œì¥ (ë¬¸ì„œ ê°€ì´ë“œ ë°˜ì˜)
- AI íŠ¹ì„±ë³„ íƒ€ì„ì•„ì›ƒ í•„ìš”ì„± ì¬í™•ì¸

---

## ğŸ† v3.5.1 ìµœì¢… í‰ê°€

### ì¥ì  (ìœ ì§€)
- âœ… Buffer.slice â†’ toString íŒ¨í„´ (OOM ë°©ì§€ íš¨ê³¼ì )
- âœ… 10KB ì œí•œ (ì—ëŸ¬ ë©”ì‹œì§€ìš© ì ì ˆ)
- âœ… íƒ€ì… ì•ˆì „ì„± (validateQuery, withRetry ë“±)
- âœ… ë©”ëª¨ë¦¬ ê°€ë“œ (95% critical threshold)

### ë‹¨ì  (ê°œì„  í•„ìš”)
- âš ï¸ DRY ì›ì¹™ ìœ„ë°˜ (5íšŒ ì¤‘ë³µ)
- âš ï¸ 600ì´ˆ íƒ€ì„ì•„ì›ƒ ê³¼ë„ (ì‚¬ìš©ì ê²½í—˜ ì €í•´)
- âš ï¸ AI íŠ¹ì„± ë¯¸ë°˜ì˜ (í†µí•© íƒ€ì„ì•„ì›ƒ)
- â„¹ï¸ UTF-8 ê²½ê³„ ë¬¸ì œ (ë‚®ì€ ìš°ì„ ìˆœìœ„)

### ì¢…í•© ì ìˆ˜
- **ì•ˆì •ì„±**: 8.5/10 (Buffer ì²˜ë¦¬ ìš°ìˆ˜)
- **ì„¤ê³„**: 7/10 (DRY ìœ„ë°˜, íƒ€ì„ì•„ì›ƒ ë¹„íš¨ìœ¨)
- **ì„±ëŠ¥**: 8/10 (Buffer.slice ë·° íš¨ìœ¨ì , GC ì£¼ì˜)
- **ì „ì²´**: 7.8/10

### v3.5.0 â†’ v3.5.1 ë³€í™”
- 300s â†’ 600s: íƒ€ì„ì•„ì›ƒ 2ë°° ì¦ê°€ (âŒ ì—­íš¨ê³¼)
- safeStringConvert: Buffer OOM í•´ê²° (âœ… íš¨ê³¼ì )
- Buffer.slice ìš°ì„ : í•µì‹¬ ê°œì„  (âœ… ì™„ë²½)

---

## ğŸ”— ê´€ë ¨ ì»¤ë°‹

- **94cc126f**: Buffer slice ìš°ì„  ì ìš© (OOM ì™„ì „ ë°©ì§€) âœ…
- **1e97cd91**: Qwen OOM í•´ê²° - safeStringConvert âœ…
- **2d84cdbf**: íƒ€ì„ì•„ì›ƒ 600ì´ˆ ì¦ê°€ âš ï¸

---

## ğŸ“ ë‹¤ìŒ ë‹¨ê³„

1. **ì¦‰ì‹œ ì‹¤í–‰**:
   - [ ] ì—ëŸ¬ í•¸ë“¤ëŸ¬ ì¶”ìƒí™” (`error-handler.ts`)
   - [ ] íƒ€ì„ì•„ì›ƒ ë³µì› (AIë³„ 60/180/300ì´ˆ)

2. **ë¬¸ì„œ ì—…ë°ì´íŠ¸**:
   - [ ] `TIMEOUT_ANALYSIS.md`: 600ì´ˆ â†’ AIë³„ íƒ€ì„ì•„ì›ƒ ê¶Œì¥
   - [ ] `README.md`: ì¿¼ë¦¬ ë³µì¡ë„ ê°€ì´ë“œ ì¶”ê°€
   - [ ] í™˜ê²½ë³€ìˆ˜ ë¬¸ì„œ: ê°œë³„ íƒ€ì„ì•„ì›ƒ ì„¤ì •ë²•

3. **í…ŒìŠ¤íŠ¸ ì¶”ê°€**:
   - [ ] UTF-8 ê²½ê³„ í…ŒìŠ¤íŠ¸ (í•œê¸€, ì´ëª¨ì§€)
   - [ ] ì—ëŸ¬ í•¸ë“¤ëŸ¬ ìœ ë‹› í…ŒìŠ¤íŠ¸
   - [ ] íƒ€ì„ì•„ì›ƒ íšŒê·€ í…ŒìŠ¤íŠ¸

---

**ê²€ì¦ ì™„ë£Œ**: 2025-10-07
**ê²€ì¦ì**: Claude Code (3-AI í˜‘ì—…)
**ìƒíƒœ**: Phase 1 ê°œì„ ì‚¬í•­ ì ìš© ê¶Œì¥
