# π€ λ² λ¥΄μ…€ λ°°ν¬ ν…μ¤νΈ κ°€μ΄λ“

**μ² ν•™**: λ² λ¥΄μ…€μ—μ„ μ§μ ‘ ν…μ¤νΈ κ°€λ¥ν• κ²½μ° κµ³μ΄ λ΅μ»¬μ—μ„ ν…μ¤νΈν•μ§€ λ§ κ²ƒ
**λ©μ **: ν΄λΌμ°λ“ ν™κ²½μ—μ„λ§ μλ―Έ μλ” ν…μ¤νΈλ“¤μ„ ν¨μ¨μ μΌλ΅ κ΄€λ¦¬

## π― ν…μ¤νΈ μ „λµ λ¶„λ¥

### π”΄ λ² λ¥΄μ…€ μ „μ© (Production Testing)

#### 1. **API ν†µν•© ν…μ¤νΈ**
```bash
# β λ΅μ»¬ ν…μ¤νΈ (μλ―Έ μ—†μ)
localhost:3000/api/health  # ν™κ²½λ³€μ, DB μ—°κ²° λ“± λ³µμ΅

# β… λ² λ¥΄μ…€ ν…μ¤νΈ (μ‹¤μ  ν™κ²½)
https://openmanager-vibe-v5.vercel.app/api/health
```

**ν…μ¤νΈ λ€μƒ**:
- `/api/health` - μ‹μ¤ν… ν—¬μ¤μ²΄ν¬
- `/api/metrics` - μ„λ²„ λ©”νΈλ¦­
- `/api/dashboard` - λ€μ‹λ³΄λ“ λ°μ΄ν„°
- `/api/ai/query` - AI μΏΌλ¦¬ μ‹μ¤ν…
- `/api/servers/*` - μ„λ²„ κ΄€λ¦¬ API

#### 2. **Supabase ν†µν•© ν…μ¤νΈ**
```bash
# β… λ² λ¥΄μ…€μ—μ„λ§ μ‹¤ν–‰
# - NEXT_PUBLIC_SUPABASE_URL ν™κ²½λ³€μ
# - SUPABASE_SERVICE_ROLE_KEY λ³΄μ• ν‚¤
# - RLS μ •μ±… μ‹¤μ  μ μ© ν™•μΈ
```

#### 3. **AI μ„λΉ„μ¤ ν†µν•©**
```bash
# β… λ² λ¥΄μ…€μ—μ„λ§ μλ―Έμμ
# - Google AI API ν‚¤
# - Vercel AI SDK ν†µν•©
# - μ‹¤μ  AI μ‘λ‹µ ν…μ¤νΈ
```

### πΆ λ΅μ»¬ μ „μ© (Development Testing)

#### 1. **μμ ν•¨μ ν…μ¤νΈ**
```bash
npm test  # λ΅μ»¬μ—μ„ λΉ λ¥Έ ν”Όλ“λ°±
```

**μ μ§€ν•  ν…μ¤νΈ**:
- μ ν‹Έλ¦¬ν‹° ν•¨μ (`safe-format.test.ts`)
- React μ»΄ν¬λ„νΈ λ λ”λ§ (ν™κ²½λ³€μ λ¬΄κ΄€)
- λΉ„μ¦λ‹μ¤ λ΅μ§ λ‹¨μ„ ν…μ¤νΈ
- νƒ€μ…μ¤ν¬λ¦½νΈ μ»΄νμΌ κ²€μ¦

## π”§ λ² λ¥΄μ…€ λ°°ν¬ ν…μ¤νΈ μ‹¤ν–‰λ²•

### 1. **μλ™ λ°°ν¬ ν…μ¤νΈ**

```bash
# 1. μ½”λ“ ν‘Έμ‹
git push origin main

# 2. λ² λ¥΄μ…€ μλ™ λ°°ν¬ λ€κΈ° (3-5λ¶„)
# 3. λ°°ν¬ μ™„λ£ ν›„ μ‹¤μ  URLμ—μ„ ν…μ¤νΈ
```

### 2. **μλ™ API ν…μ¤νΈ**

```bash
# κΈ°λ³Έ ν—¬μ¤μ²΄ν¬
curl https://openmanager-vibe-v5.vercel.app/api/health

# μ„λ²„ λ©λ΅ μ΅°ν
curl https://openmanager-vibe-v5.vercel.app/api/servers/all

# λ©”νΈλ¦­ λ°μ΄ν„°
curl https://openmanager-vibe-v5.vercel.app/api/metrics

# λ€μ‹λ³΄λ“ λ°μ΄ν„°
curl https://openmanager-vibe-v5.vercel.app/api/dashboard
```

### 3. **Playwright E2E ν…μ¤νΈ**

```bash
# λ² λ¥΄μ…€ λ°°ν¬λ ν™κ²½μ—μ„ E2E ν…μ¤νΈ
npx playwright test --headed \
  --base-url=https://openmanager-vibe-v5.vercel.app
```

## π“ ν…μ¤νΈ ν¨μ¨μ„± λΉ„κµ

| ν…μ¤νΈ μ ν• | λ΅μ»¬ ν…μ¤νΈ | λ² λ¥΄μ…€ ν…μ¤νΈ | κ¶μ¥ λ°©λ²• |
|-------------|-------------|---------------|-----------|
| **API ν†µν•©** | β λ³µμ΅ν• μ„¤μ • | β… μ‹¤μ  ν™κ²½ | λ² λ¥΄μ…€λ§ |
| **UI μ»΄ν¬λ„νΈ** | β… λΉ λ¥Έ ν”Όλ“λ°± | β κ³Όλ„ν• λΉ„μ© | λ΅μ»¬λ§ |
| **ν™κ²½λ³€μ μμ΅΄** | β μ„¤μ • λ³µμ΅ | β… μ‹¤μ  κ°’ | λ² λ¥΄μ…€λ§ |
| **Supabase μ—°κ²°** | β λ΅μ»¬ DB μ„¤μ • | β… μ‹¤μ  DB | λ² λ¥΄μ…€λ§ |
| **AI μ„λΉ„μ¤** | β API ν‚¤ κ΄€λ¦¬ | β… μ‹¤μ  μ„λΉ„μ¤ | λ² λ¥΄μ…€λ§ |

## π― μ‹¤μ©μ  ν…μ¤νΈ μ›ν¬ν”λ΅μ°

### κ°λ° μ¤‘ (Development)
```bash
# 1. λ΅μ»¬ λ‹¨μ„ ν…μ¤νΈλ§ μ‹¤ν–‰
npm test  # 28μ΄ μ†μ”, ν•µμ‹¬ λ΅μ§λ§

# 2. νƒ€μ…μ²΄ν¬
npx tsc --noEmit

# 3. λ¦°νΈ
npm run lint
```

### λ°°ν¬ μ „ (Pre-Production)
```bash
# 1. λ΅μ»¬ ν…μ¤νΈ ν†µκ³Ό ν™•μΈ
npm test

# 2. λΉλ“ μ„±κ³µ ν™•μΈ
npm run build

# 3. λ² λ¥΄μ…€ λ°°ν¬
git push origin main
```

### λ°°ν¬ ν›„ (Post-Production)
```bash
# 1. μλ™ λ°°ν¬ μ„±κ³µ ν™•μΈ (λ² λ¥΄μ…€ λ€μ‹λ³΄λ“)
# 2. μ£Όμ” API μλ™ ν…μ¤νΈ
curl https://openmanager-vibe-v5.vercel.app/api/health

# 3. μ‹¤μ  UI λ™μ‘ ν™•μΈ
# λΈλΌμ°μ €μ—μ„ μ§μ ‘ κΈ°λ¥ ν…μ¤νΈ
```

## π« μ κ±°λ λ¶ν•„μ”ν• ν…μ¤νΈλ“¤

### λ΅μ»¬μ—μ„ μ μ™Έν• ν΄λΌμ°λ“ μ „μ© ν…μ¤νΈ
```bash
# vitest.config.main.tsμ—μ„ exclude μ²λ¦¬
tests/api/core-endpoints.integration.test.ts
src/app/api/ai/query/__tests__/**/*.test.ts
src/services/ai/__tests__/SimplifiedQueryEngine.test.ts
```

**μ κ±° μ΄μ **:
- localhost:3000 μμ΅΄μ„±
- Supabase ν™κ²½λ³€μ ν•„μ”
- μ™Έλ¶€ AI μ„λΉ„μ¤ μ—°κ²° ν•„μ”
- λ² λ¥΄μ…€μ—μ„ μ‹¤μ λ΅ μ μ‘λ™ν•¨

## π’° λΉ„μ© ν¨μ¨μ„±

### Before (λ¶ν•„μ”ν• λ΅μ»¬ ν…μ¤νΈ)
- **μ‹¤ν–‰ μ‹κ°„**: 67μ΄
- **μ‹¤ν¨μ¨**: 35% (153/434)
- **μ μ§€λ³΄μ**: λ³µμ΅ν• ν™κ²½ μ„¤μ •

### After (μ‹¤μ©μ  λ¶„λ¦¬)
- **λ΅μ»¬ μ‹¤ν–‰ μ‹κ°„**: 28μ΄ (58% λ‹¨μ¶•)
- **μ‹¤ν¨μ¨**: ~5% (μμ ν•¨μλ§)
- **μ μ§€λ³΄μ**: κ°„λ‹¨ν• μ„¤μ •

## π‰ κ²°λ΅ 

**ν•µμ‹¬ μ›μΉ™**: "λ² λ¥΄μ…€μ—μ„ μ λλ” κ±΄ λ² λ¥΄μ…€μ—μ„λ§ ν…μ¤νΈ"

1. **λ΅μ»¬**: μμ ν•¨μ, μ»΄ν¬λ„νΈ λ λ”λ§λ§
2. **λ² λ¥΄μ…€**: API, DB, AI μ„λΉ„μ¤ ν†µν•©
3. **κ²°κ³Ό**: κ°λ° μ†λ„ 2λ°° ν–¥μƒ, μ μ§€λ³΄μ 50% μ μ•½

---

**π’΅ μ‹¤λ¬΄ ν**: ν”„λ΅λ•μ… ν™κ²½μ΄ ν΄λΌμ°λ“λΌλ©΄ ν΄λΌμ°λ“μ—μ„ ν…μ¤νΈν•λ” κ²ƒμ΄ κ°€μ¥ ν„μ‹¤μ 