# Test Strategy Guide

> **í†µí•© ë¬¸ì„œ**: test-strategy-guide.md + testing-philosophy-detailed.md + vercel-first-strategy.md
> **ìµœì¢… ê°±ì‹ **: 2025-12-31

---

## Overview

OpenManager VIBEì˜ í…ŒìŠ¤íŠ¸ ì „ëµì€ **í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ ìš°ì„ ** ì›ì¹™ì„ ë”°ë¦…ë‹ˆë‹¤.

> **í•µì‹¬ ì² í•™**: "ì‹¤ì œ Vercel/GCP/Supabase í™˜ê²½ í…ŒìŠ¤íŠ¸ê°€ Mockë³´ë‹¤ ë” ìœ íš¨í•˜ë‹¤"

---

## 1. Test Pyramid (ì¬ì„¤ê³„)

```
      ğŸ”º E2E Tests (ì‹¤ì œ í´ë¼ìš°ë“œ)
     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    ğŸ”ºğŸ”º Cloud Integration (Staging)
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  ğŸ”ºğŸ”ºğŸ”º Unit Tests (ìˆœìˆ˜ í•¨ìˆ˜ë§Œ)
 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

### ê¸°ì¡´ í”¼ë¼ë¯¸ë“œì™€ì˜ ì°¨ì´

| ê¸°ì¡´ | í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ |
|------|-------------------|
| Unit ì¤‘ì‹¬ (ë§ì´) | Unit ìµœì†Œí™” (ìˆœìˆ˜ í•¨ìˆ˜ë§Œ) |
| Mock ì˜ì¡´ | ì‹¤ì œ í™˜ê²½ ìš°ì„  |
| ë¡œì»¬ ê²€ì¦ | Vercel í”„ë¡œë•ì…˜ ê²€ì¦ |

---

## 2. Current Test Distribution

### í…ŒìŠ¤íŠ¸ íŒŒì¼ êµ¬ì„± (65ê°œ)

```
ğŸ“ Co-located Unit Tests (35ê°œ) - src/
â”œâ”€â”€ components/**/*.test.tsx
â”œâ”€â”€ hooks/**/*.test.ts
â”œâ”€â”€ lib/**/*.test.ts
â””â”€â”€ utils/**/*.test.ts

ğŸ“ Integration Tests (10ê°œ) - tests/integration/

ğŸ“ E2E Tests (8ê°œ) - tests/e2e/
â””â”€â”€ Playwright (Chromium)

ğŸ“ API Tests (3ê°œ) - tests/api/
```

### ì„±ëŠ¥ ì§€í‘œ

| ì§€í‘œ | ëª©í‘œ | í˜„ì¬ |
|------|------|------|
| CI ìµœê³ ì† | < 5s | 2.2s (92 tests) |
| Minimal í…ŒìŠ¤íŠ¸ | < 100ms | 22ms |
| E2E Critical | < 2ë¶„ | ~1ë¶„ |

---

## 3. Mock vs Reality íŒë‹¨ ê¸°ì¤€

| í…ŒìŠ¤íŠ¸ ëŒ€ìƒ | Mock | ì‹¤ì œ í™˜ê²½ | ê¶Œì¥ |
|-------------|------|-----------|------|
| ìˆœìˆ˜ í•¨ìˆ˜ | âœ… ì í•© | âš¡ ê³¼ë„ | **Mock** |
| ìœ í‹¸ë¦¬í‹°/í—¬í¼ | âœ… ì í•© | âš¡ ê³¼ë„ | **Mock** |
| íƒ€ì… ê°€ë“œ | âœ… ì í•© | âš¡ ê³¼ë„ | **Mock** |
| UI ì»´í¬ë„ŒíŠ¸ | âœ… ì í•© | âš¡ ê³¼ë„ | **Mock** |
| API ì—”ë“œí¬ì¸íŠ¸ | âš ï¸ ì œí•œì  | âœ… ìµœì  | **ì‹¤ì œ í™˜ê²½** |
| AI ì„œë¹„ìŠ¤ í†µí•© | âŒ ë¹„í˜„ì‹¤ì  | âœ… í•„ìˆ˜ | **ì‹¤ì œ í™˜ê²½** |
| ë°ì´í„°ë² ì´ìŠ¤ | âŒ ë¹„í˜„ì‹¤ì  | âœ… í•„ìˆ˜ | **ì‹¤ì œ í™˜ê²½** |

---

## 4. Environment Priority

| í™˜ê²½ | URL | ëª©ì  | ê¶Œì¥ë„ |
|------|-----|------|--------|
| ê°œë°œ ì„œë²„ | localhost:3000 | ê°œë°œ ì¤‘ ë¹ ë¥¸ í”¼ë“œë°± | â­â­â­ |
| ë¡œì»¬ í”„ë¡œë•ì…˜ | localhost:3000 (ë¹Œë“œ) | ë°°í¬ ì „ ê²€ì¦ | â­â­â­â­ |
| **Vercel í”„ë¡œë•ì…˜** | vercel.app | ì‹¤ì œ ì‚¬ìš©ì í™˜ê²½ | â­â­â­â­â­ |

### Vercel í™˜ê²½ í…ŒìŠ¤íŠ¸ì˜ ê°€ì¹˜

- **ì‹¤ì œ ì„±ëŠ¥**: 152ms vs 24.1s (ê°œë°œ ì„œë²„)
- **í”„ë¡œë•ì…˜ ë²„ê·¸**: ë¹Œë“œ ìµœì í™” ì´ìŠˆ ë°œê²¬
- **CDN ê²€ì¦**: Edge ìºì‹± ë° ì„±ëŠ¥ í™•ì¸
- **í™˜ê²½ë³€ìˆ˜**: Vercel ì„¤ì • ì ìš© ê²€ì¦

---

## 5. Quick Commands

```bash
# ì „ì²´ ê²€ì¦
npm run validate:all

# Unit Tests
npm run test              # Vitest ì „ì²´
npm run test:minimal      # í•µì‹¬ë§Œ (~22ms)

# E2E Tests
npm run test:e2e          # ë¡œì»¬ Playwright
npm run test:vercel:e2e   # Vercel í”„ë¡œë•ì…˜ E2E

# Vercel í™˜ê²½ ì¢…í•©
npm run test:vercel:full  # ì „ì²´ í”„ë¡œë•ì…˜ í…ŒìŠ¤íŠ¸
```

---

## 6. Test Complexity Guide

### ğŸŸ¢ Low (ì¦‰ì‹œ ì‘ì„±)
- ìˆœìˆ˜ í•¨ìˆ˜, ìœ í‹¸ë¦¬í‹°
- íƒ€ì… ê°€ë“œ, í—¬í¼

### ğŸŸ¡ Medium (Mock í™œìš©)
- UI ì»´í¬ë„ŒíŠ¸
- React Hooks

### ğŸ”´ High (ì‹¤ì œ í™˜ê²½)
- API ì—”ë“œí¬ì¸íŠ¸
- AI/DB í†µí•©
- ì™¸ë¶€ ì„œë¹„ìŠ¤

---

## Related Documents

- [E2E Testing Guide](./e2e-testing-guide.md)
- [MSW Guide](./msw-guide.md)
- [Test Templates](./test-templates.md)

---

**ì´ì „ ë¬¸ì„œ** (archived):
- `test-strategy-guide.md` â†’ ì´ ë¬¸ì„œë¡œ í†µí•©
- `testing-philosophy-detailed.md` â†’ ì´ ë¬¸ì„œë¡œ í†µí•©
- `vercel-first-strategy.md` â†’ ì´ ë¬¸ì„œë¡œ í†µí•©
