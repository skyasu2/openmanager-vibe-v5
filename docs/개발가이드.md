# 개발 가이드

## 🔧 현재 개발 상태

### 🚨 긴급히 해결해야 할 문제
- [ ] TypeScript `any` 타입 에러 수정
  - `src/lib/kv.ts` 파일 13번, 24번 줄
  - `src/types/index.ts` 파일 17번 줄
  - **해결방법**: `any` → `unknown`으로 변경

### 📋 단계별 개발 계획
1. **1단계**: 빌드 에러 수정 및 기본 구조 완성
2. **2단계**: 데이터베이스 연결 (Redis + Supabase)
3. **3단계**: 핵심 기능 구현 (MCP 엔진, 모니터링)
4. **4단계**: UI/UX 완성 및 배포 최적화

## 🛠 개발 환경 설정

### 필수 도구
- Node.js 18+ 
- npm 또는 yarn
- Git
- Cursor AI (권장 개발 도구)

### 환경변수 설정
```bash
# .env.local 파일 생성
cp .env.local.example .env.local

# 각 서비스별 키값 입력 필요
# - Supabase: 프로젝트 URL 및 API 키
# - Upstash: Redis URL 및 토큰
```

## 📦 프로젝트 구조

```
src/
├── app/                    # Next.js App Router
│   ├── layout.tsx          # 루트 레이아웃
│   ├── page.tsx            # 랜딩 페이지
│   ├── dashboard/
│   │   └── page.tsx        # 메인 대시보드
│   ├── chat/
│   │   └── page.tsx        # MCP 채팅 인터페이스
│   └── api/                # API 라우트 (Vercel 함수)
│       ├── health/
│       │   └── route.ts    # 상태 확인 엔드포인트
│       ├── mcp/
│       │   └── query/
│       │       └── route.ts # MCP 쿼리 처리
│       └── monitoring/
│           ├── servers/
│           │   └── route.ts # 서버 상태
│           └── performance/
│               └── route.ts # 성능 메트릭
│
├── components/             # React 컴포넌트
│   ├── ui/                 # UI 컴포넌트
│   └── monitoring/         # 모니터링 컴포넌트
│
├── lib/                    # 유틸리티 및 설정
│   ├── kv.ts               # Redis 클라이언트
│   ├── monitoring/         # 모니터링 라이브러리
│   └── utils.ts            # 공통 유틸리티
│
└── modules/                # 비즈니스 로직
    ├── mcp/                # MCP 엔진
    │   └── core/
    │       └── processor.ts
    └── storage/            # 하이브리드 스토리지
        └── hybrid/
            └── storage.ts
```

## 🧪 테스트 방법

```bash
# 타입 체크
npm run type-check

# 린트 실행
npm run lint

# 단위 테스트
npm run test

# 전체 테스트 (빌드 포함)
npm run test:ci
```

## 🐞 문제 해결

### 빌드 에러
- TypeScript 에러: `any` 타입을 구체적인 타입이나 `unknown`으로 변경
- 환경 변수 누락: `.env.local` 파일이 올바르게 설정되었는지 확인

### 성능 문제
- Redis 캐싱을 적극 활용하여 API 응답 속도 개선
- 서버 사이드 렌더링(SSR)과 정적 생성(SSG) 전략 최적화

## 📚 참고 문서
- [Next.js 15 문서](https://nextjs.org/docs)
- [Vercel Serverless Functions](https://vercel.com/docs/serverless-functions)
- [Upstash Redis API](https://docs.upstash.com)
- [Supabase TypeScript API](https://supabase.com/docs) 