# π”’ Supabase λ³΄μ• ν„ν™© - ν¬νΈν΄λ¦¬μ¤ μμ¤€ μ”μ•½

**μƒμ„±μΌ**: 2025-09-28  
**μƒνƒ**: μ½κΈ° μ „μ© λ¨λ“ (Supabase λ¬΄λ£ ν‹°μ–΄)  
**μ ‘κ·Όλ²•**: ν¬νΈν΄λ¦¬μ¤ λ°λ¨μ© μ‹¤μ©μ  λ³΄μ•

## π“ ν„μ¬ λ³΄μ• μƒνƒ

**Supabase λ¬΄λ£ ν‹°μ–΄ νΉμ„±μƒ μΌλ¶€ λ³΄μ• μ„¤μ •μ€ μ ν•μ **μ΄λ©°, ν¬νΈν΄λ¦¬μ¤ λ©μ μΌλ΅λ” ν„μ¬ μμ¤€μ΄ μ μ ν•©λ‹λ‹¤.

### β… μ΄λ―Έ μ μ©λ λ³΄μ• μ΅°μΉ

- **API μΈμ¦**: `/api/debug/env` μ—”λ“ν¬μΈνΈμ— Admin μΈμ¦ μ¶”κ°€ μ™„λ£
- **ν™κ²½λ³€μ λ³΄νΈ**: λ―Όκ°ν• λ°μ΄ν„° λ…Έμ¶ μ™„μ „ μ κ±°
- **RLS μ •μ±…**: Supabaseμ—μ„ κΈ°λ³Έ μ κ³µλλ” λ³΄μ• μ •μ±… ν™μ©

### π“‹ λ°κ²¬λ μ΄μ (8κ°)

**ν¬νΈν΄λ¦¬μ¤ κ΄€μ μ—μ„μ μ°μ„ μμ„**:

#### π΅ μ•κ³  μμΌλ©΄ λλ” μμ¤€ (6κ°)

- Security Definer Views (2κ°) - λ¬΄λ£ ν‹°μ–΄μ—μ„ μΌλ°μ 
- Function Search Path μ΄μ (2κ°) - κΈ°λ³Έ μ„¤μ •μΌλ΅ μ¶©λ¶„
- Auth μ„¤μ • (OTP λ§λ£, ν¨μ¤μ›λ“ λ³΄νΈ) - λ°λ¨μ©μΌλ΅ ν„μ¬ μ„¤μ • μ μ 
- PostgreSQL λ²„μ „ - Supabase κ΄€λ¦¬ μμ—­

#### πΆ ν„μ¬ μƒνƒλ΅ μ¶©λ¶„ (2κ°)

- Extension in Public Schema - ν¬νΈν΄λ¦¬μ¤ κ·λ¨μ—μ„λ” λ¬Έμ μ—†μ
- μ „λ°μ  λ³΄μ• μμ¤€ - λ¬΄λ£ ν‹°μ–΄ κΈ°λ³Έ λ³΄μ•μΌλ΅ μ¶©λ¶„

## π― ν¬νΈν΄λ¦¬μ¤μ© λ³΄μ• μ² ν•™

**"μ μ ν• λ³΄μ• > κ³Όλ„ν• λ³΄μ•"**

1. **ν•µμ‹¬ λ°μ΄ν„° λ³΄νΈ**: μ™„λ£ β…
2. **API μΈμ¦**: μ™„λ£ β…
3. **ν™κ²½λ³€μ λ³΄μ•**: μ™„λ£ β…
4. **κΈ°λ³Έ RLS**: Supabase κΈ°λ³Έκ°’ ν™μ© β…

## π’­ κ²°λ΅ 

ν„μ¬ λ³΄μ• μμ¤€μ€ **ν¬νΈν΄λ¦¬μ¤ λ°λ¨μ©μΌλ΅ μ¶©λ¶„**ν•©λ‹λ‹¤.

- μ‹¤μ  ν”„λ΅λ•μ… ν™κ²½μ΄λΌλ©΄ μ¶”κ°€ μ΅°μΉκ°€ ν•„μ”ν•κ² μ§€λ§
- κΈ°μ  μ‹μ—° λ° ν¬νΈν΄λ¦¬μ¤ λ©μ μΌλ΅λ” κ³Όλ„ν• λ³΄μ• μ΅°μΉλ³΄λ‹¤ **κΈ°λ¥κ³Ό μ„±λ¥μ— μ§‘μ¤‘**ν•λ” κ²ƒμ΄ λ” κ°€μΉ μμµλ‹λ‹¤.

---

**β… λ‹¤μ λ‹¨κ³„**: μ„±λ¥ μµμ ν™” λ° μ‚¬μ©μ κ²½ν— κ°μ„ μ— μ§‘μ¤‘
