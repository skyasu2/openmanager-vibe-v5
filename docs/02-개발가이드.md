# ê°œë°œ ê°€ì´ë“œ

## ğŸš€ ê°œë°œ í™˜ê²½ êµ¬ì¶•

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­
- Node.js 18+ 
- npm ë˜ëŠ” yarn
- Git
- PostgreSQL (Supabase)
- Redis

### 1. í”„ë¡œì íŠ¸ í´ë¡ 
```bash
git clone https://github.com/skyasu2/openmanager-vibe-v5.git
cd openmanager-vibe-v5
```

### 2. ì˜ì¡´ì„± ì„¤ì¹˜
```bash
npm install
```

### 3. í™˜ê²½ë³€ìˆ˜ ì„¤ì •
```bash
cp .env.example .env.local
```

`.env.local` íŒŒì¼ í¸ì§‘:
```env
# ê¸°ë³¸ ì„¤ì •
NEXT_PUBLIC_SITE_URL=http://localhost:3000
COLLECTOR_MODE=dummy

# Supabase ì„¤ì •
SUPABASE_URL=your_supabase_url
SUPABASE_ANON_KEY=your_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key

# Redis ì„¤ì •
REDIS_URL=redis://localhost:6379

# í”„ë¡œë•ì…˜ ìˆ˜ì§‘ê¸° ì„¤ì • (ì„ íƒì‚¬í•­)
PROMETHEUS_URL=http://prometheus:9090
AWS_ACCESS_KEY_ID=your_aws_key
AWS_SECRET_ACCESS_KEY=your_aws_secret
AWS_REGION=ap-northeast-2
CUSTOM_API_ENDPOINTS=http://server1:8080/metrics,http://server2:8080/metrics
```

### 4. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
```bash
# Supabase ìŠ¤í‚¤ë§ˆ ìƒì„±
psql -h your_supabase_host -U postgres -d postgres -f scripts/setup-database.sql
```

### 5. ê°œë°œ ì„œë²„ ì‹¤í–‰
```bash
npm run dev
```

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
openmanager-vibe-v5/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/              # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ api/          # API ì—”ë“œí¬ì¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ dashboard/    # ëŒ€ì‹œë³´ë“œ í˜ì´ì§€
â”‚   â”‚   â””â”€â”€ demo/         # ë°ëª¨ í˜ì´ì§€
â”‚   â”œâ”€â”€ components/       # React ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ ai/           # AI ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ dashboard/    # ëŒ€ì‹œë³´ë“œ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ demo/         # ë°ëª¨ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â””â”€â”€ ui/           # ê³µí†µ UI ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ config/           # ì„¤ì • íŒŒì¼ë“¤
â”‚   â”œâ”€â”€ lib/              # ìœ í‹¸ë¦¬í‹° ë¼ì´ë¸ŒëŸ¬ë¦¬
â”‚   â”œâ”€â”€ modules/          # MCP ëª¨ë“ˆ
â”‚   â”‚   â””â”€â”€ mcp/          # MCP í”„ë¡œì„¸ì„œ
â”‚   â”œâ”€â”€ services/         # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â””â”€â”€ collectors/   # ë°ì´í„° ìˆ˜ì§‘ê¸°ë“¤
â”‚   â”œâ”€â”€ stores/           # ìƒíƒœ ê´€ë¦¬ (Zustand)
â”‚   â”œâ”€â”€ styles/           # CSS ìŠ¤íƒ€ì¼
â”‚   â””â”€â”€ types/            # TypeScript íƒ€ì… ì •ì˜
â”œâ”€â”€ docs/                 # ë¬¸ì„œ
â”œâ”€â”€ scripts/              # ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ë“¤
â””â”€â”€ public/              # ì •ì  íŒŒì¼ë“¤
```

## ğŸ”§ ê°œë°œ ì›Œí¬í”Œë¡œìš°

### 1. ë”ë¯¸ ëª¨ë“œ ê°œë°œ
```bash
# .env.localì—ì„œ
COLLECTOR_MODE=dummy

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev
```

ë”ë¯¸ ëª¨ë“œì—ì„œëŠ” `src/lib/enterprise-servers.ts`ì˜ ì •ì  ë°ì´í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

### 2. í”„ë¡œë•ì…˜ ëª¨ë“œ í…ŒìŠ¤íŠ¸
```bash
# .env.localì—ì„œ
COLLECTOR_MODE=production

# í•„ìš”í•œ ìˆ˜ì§‘ê¸° ì„¤ì • ì¶”ê°€
PROMETHEUS_URL=http://your-prometheus:9090
# ë˜ëŠ” AWS_ACCESS_KEY_ID=...
# ë˜ëŠ” CUSTOM_API_ENDPOINTS=...
```

### 3. ë¹Œë“œ ë° í…ŒìŠ¤íŠ¸
```bash
# íƒ€ì… ì²´í¬
npm run type-check

# ë¦°íŠ¸ ì²´í¬
npm run lint

# ë¹Œë“œ
npm run build

# í”„ë¡œë•ì…˜ ì„œë²„ ì‹¤í–‰
npm run start
```

## ğŸ§© í•µì‹¬ ì»´í¬ë„ŒíŠ¸

### ìˆ˜ì§‘ê¸° ì‹œìŠ¤í…œ
- `CollectionManager`: ìˆ˜ì§‘ í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬
- `CollectorFactory`: ìˆ˜ì§‘ê¸° íŒ©í† ë¦¬
- `PrometheusCollector`: Kubernetes ë©”íŠ¸ë¦­ ìˆ˜ì§‘
- `CloudWatchCollector`: AWS ë©”íŠ¸ë¦­ ìˆ˜ì§‘
- `CustomAPICollector`: ì»¤ìŠ¤í…€ API ìˆ˜ì§‘

### ì €ì¥ì†Œ ì‹œìŠ¤í…œ
- `storage.ts`: Redis + Supabase ì´ì¤‘í™” ì €ì¥ì†Œ
- ì§€ëŠ¥í˜• ì¿¼ë¦¬ (Redis â†’ Supabase ìˆœì°¨)
- ìë™ TTL ê´€ë¦¬

### AI ì‹œìŠ¤í…œ
- `MCPProcessor`: Model Context Protocol ì²˜ë¦¬
- `agent.ts`: AI ì—ì´ì „íŠ¸ ë¡œì§
- ì‹¤ì‹œê°„ ì¸ê³¼ê´€ê³„ ë¶„ì„

## ğŸ” ë””ë²„ê¹…

### ë¡œê·¸ í™•ì¸
```bash
# ìˆ˜ì§‘ê¸° ë¡œê·¸
tail -f logs/collector.log

# API ë¡œê·¸
# ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ ì½˜ì†” í™•ì¸
```

### í™˜ê²½ë³€ìˆ˜ ê²€ì¦
```bash
# í™˜ê²½ë³€ìˆ˜ ì²´í¬ API
curl http://localhost:3000/api/health
```

### ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í…ŒìŠ¤íŠ¸
```bash
# Supabase ì—°ê²° í…ŒìŠ¤íŠ¸
curl http://localhost:3000/api/status
```

## ğŸ§ª í…ŒìŠ¤íŠ¸

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
```bash
npm run test
```

### E2E í…ŒìŠ¤íŠ¸
```bash
npm run test:e2e
```

### API í…ŒìŠ¤íŠ¸
```bash
# ì„œë²„ ëª©ë¡ ì¡°íšŒ
curl http://localhost:3000/api/servers

# ëŒ€ì‹œë³´ë“œ ë°ì´í„°
curl http://localhost:3000/api/dashboard

# ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰
curl -X POST http://localhost:3000/api/simulate
```

## ğŸ“¦ ìƒˆë¡œìš´ ìˆ˜ì§‘ê¸° ì¶”ê°€

### 1. ìˆ˜ì§‘ê¸° ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„
```typescript
// src/services/collectors/my-collector.ts
import { BaseCollector } from './base-collector';

export class MyCollector extends BaseCollector {
  async collect(serverId: string): Promise<ServerMetrics> {
    // ìˆ˜ì§‘ ë¡œì§ êµ¬í˜„
  }
}
```

### 2. íŒ©í† ë¦¬ì— ë“±ë¡
```typescript
// src/services/collectors/collector-factory.ts
import { MyCollector } from './my-collector';

export function createCollector(type: string) {
  switch (type) {
    case 'my-collector':
      return new MyCollector();
    // ...
  }
}
```

### 3. í™˜ê²½ë³€ìˆ˜ ì„¤ì •
```typescript
// src/config/collectors.ts
export const collectorConfigs = {
  'my-collector': {
    enabled: !!process.env.MY_COLLECTOR_URL,
    url: process.env.MY_COLLECTOR_URL
  }
};
```

## ğŸ› ï¸ ì½”ë”© ìŠ¤íƒ€ì¼

### TypeScript
- ì—„ê²©í•œ íƒ€ì… ì²´í¬ ì‚¬ìš©
- interfaceë³´ë‹¤ type ì„ í˜¸
- null/undefined ëª…ì‹œì  ì²˜ë¦¬

### React
- í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©
- Custom Hooks í™œìš©
- ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬ ì›ì¹™

### ìŠ¤íƒ€ì¼ë§
- Tailwind CSS ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤
- ë°˜ì‘í˜• ë””ìì¸ ìš°ì„ 
- ë‹¤í¬ ëª¨ë“œ ì§€ì›

## ğŸ”„ ë°°í¬ ì¤€ë¹„

### í”„ë¡œë•ì…˜ ë¹Œë“œ
```bash
npm run build
```

### í™˜ê²½ë³€ìˆ˜ ê²€ì¦
```bash
# í”„ë¡œë•ì…˜ í™˜ê²½ë³€ìˆ˜ ì²´í¬
npm run env:check
```

### ì„±ëŠ¥ ìµœì í™”
```bash
# ë²ˆë“¤ ë¶„ì„
npm run analyze
```

ëª¨ë“  ê°œë°œ ê³¼ì •ì—ì„œ **í•œêµ­ì–´ ì£¼ì„ê³¼ ë¬¸ì„œí™”**ë¥¼ ìš°ì„ ìœ¼ë¡œ í•©ë‹ˆë‹¤. 