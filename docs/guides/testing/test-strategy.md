# Test Strategy Guide

> **í†µí•© ë¬¸ì„œ**: test-strategy-guide.md + testing-philosophy-detailed.md + vercel-first-strategy.md
> **ìµœì¢… ê°±ì‹ **: 2026-01-05

---

## Overview

OpenManager VIBEì˜ í…ŒìŠ¤íŠ¸ ì „ëµì€ **í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ ìš°ì„ ** ì›ì¹™ì„ ë”°ë¦…ë‹ˆë‹¤.

> **í•µì‹¬ ì² í•™**: "ì‹¤ì œ Vercel/GCP/Supabase í™˜ê²½ í…ŒìŠ¤íŠ¸ê°€ Mockë³´ë‹¤ ë” ìœ íš¨í•˜ë‹¤"

---

## 1. Test Pyramid (ì¬ì„¤ê³„)

```
      ğŸ”º E2E Tests (ì‹¤ì œ í´ë¼ìš°ë“œ)
     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    ğŸ”ºğŸ”º Cloud Integration (Staging)
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  ğŸ”ºğŸ”ºğŸ”º Unit Tests (ìˆœìˆ˜ í•¨ìˆ˜ë§Œ)
 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

### ê¸°ì¡´ í”¼ë¼ë¯¸ë“œì™€ì˜ ì°¨ì´

| ê¸°ì¡´ | í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ |
|------|-------------------|
| Unit ì¤‘ì‹¬ (ë§ì´) | Unit ìµœì†Œí™” (ìˆœìˆ˜ í•¨ìˆ˜ë§Œ) |
| Mock ì˜ì¡´ | ì‹¤ì œ í™˜ê²½ ìš°ì„  |
| ë¡œì»¬ ê²€ì¦ | Vercel í”„ë¡œë•ì…˜ ê²€ì¦ |

---

## 2. Current Test Distribution

### í…ŒìŠ¤íŠ¸ íŒŒì¼ êµ¬ì„± (58ê°œ, 2026-01-05 ê¸°ì¤€)

```
ğŸ“ Co-located Unit Tests (28ê°œ) - src/
â”œâ”€â”€ components/**/*.test.tsx
â”œâ”€â”€ hooks/**/*.test.ts
â”œâ”€â”€ lib/**/*.test.ts
â””â”€â”€ utils/**/*.test.ts

ğŸ“ Integration Tests (10ê°œ) - tests/integration/

ğŸ“ E2E Tests (10ê°œ) - tests/e2e/
â””â”€â”€ Playwright (Chromium)

ğŸ“ API Tests (5ê°œ) - tests/api/

ğŸ“ AI Sidebar Tests (3ê°œ) - tests/ai-sidebar/
```

### í…ŒìŠ¤íŠ¸ ê·œëª¨ í˜„í™©

| ì§€í‘œ | í˜„ì¬ ê°’ |
|------|---------|
| í…ŒìŠ¤íŠ¸ íŒŒì¼ | 58ê°œ |
| í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ | ~690ê°œ |
| Quick í…ŒìŠ¤íŠ¸ | 2.5s (92 tests) |
| Full í…ŒìŠ¤íŠ¸ | ~200s |

---

## 2.1 Test Scale Optimization (2026-01-05)

### í”„ë¡œì íŠ¸ íŠ¹ì„±

ë³¸ í”„ë¡œì íŠ¸ëŠ” **í¬íŠ¸í´ë¦¬ì˜¤/í† ì´ í”„ë¡œì íŠ¸**ë¡œ, ìƒì—…ìš© ì„œë¹„ìŠ¤ê°€ ì•„ë‹™ë‹ˆë‹¤.
ë”°ë¼ì„œ í…ŒìŠ¤íŠ¸ ì „ëµì€ ë‹¤ìŒ ì›ì¹™ì„ ë”°ë¦…ë‹ˆë‹¤:

- **ìœ ì§€ë³´ìˆ˜ ë¹„ìš© ìµœì†Œí™”**: ê³¼ë„í•œ í…ŒìŠ¤íŠ¸ëŠ” ì˜¤íˆë ¤ ë¶€ë‹´
- **í¬íŠ¸í´ë¦¬ì˜¤ ê°€ì¹˜ ê·¹ëŒ€í™”**: ê¸°ìˆ ë ¥ ì¦ëª…ì— í•„ìš”í•œ í…ŒìŠ¤íŠ¸ë§Œ ìœ ì§€
- **ë¹ ë¥¸ í”¼ë“œë°± ë£¨í”„**: ê°œë°œ ì†ë„ ì €í•˜ ë°©ì§€

### ì‚­ì œëœ í…ŒìŠ¤íŠ¸ (10ê°œ íŒŒì¼)

| íŒŒì¼ | ì‚­ì œ ì´ìœ  |
|------|----------|
| `src/config/ai-providers.test.ts` | TypeScript íƒ€ì… ì²´í¬ë¡œ ëŒ€ì²´ ê°€ëŠ¥ |
| `src/config/config.test.ts` | ì •ì  ì„¤ì •ê°’ - ë³€ê²½ ì—†ìŒ |
| `src/config/env.test.ts` | í™˜ê²½ë³€ìˆ˜ ê²€ì¦ - ëŸ°íƒ€ì„ì—ì„œ í™•ì¸ |
| `src/config/fallback-data.test.ts` | ì •ì  í´ë°± ë°ì´í„° - ë³€ê²½ ì—†ìŒ |
| `src/config/serverConfig.test.ts` | TypeScript íƒ€ì… ì²´í¬ë¡œ ëŒ€ì²´ ê°€ëŠ¥ |
| `src/data/__tests__/feature-cards.data.test.ts` | ì •ì  UI ë°ì´í„° - ë³€ê²½ ì—†ìŒ |
| `src/data/__tests__/tech-stacks.data.test.ts` | ì •ì  UI ë°ì´í„° - ë³€ê²½ ì—†ìŒ |
| `src/mock/mockServerConfig.test.ts` | Mock ë°ì´í„° í…ŒìŠ¤íŠ¸ - ë¶ˆí•„ìš” |
| `tests/types/prediction-types.test.ts` | TypeScript ì»´íŒŒì¼ëŸ¬ê°€ ê²€ì¦ |
| `tests/types/server-types.test.ts` | TypeScript ì»´íŒŒì¼ëŸ¬ê°€ ê²€ì¦ |

### ì‚­ì œ íŒë‹¨ ê¸°ì¤€

```
1. TypeScript ëŒ€ì²´ ê°€ëŠ¥ ì—¬ë¶€
   â†’ íƒ€ì… í…ŒìŠ¤íŠ¸, ì„¤ì • ê²€ì¦ì€ TS ì»´íŒŒì¼ëŸ¬ê°€ ìˆ˜í–‰

2. ë³€ê²½ ë¹ˆë„
   â†’ ì •ì  ë°ì´í„°ëŠ” ê±°ì˜ ë³€ê²½ë˜ì§€ ì•ŠìŒ

3. í¬íŠ¸í´ë¦¬ì˜¤ ê°€ì¹˜
   â†’ Mock í…ŒìŠ¤íŠ¸ëŠ” ê¸°ìˆ ë ¥ ì¦ëª…ì— ê¸°ì—¬í•˜ì§€ ì•ŠìŒ

4. ìœ ì§€ë³´ìˆ˜ ë¹„ìš©
   â†’ í…ŒìŠ¤íŠ¸ ìˆ˜ì • ì‹œê°„ > ë²„ê·¸ ìˆ˜ì • ì‹œê°„
```

### ìœ ì§€ ì¤‘ì¸ í…ŒìŠ¤íŠ¸ (í¬íŠ¸í´ë¦¬ì˜¤ ê°€ì¹˜)

| ì¹´í…Œê³ ë¦¬ | ì˜ˆì‹œ | ìœ ì§€ ì´ìœ  |
|----------|------|----------|
| **UI ì»´í¬ë„ŒíŠ¸** | `ImprovedServerCard.test.tsx` | React Testing Library ìŠ¤í‚¬ ì¦ëª… |
| **ì»¤ìŠ¤í…€ í›…** | `useAIEngine.test.ts` | Hook í…ŒìŠ¤íŠ¸ íŒ¨í„´ ì¦ëª… |
| **ìœ í‹¸ë¦¬í‹°** | `metricValidation.test.ts` | ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ìŠ¤í‚¬ ì¦ëª… |
| **E2E** | `smoke.spec.ts` | ì•± ë™ì‘ ì‹œì—° ê°€ëŠ¥ |
| **í†µí•©** | `ai-unified-mode.test.ts` | ë³µì¡í•œ í†µí•© ì‹œë‚˜ë¦¬ì˜¤ ì¦ëª… |

### í…ŒìŠ¤íŠ¸ ì›ì¹™ë³„ í‰ê°€

| ì›ì¹™ | ì ìš© ë°©ì‹ |
|------|----------|
| **í…ŒìŠ¤íŠ¸ í”¼ë¼ë¯¸ë“œ** | Unit 70%, Integration 23%, E2E 7% - ìœ ì§€ |
| **íŒŒë ˆí†  ë²•ì¹™** | ê²°í•¨ ì§‘ì¤‘ íŒŒì¼ì— í…ŒìŠ¤íŠ¸ ì¡´ì¬ í™•ì¸ |
| **ì‚´ì¶©ì œ íŒ¨ëŸ¬ë…ìŠ¤** | ë‹¤ì–‘í•œ í…ŒìŠ¤íŠ¸ ìœ í˜• ìœ ì§€ (Unit, E2E, í†µí•©) |
| **F.I.R.S.T.** | Quick í…ŒìŠ¤íŠ¸ 2.5ì´ˆ - ì¶©ë¶„íˆ ë¹ ë¦„ |
| **Shift Left** | CIì—ì„œ ìë™ ê²€ì¦ ìœ ì§€ |

---

## 3. Mock vs Reality íŒë‹¨ ê¸°ì¤€

| í…ŒìŠ¤íŠ¸ ëŒ€ìƒ | Mock | ì‹¤ì œ í™˜ê²½ | ê¶Œì¥ |
|-------------|------|-----------|------|
| ìˆœìˆ˜ í•¨ìˆ˜ | âœ… ì í•© | âš¡ ê³¼ë„ | **Mock** |
| ìœ í‹¸ë¦¬í‹°/í—¬í¼ | âœ… ì í•© | âš¡ ê³¼ë„ | **Mock** |
| íƒ€ì… ê°€ë“œ | âœ… ì í•© | âš¡ ê³¼ë„ | **Mock** |
| UI ì»´í¬ë„ŒíŠ¸ | âœ… ì í•© | âš¡ ê³¼ë„ | **Mock** |
| API ì—”ë“œí¬ì¸íŠ¸ | âš ï¸ ì œí•œì  | âœ… ìµœì  | **ì‹¤ì œ í™˜ê²½** |
| AI ì„œë¹„ìŠ¤ í†µí•© | âŒ ë¹„í˜„ì‹¤ì  | âœ… í•„ìˆ˜ | **ì‹¤ì œ í™˜ê²½** |
| ë°ì´í„°ë² ì´ìŠ¤ | âŒ ë¹„í˜„ì‹¤ì  | âœ… í•„ìˆ˜ | **ì‹¤ì œ í™˜ê²½** |

---

## 4. Environment Priority

| í™˜ê²½ | URL | ëª©ì  | ê¶Œì¥ë„ |
|------|-----|------|--------|
| ê°œë°œ ì„œë²„ | localhost:3000 | ê°œë°œ ì¤‘ ë¹ ë¥¸ í”¼ë“œë°± | â­â­â­ |
| ë¡œì»¬ í”„ë¡œë•ì…˜ | localhost:3000 (ë¹Œë“œ) | ë°°í¬ ì „ ê²€ì¦ | â­â­â­â­ |
| **Vercel í”„ë¡œë•ì…˜** | vercel.app | ì‹¤ì œ ì‚¬ìš©ì í™˜ê²½ | â­â­â­â­â­ |

### Vercel í™˜ê²½ í…ŒìŠ¤íŠ¸ì˜ ê°€ì¹˜

- **ì‹¤ì œ ì„±ëŠ¥**: 152ms vs 24.1s (ê°œë°œ ì„œë²„)
- **í”„ë¡œë•ì…˜ ë²„ê·¸**: ë¹Œë“œ ìµœì í™” ì´ìŠˆ ë°œê²¬
- **CDN ê²€ì¦**: Edge ìºì‹± ë° ì„±ëŠ¥ í™•ì¸
- **í™˜ê²½ë³€ìˆ˜**: Vercel ì„¤ì • ì ìš© ê²€ì¦

---

## 5. Quick Commands

```bash
# ì „ì²´ ê²€ì¦
npm run validate:all

# Unit Tests
npm run test              # Vitest ì „ì²´
npm run test:minimal      # í•µì‹¬ë§Œ (~22ms)

# E2E Tests
npm run test:e2e          # ë¡œì»¬ Playwright
npm run test:vercel:e2e   # Vercel í”„ë¡œë•ì…˜ E2E

# Vercel í™˜ê²½ ì¢…í•©
npm run test:vercel:full  # ì „ì²´ í”„ë¡œë•ì…˜ í…ŒìŠ¤íŠ¸
```

---

## 6. Test Complexity Guide

### ğŸŸ¢ Low (ì¦‰ì‹œ ì‘ì„±)
- ìˆœìˆ˜ í•¨ìˆ˜, ìœ í‹¸ë¦¬í‹°
- íƒ€ì… ê°€ë“œ, í—¬í¼

### ğŸŸ¡ Medium (Mock í™œìš©)
- UI ì»´í¬ë„ŒíŠ¸
- React Hooks

### ğŸ”´ High (ì‹¤ì œ í™˜ê²½)
- API ì—”ë“œí¬ì¸íŠ¸
- AI/DB í†µí•©
- ì™¸ë¶€ ì„œë¹„ìŠ¤

---

## Related Documents

- [E2E Testing Guide](./e2e-testing-guide.md)
- [MSW Guide](./msw-guide.md)
- [Test Templates](./test-templates.md)

---

**ì´ì „ ë¬¸ì„œ** (archived):
- `test-strategy-guide.md` â†’ ì´ ë¬¸ì„œë¡œ í†µí•©
- `testing-philosophy-detailed.md` â†’ ì´ ë¬¸ì„œë¡œ í†µí•©
- `vercel-first-strategy.md` â†’ ì´ ë¬¸ì„œë¡œ í†µí•©
