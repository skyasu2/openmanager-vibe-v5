# 🤖 AI 질의 예시 가이드

OpenManager v5.17.10-MCP AI 에이전트와의 효과적인 대화를 위한 질의 예시 모음입니다.

## 📋 목차

1. [기본 질의](#기본-질의)
2. [시스템 상태 조회](#시스템-상태-조회)
3. [성능 분석](#성능-분석)
4. [문제 진단](#문제-진단)
5. [예측 및 추천](#예측-및-추천)
6. [고급 질의](#고급-질의)
7. [자연어 처리 팁](#자연어-처리-팁)

---

## 🎯 기본 질의

### 시스템 개요

**질의**: `시스템 상태가 어떤가요?`
**기대 응답**:
```
✅ 전체 시스템 상태: 정상
📊 활성 서버: 12개 (정상 10개, 경고 2개)
⚡ 평균 응답시간: 245ms
🎯 가용성: 99.2%

주요 알림:
• WEB-03: CPU 사용률 85% (경고)
• DB-01: 메모리 사용률 78% (주의)
```

**질의**: `현재 몇 개의 서버가 운영되고 있나요?`
**기대 응답**:
```
🖥️ 현재 운영중인 서버: 12개

상태별 분류:
• 🟢 정상: 10개 (83.3%)
• 🟡 경고: 2개 (16.7%)
• 🔴 심각: 0개 (0%)

최근 변경사항:
• API-02 서버가 30분 전 정상 상태로 복구됨
```

---

## 📊 시스템 상태 조회

### 서버별 상태 확인

**질의**: `WEB-01 서버 상태를 알려주세요`
**기대 응답**:
```
🖥️ WEB-01 서버 상태

기본 정보:
• 상태: 🟢 정상
• 가동시간: 15일 3시간 42분
• 마지막 재시작: 2025-06-01 09:15:23

성능 지표:
• CPU: 42% (정상)
• 메모리: 68% (정상)  
• 디스크: 45% (정상)
• 네트워크: 12.3 Mbps (정상)

최근 이벤트:
• 12:30 - 정기 헬스체크 통과
• 11:45 - SSL 인증서 자동 갱신 완료
```

**질의**: `모든 웹 서버의 CPU 사용률을 보여주세요`
**기대 응답**:
```
🖥️ 웹 서버 CPU 사용률 현황

┌─────────┬──────────┬─────────┬──────────┐
│ 서버명   │ CPU 사용률│ 상태    │ 추세     │
├─────────┼──────────┼─────────┼──────────┤
│ WEB-01  │ 42%      │ 🟢 정상 │ ↗️ 증가  │
│ WEB-02  │ 67%      │ 🟢 정상 │ ↘️ 감소  │
│ WEB-03  │ 85%      │ 🟡 경고 │ ↗️ 증가  │
│ WEB-04  │ 38%      │ 🟢 정상 │ → 안정  │
└─────────┴──────────┴─────────┴──────────┘

⚠️ 주의사항:
• WEB-03의 CPU 사용률이 임계값(80%)을 초과했습니다
• 로드 밸런싱 조정을 권장합니다
```

---

## 📈 성능 분석

### 트렌드 분석

**질의**: `최근 24시간 시스템 성능 추세를 분석해주세요`
**기대 응답**:
```
📈 24시간 성능 트렌드 분석

전체 시스템:
• 평균 응답시간: 245ms (어제 대비 -12ms)
• 처리량: 1,247 req/min (어제 대비 +8.3%)
• 에러율: 0.08% (어제 대비 -0.02%)

주요 패턴:
• 🕘 09:00-11:00: 피크 트래픽 (최대 1,890 req/min)
• 🕕 18:00-20:00: 저녁 피크 (최대 1,654 req/min)
• 🕛 00:00-06:00: 저부하 시간 (평균 234 req/min)

개선사항:
• 응답시간이 지속적으로 개선되고 있습니다
• 에러율이 목표치(0.1%) 이하로 유지되고 있습니다
```

**질의**: `메모리 사용량이 높은 서버를 찾아주세요`
**기대 응답**:
```
🧠 메모리 사용량 상위 서버 (임계값 75% 이상)

┌─────────┬──────────┬─────────┬──────────────┐
│ 서버명   │ 메모리    │ 상태    │ 주요 프로세스 │
├─────────┼──────────┼─────────┼──────────────┤
│ DB-01   │ 89%      │ 🟡 경고 │ MySQL (62%)  │
│ API-03  │ 82%      │ 🟡 경고 │ Node.js(45%) │
│ WEB-02  │ 78%      │ 🟡 주의 │ Apache (38%) │
└─────────┴──────────┴─────────┴──────────────┘

💡 권장사항:
• DB-01: 메모리 증설 또는 쿼리 최적화 필요
• API-03: 메모리 리크 점검 권장
• WEB-02: 캐시 설정 최적화 검토
```

---

## 🔍 문제 진단

### 오류 및 이상 징후

**질의**: `최근 에러가 발생한 서버가 있나요?`
**기대 응답**:
```
🚨 최근 24시간 에러 발생 현황

에러 발생 서버:
• API-02: 17건 (HTTP 500 에러)
• WEB-03: 8건 (연결 타임아웃)
• DB-01: 3건 (쿼리 실행 오류)

주요 에러 패턴:
┌──────────┬────────────┬─────────┬─────────────┐
│ 시간대    │ 서버       │ 에러 수 │ 유형        │
├──────────┼────────────┼─────────┼─────────────┤
│ 14:30-15:00│ API-02   │ 12건    │ 메모리 부족 │
│ 16:45-17:00│ WEB-03   │ 6건     │ 네트워크    │
│ 11:20-11:25│ DB-01    │ 3건     │ 데드락      │
└──────────┴────────────┴─────────┴─────────────┘

🔧 자동 복구 조치:
• API-02: 메모리 정리 및 프로세스 재시작 완료
• WEB-03: 네트워크 연결 재설정 완료
```

**질의**: `디스크 용량이 부족한 서버를 확인해주세요`
**기대 응답**:
```
💾 디스크 용량 경고 서버 (임계값 85% 이상)

┌─────────┬──────────┬─────────┬──────────────┐
│ 서버명   │ 사용률    │ 상태    │ 남은 용량    │
├─────────┼──────────┼─────────┼──────────────┤
│ LOG-01  │ 92%      │ 🔴 심각 │ 3.2GB        │
│ DB-02   │ 87%      │ 🟡 경고 │ 12.8GB       │
└─────────┴──────────┴─────────┴──────────────┘

🚨 즉시 조치 필요:
• LOG-01: 로그 파일 정리 또는 스토리지 확장 필요
• DB-02: 백업 데이터 아카이빙 권장

📅 예상 소진 시점:
• LOG-01: 약 2일 후
• DB-02: 약 1주일 후
```

---

## 🔮 예측 및 추천

### 용량 계획

**질의**: `다음 주 서버 부하를 예측해주세요`
**기대 응답**:
```
📊 다음 주 (12/23-12/29) 부하 예측

예상 트래픽 패턴:
• 월요일: 평상시 대비 85% (연말 휴가 영향)
• 화-목요일: 평상시 대비 70%
• 금요일: 평상시 대비 60%
• 주말: 평상시 대비 40%

주요 예측 지표:
┌─────────┬──────────┬──────────┬──────────┐
│ 날짜     │ 예상 RPS │ CPU 예상 │ 메모리   │
├─────────┼──────────┼──────────┼──────────┤
│ 12/23   │ 1,020    │ 65%      │ 72%      │
│ 12/24   │ 840      │ 55%      │ 68%      │
│ 12/25   │ 480      │ 35%      │ 52%      │
└─────────┴──────────┴──────────┴──────────┘

💡 권장사항:
• 스케일 다운을 통한 비용 절약 가능
• 유지보수 작업 최적 시기: 12/25-12/26
```

**질의**: `성능 최적화 방안을 제안해주세요`
**기대 응답**:
```
⚡ 성능 최적화 제안사항

우선순위 1 (즉시 적용):
• WEB-03 서버 CPU 최적화
  - Nginx 워커 프로세스 수 조정 (4→8개)
  - 캐시 TTL 연장 (1h→4h)
  - 예상 효과: CPU 사용률 15% 감소

우선순위 2 (단기 - 1주 내):
• DB-01 메모리 최적화
  - 쿼리 캐시 크기 증가 (512MB→1GB)
  - 인덱스 재구성 (3개 테이블)
  - 예상 효과: 응답시간 25% 개선

우선순위 3 (중기 - 1개월 내):
• 로드 밸런싱 알고리즘 개선
  - 가중 라운드 로빈 → 최소 연결
  - 헬스체크 주기 최적화 (30s→10s)
  - 예상 효과: 전체 처리량 12% 향상

💰 예상 비용 절감: 월 $127 (리소스 효율화)
```

---

## 🚀 고급 질의

### 복합 분석

**질의**: `API 응답시간이 느린 원인을 분석해주세요`
**기대 응답**:
```
🔍 API 응답시간 지연 원인 분석

현재 상황:
• 평균 응답시간: 1,247ms (정상: <500ms)
• 가장 느린 엔드포인트: /api/data/analytics (2,340ms)
• 영향받는 사용자: 약 23%

근본 원인 분석:
1. 🔴 데이터베이스 병목 (75% 기여)
   - 복잡한 JOIN 쿼리 (평균 1,890ms)
   - 인덱스 누락 (user_activities 테이블)
   - 연결 풀 부족 (8/10 사용 중)

2. 🟡 메모리 부족 (15% 기여)
   - API-02 서버 메모리 스와핑 발생
   - 가비지 컬렉션 지연

3. 🟡 외부 API 의존성 (10% 기여)
   - 써드파티 서비스 응답 지연
   - 타임아웃 설정 부적절

🔧 해결 방안:
1. 즉시: DB 연결 풀 확장 (10→20개)
2. 단기: 인덱스 추가 및 쿼리 최적화
3. 중기: 캐시 레이어 구축 (Redis)
```

**질의**: `보안 이벤트나 이상 접근이 있었나요?`
**기대 응답**:
```
🛡️ 보안 이벤트 분석 (최근 24시간)

의심스러운 활동:
┌──────────┬─────────────┬─────────┬──────────────┐
│ 시간      │ 유형        │ 소스 IP │ 조치         │
├──────────┼─────────────┼─────────┼──────────────┤
│ 15:23    │ 무차별 대입  │ 203.x.x.x│ 자동 차단    │
│ 14:45    │ SQL 인젝션  │ 192.x.x.x│ WAF 차단     │
│ 13:12    │ 비정상 요청 │ 176.x.x.x│ 레이트 제한  │
└──────────┴─────────────┴─────────┴──────────────┘

보안 지표:
• 차단된 공격: 47건
• 성공적 침입: 0건
• 거짓 양성: 2건

🔒 현재 보안 상태: 안전
모든 공격이 성공적으로 차단되었으며, 시스템 무결성이 유지되고 있습니다.
```

---

## 💬 자연어 처리 팁

### 효과적인 질의 방법

#### ✅ 좋은 질의 예시:
- `CPU 사용률이 80% 이상인 서버를 찾아주세요`
- `어제와 비교해서 응답시간이 얼마나 개선되었나요?`
- `메모리 부족으로 인한 에러가 있는지 확인해주세요`

#### ❌ 피해야 할 질의:
- `뭔가 이상해` (구체적이지 않음)
- `서버` (질문이 불완전)
- `fix everything` (범위가 너무 넓음)

### 질의 카테고리별 키워드

#### 🔍 상태 조회:
`상태`, `현황`, `상태는`, `어떤가요`, `확인`, `조회`

#### 📊 성능 분석:
`성능`, `응답시간`, `처리량`, `부하`, `트렌드`, `분석`

#### 🚨 문제 진단:
`에러`, `오류`, `문제`, `장애`, `이상`, `경고`

#### 🔮 예측 및 추천:
`예측`, `추천`, `제안`, `최적화`, `개선`, `계획`

### 상황별 질의 템플릿

#### 정기 점검:
```
"전체 시스템 상태를 요약해주세요"
"CPU/메모리/디스크 사용률이 높은 서버를 알려주세요"
"최근 24시간 주요 이벤트를 정리해주세요"
```

#### 문제 발생 시:
```
"[서버명] 서버에 무슨 문제가 있나요?"
"응답시간이 느려진 원인을 분석해주세요"
"현재 발생 중인 에러를 모두 알려주세요"
```

#### 용량 계획:
```
"다음 달 예상 부하를 계산해주세요"
"스토리지 확장이 필요한 서버를 찾아주세요"
"성능 최적화 방안을 제안해주세요"
```

---

## 📝 참고사항

### AI 에이전트 기능 범위

**가능한 작업:**
- ✅ 실시간 시스템 상태 조회
- ✅ 성능 지표 분석 및 트렌드 파악
- ✅ 문제 진단 및 근본 원인 분석
- ✅ 예측 모델링 및 권장사항 제시
- ✅ 자연어 기반 복합 질의 처리

**제한사항:**
- ❌ 직접적인 시스템 설정 변경
- ❌ 서버 재시작 등 관리 작업 실행
- ❌ 보안 정책 변경
- ❌ 외부 시스템 제어

### 응답 시간 안내

| 질의 복잡도 | 예상 응답시간 | 예시 |
|------------|---------------|------|
| 단순 조회 | 1-2초 | 시스템 상태 확인 |
| 복합 분석 | 3-5초 | 성능 트렌드 분석 |
| 예측 모델링 | 5-10초 | 용량 계획 수립 |

---

*이 가이드는 OpenManager v5.17.10-MCP AI 에이전트의 효과적인 활용을 위한 참조 문서입니다. 추가 질의나 기능 문의는 시스템 관리자에게 연락해주세요.* 