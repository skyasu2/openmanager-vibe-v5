# ğŸš¨ ë°°í¬ ì˜¤ë¥˜ í•´ê²° ê°€ì´ë“œ

## 1. ì¦‰ì‹œ í™•ì¸í•´ì•¼ í•  ì‚¬í•­ë“¤

### âœ… í™˜ê²½ ë³€ìˆ˜ í™•ì¸
Vercel ëŒ€ì‹œë³´ë“œì—ì„œ ë‹¤ìŒ í™˜ê²½ ë³€ìˆ˜ë“¤ì´ ëª¨ë‘ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸:

```
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key
UPSTASH_REDIS_REST_URL=your_upstash_redis_url
UPSTASH_REDIS_REST_TOKEN=your_upstash_redis_token
```

### âœ… ë¹Œë“œ ëª…ë ¹ì–´ í™•ì¸
`package.json`ì—ì„œ scripts í™•ì¸:
```json
{
  "scripts": {
    "build": "next build",
    "start": "next start"
  }
}
```

### âœ… Node.js ë²„ì „ í™•ì¸
`package.json`ì— Node.js ë²„ì „ ëª…ì‹œ:
```json
{
  "engines": {
    "node": ">=18.0.0"
  }
}
```

## 2. ì£¼ìš” ì˜¤ë¥˜ë³„ í•´ê²°ì±…

### ğŸ”¥ TypeScript ESLint ì˜¤ë¥˜

**ì¦ìƒ:**
```bash
Error: Unexpected any. Specify a different type.  @typescript-eslint/no-explicit-any
```

**í•´ê²° ë°©ë²•:**
1. `any` íƒ€ì… ëŒ€ì‹  êµ¬ì²´ì ì¸ íƒ€ì… ì‚¬ìš©:
```typescript
// ì˜ëª»ëœ ì˜ˆ:
const data: any = fetchData();

// ì˜¬ë°”ë¥¸ ì˜ˆ:
const data: Record<string, unknown> = fetchData();
```

2. ë°˜í™˜ íƒ€ì… ëª…í™•íˆ ì§€ì •:
```typescript
// ì˜ëª»ëœ ì˜ˆ:
async function getData() {
  return await api.fetch();
}

// ì˜¬ë°”ë¥¸ ì˜ˆ:
async function getData(): Promise<ResponseType | null> {
  return await api.fetch();
}
```

3. `null` íƒ€ì… ì²˜ë¦¬:
```typescript
// ì˜ëª»ëœ ì˜ˆ:
const value = await cache.get(key) as number || 0;

// ì˜¬ë°”ë¥¸ ì˜ˆ:
const value = await cache.get(key) as number | null || 0;
```

4. ê°ì²´ íƒ€ì… êµ¬ì²´í™”:
```typescript
// ì˜ëª»ëœ ì˜ˆ:
interface Config {
  options: any;
}

// ì˜¬ë°”ë¥¸ ì˜ˆ:
interface Config {
  options: Record<string, unknown>;
}
```

### ğŸ”¥ Vercel í™˜ê²½ ë³€ìˆ˜ ì˜¤ë¥˜

**ì¦ìƒ:**
```bash
Environment Variable 'NEXT_PUBLIC_APP_URL' references Secret 'app-url', which does not exist.
```

**í•´ê²° ë°©ë²•:**

#### ë°©ë²• 1: í™˜ê²½ ë³€ìˆ˜ë¥¼ ì§ì ‘ ê°’ìœ¼ë¡œ ì„¤ì • (ê¶Œì¥)

1. **Vercel ëŒ€ì‹œë³´ë“œë¡œ ì´ë™**
   - í”„ë¡œì íŠ¸ â†’ Settings â†’ Environment Variables

2. **ê¸°ì¡´ í™˜ê²½ ë³€ìˆ˜ ì‚­ì œ í›„ ì¬ì„¤ì •**
   - `NEXT_PUBLIC_APP_URL` ì‚­ì œ
   - ìƒˆë¡œ ì¶”ê°€: `NEXT_PUBLIC_APP_URL` = `https://your-app-name.vercel.app`

3. **ëª¨ë“  í™˜ê²½ ë³€ìˆ˜ë¥¼ ì§ì ‘ ê°’ìœ¼ë¡œ ì„¤ì •**
   ```
   NEXT_PUBLIC_APP_URL = https://openmanager-vibe-v5.vercel.app
   NEXT_PUBLIC_SUPABASE_URL = https://your-project.supabase.co
   NEXT_PUBLIC_SUPABASE_ANON_KEY = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
   SUPABASE_SERVICE_ROLE_KEY = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
   UPSTASH_REDIS_REST_URL = https://your-redis.upstash.io
   UPSTASH_REDIS_REST_TOKEN = AXX2ASQzNzYyYjYtZGE5...
   ```

#### ë°©ë²• 2: vercel.json íŒŒì¼ ìˆ˜ì •

í”„ë¡œì íŠ¸ ë£¨íŠ¸ì˜ `vercel.json` íŒŒì¼ì—ì„œ Secret ì°¸ì¡° ì œê±°:

```json
{
  "framework": "nextjs",
  "buildCommand": "npm run build",
  "devCommand": "npm run dev",
  "installCommand": "npm install",
  "regions": ["icn1"],
  "functions": {
    "src/app/api/**/*.ts": {
      "maxDuration": 10
    }
  }
  // env ì„¹ì…˜ ì „ì²´ ì œê±° ë˜ëŠ” ìˆ˜ì •
}
```

#### ë°©ë²• 3: Vercel CLIë¡œ Secret ìƒì„± (ê³ ê¸‰)

í„°ë¯¸ë„ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ ì‹¤í–‰:

```bash
# Vercel CLI ì„¤ì¹˜ (í•„ìš”ì‹œ)
npm i -g vercel

# í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ì—ì„œ
vercel login
vercel link

# Secret ìƒì„±
vercel secrets add app-url "https://openmanager-vibe-v5.vercel.app"
vercel secrets add supabase-url "https://your-project.supabase.co"
vercel secrets add supabase-anon-key "your_anon_key"
vercel secrets add supabase-service-role-key "your_service_role_key"
vercel secrets add upstash-redis-url "your_redis_url"
vercel secrets add upstash-redis-token "your_redis_token"
```

#### í™˜ê²½ ë³€ìˆ˜ ê°’ í™•ì¸ ë°©ë²•

**Supabase ê°’ ì°¾ê¸°**
1. [Supabase ëŒ€ì‹œë³´ë“œ](https://supabase.com/dashboard) â†’ í”„ë¡œì íŠ¸ ì„ íƒ
2. Settings â†’ API
3. URL, anon key, service_role key ë³µì‚¬

**Upstash Redis ê°’ ì°¾ê¸°**
1. [Upstash ì½˜ì†”](https://console.upstash.com/) â†’ ë°ì´í„°ë² ì´ìŠ¤ ì„ íƒ
2. Details íƒ­ì—ì„œ REST API URLê³¼ Token ë³µì‚¬

**ì•± URL ì„¤ì •**
- ê°œë°œ: `http://localhost:3000`
- í”„ë¡œë•ì…˜: `https://your-app-name.vercel.app`

**ì£¼ì˜ì‚¬í•­**
- **Public í™˜ê²½ ë³€ìˆ˜** (`NEXT_PUBLIC_*`): í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥
- **Private í™˜ê²½ ë³€ìˆ˜**: ì„œë²„ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥
- **Secret í‚¤ë“¤**: ì ˆëŒ€ GitHubì— ì»¤ë°‹í•˜ì§€ ë§ ê²ƒ

### ğŸ”¥ ë¹Œë“œ ì‹¤íŒ¨ (Build Error)

**ì¦ìƒ:**
```bash
Error: Command "npm run build" exited with 1
```

**í•´ê²° ë°©ë²•:**
1. ë¡œì»¬ì—ì„œ ë¹Œë“œ í…ŒìŠ¤íŠ¸:
```bash
npm run build
```

2. ì˜ì¡´ì„± ì¬ì„¤ì¹˜:
```bash
rm -rf node_modules package-lock.json
npm install
```

3. TypeScript ì˜¤ë¥˜ í™•ì¸:
```bash
npm run type-check
```

### ğŸ”¥ í•¨ìˆ˜ ì‹¤í–‰ ì‹¤íŒ¨ (Function Timeout)

**ì¦ìƒ:**
```bash
[ERROR] Function execution timed out after 10 seconds
```

**í•´ê²° ë°©ë²•:**
1. `vercel.json` í•¨ìˆ˜ ì„¤ì • í™•ì¸:
```json
{
  "functions": {
    "src/app/api/**/*.ts": {
      "maxDuration": 10
    }
  }
}
```

2. API í•¨ìˆ˜ ìµœì í™”:
```typescript
// API í•¨ìˆ˜ì—ì„œ ë¹ ë¥¸ ì‘ë‹µ ë³´ì¥
export async function POST(request: Request) {
  try {
    // íƒ€ì„ì•„ì›ƒ ì„¤ì •
    const controller = new AbortController();
    const timeoutId = setTimeout(() => controller.abort(), 8000);
    
    // ì‹¤ì œ ë¡œì§
    const result = await processRequest(request, { signal: controller.signal });
    
    clearTimeout(timeoutId);
    return Response.json(result);
  } catch (error) {
    return Response.json({ error: 'Request failed' }, { status: 500 });
  }
}
```

### ğŸ”¥ í™˜ê²½ ë³€ìˆ˜ ëˆ„ë½

**ì¦ìƒ:**
```bash
Error: Environment variable "SUPABASE_URL" is not defined
```

**í•´ê²° ë°©ë²•:**
1. Vercel ëŒ€ì‹œë³´ë“œì—ì„œ í™˜ê²½ ë³€ìˆ˜ ì¶”ê°€
2. Production, Preview, Development ëª¨ë“  í™˜ê²½ì— ì„¤ì •
3. ì¬ë°°í¬ ì‹¤í–‰

### ğŸ”¥ ì„í¬íŠ¸ ì˜¤ë¥˜

**ì¦ìƒ:**
```bash
Module not found: Can't resolve '@/lib/redis'
```

**í•´ê²° ë°©ë²•:**
1. `tsconfig.json` ê²½ë¡œ í™•ì¸:
```json
{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }
  }
}
```

2. `next.config.js` ì„¤ì • í™•ì¸:
```javascript
/** @type {import('next').NextConfig} */
const nextConfig = {
  experimental: {
    // ì„¤ì • í™•ì¸
  }
}

module.exports = nextConfig
```

## 3. ê¸´ê¸‰ ìˆ˜ì • ë°©ë²•

### ğŸš€ 1ë‹¨ê³„: ê¸°ë³¸ ì„¤ì • í™•ì¸
```bash
# 1. ë¡œì»¬ ë¹Œë“œ í…ŒìŠ¤íŠ¸
npm run build

# 2. ë¦°íŠ¸ í™•ì¸
npm run lint

# 3. íƒ€ì… ì²´í¬
npm run type-check
```

### ğŸš€ 2ë‹¨ê³„: Vercel ì„¤ì • ì—…ë°ì´íŠ¸
1. Vercel ëŒ€ì‹œë³´ë“œ â†’ Settings â†’ Environment Variables
2. ëª¨ë“  í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜ ì¶”ê°€
3. Deployments â†’ Redeploy

### ğŸš€ 3ë‹¨ê³„: ìµœì†Œ êµ¬ì„±ìœ¼ë¡œ í…ŒìŠ¤íŠ¸
ì„ì‹œë¡œ ê°„ë‹¨í•œ í˜ì´ì§€ë§Œ ë°°í¬í•´ì„œ í…ŒìŠ¤íŠ¸:

```typescript
// src/app/page.tsx - ìµœì†Œ êµ¬ì„±
export default function Home() {
  return (
    <div>
      <h1>OpenManager Vibe V5</h1>
      <p>ë°°í¬ í…ŒìŠ¤íŠ¸ ì¤‘...</p>
    </div>
  )
}
```

## 4. ìƒì„¸ ë””ë²„ê¹… ë°©ë²•

### ğŸ“Š Vercel ë¡œê·¸ í™•ì¸
1. Vercel ëŒ€ì‹œë³´ë“œ â†’ Functions â†’ View Function Logs
2. ì‹¤ì‹œê°„ ë¡œê·¸ ëª¨ë‹ˆí„°ë§ìœ¼ë¡œ ì •í™•í•œ ì˜¤ë¥˜ ì§€ì  íŒŒì•…

### ğŸ“Š ë¡œì»¬ í™˜ê²½ í™•ì¸
```bash
# ë¡œì»¬ì—ì„œ í”„ë¡œë•ì…˜ ë¹Œë“œ í…ŒìŠ¤íŠ¸
npm run build
npm run start

# í™˜ê²½ ë³€ìˆ˜ í™•ì¸
echo $NEXT_PUBLIC_SUPABASE_URL
```

### ğŸ“Š ì˜ì¡´ì„± í˜¸í™˜ì„± í™•ì¸
```bash
# ì˜ì¡´ì„± ì¶©ëŒ í™•ì¸
npm ls
npm audit

# í˜¸í™˜ì„± ë¬¸ì œ í•´ê²°
npm update
```

## 5. ì„ì‹œ í•´ê²°ì±…

### ğŸ”§ ë‹¨ê³„ì  ë°°í¬
1. ë¨¼ì € ê¸°ë³¸ Next.js ì•±ë§Œ ë°°í¬
2. í•˜ë‚˜ì”© ê¸°ëŠ¥ ì¶”ê°€í•˜ë©° ë°°í¬
3. ì˜¤ë¥˜ ë°œìƒ ì§€ì  ì •í™•íˆ íŒŒì•…

### ğŸ”§ í™˜ê²½ ë¶„ë¦¬
1. Development í™˜ê²½ì—ì„œë§Œ ë¨¼ì € í…ŒìŠ¤íŠ¸
2. Preview í™˜ê²½ìœ¼ë¡œ ë‹¨ê³„ì  ì§„í–‰
3. Production í™˜ê²½ìœ¼ë¡œ ìµœì¢… ë°°í¬

## 6. ì˜ˆë°© ë°©ë²•

### âœ… ë°°í¬ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ë¡œì»¬ ë¹Œë“œ ì„±ê³µ í™•ì¸
- [ ] ëª¨ë“  í™˜ê²½ ë³€ìˆ˜ ì„¤ì • í™•ì¸
- [ ] TypeScript ì˜¤ë¥˜ ì—†ìŒ í™•ì¸
- [ ] ESLint ì˜¤ë¥˜ ì—†ìŒ í™•ì¸
- [ ] `any` íƒ€ì… ì‚¬ìš© ì—¬ë¶€ í™•ì¸
- [ ] ì˜ì¡´ì„± ë²„ì „ í˜¸í™˜ì„± í™•ì¸
- [ ] API í•¨ìˆ˜ íƒ€ì„ì•„ì›ƒ ì„¤ì • í™•ì¸

### âœ… ëª¨ë‹ˆí„°ë§ ì„¤ì •
- [ ] Vercel ì•Œë¦¼ ì„¤ì •
- [ ] ì˜¤ë¥˜ ë¡œê¹… ì‹œìŠ¤í…œ êµ¬ì¶•
- [ ] í—¬ìŠ¤ì²´í¬ ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€

---

**ğŸš¨ ê¸´ê¸‰ ì§€ì›ì´ í•„ìš”í•˜ì‹œë©´ êµ¬ì²´ì ì¸ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ê³µìœ í•´ì£¼ì„¸ìš”!**