# ğŸš€ ë² ë¥´ì…€ ê°œë°œ ê°€ì´ë“œ v2025

> **OpenManager Vibe v5** - ë² ë¥´ì…€ 2025ë…„ ìµœì‹  ê°œë°œ ëª¨ë²” ì‚¬ë¡€  
> **ì‘ì„±ì¼**: 2025-07-01 20:05:00 (KST) - ê³µì‹ ë¬¸ì„œ ê¸°ì¤€ ì—…ë°ì´íŠ¸

## ğŸ“‹ **ê°œìš”**

ì´ ê°€ì´ë“œëŠ” ë² ë¥´ì…€ ê³µì‹ ë¬¸ì„œë¥¼ ê¸°ì¤€ìœ¼ë¡œ OpenManager Vibe v5ì˜ ë°°í¬ ì„¤ì •ì„ 2025ë…„ ìµœì‹  ê¸°ì¤€ì— ë§ì¶° ìµœì í™”í•˜ëŠ” ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤.

## ğŸ†• **2025ë…„ ì£¼ìš” ë³€í™”ì‚¬í•­**

### 1. **Fluid Compute ë„ì…** (ê¶Œì¥)

- **ê¸°ë³¸ íƒ€ì„ì•„ì›ƒ**: 300ì´ˆ (ê¸°ì¡´ 10-15ì´ˆ)
- **ìµœëŒ€ íƒ€ì„ì•„ì›ƒ**: Pro 800ì´ˆ, Enterprise 800ì´ˆ
- **ë¹„ìš© íš¨ìœ¨ì„±**: I/O ëŒ€ê¸° ì‹œê°„ ìš”ê¸ˆ ì œì™¸
- **ë™ì‹œ ì‹¤í–‰**: 30,000ê°œ (Pro), 100,000ê°œ (Enterprise)

### 2. **Edge Runtime í™œìš©**

- **ì½œë“œ ìŠ¤íƒ€íŠ¸**: ê±°ì˜ ì œë¡œ
- **ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰**: ë” íš¨ìœ¨ì 
- **ê¸€ë¡œë²Œ ë¶„ì‚°**: ìë™ ìµœì í™”

### 3. **í–¥ìƒëœ ëª¨ë‹ˆí„°ë§**

- **Speed Insights**: ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
- **Web Analytics**: ì‚¬ìš©ì ë¶„ì„
- **Observability Plus**: ê³ ê¸‰ ë¡œê¹…

## ğŸ”§ **í˜„ì¬ ì„¤ì • ê°œì„ ì•ˆ**

### 1. **vercel.json ìµœì í™”**

```json
{
  "$schema": "https://openapi.vercel.sh/vercel.json",
  "version": 2,
  "name": "openmanager-vibe-v5",
  "framework": "nextjs",

  // ğŸ†• Fluid Compute í™œìš©
  "functions": {
    "src/app/api/**/*.ts": {
      "maxDuration": 300,
      "memory": 1024,
      "runtime": "nodejs20.x"
    },
    "src/app/api/ai/**/*.ts": {
      "maxDuration": 600,
      "memory": 2048,
      "runtime": "nodejs20.x"
    },
    "src/app/api/edge/**/*.ts": {
      "runtime": "edge"
    }
  },

  // ğŸ”’ í–¥ìƒëœ ë³´ì•ˆ í—¤ë” (2025ë…„ ê¸°ì¤€)
  "headers": [
    {
      "source": "/(.*)",
      "headers": [
        {
          "key": "X-Content-Type-Options",
          "value": "nosniff"
        },
        {
          "key": "X-Frame-Options",
          "value": "DENY"
        },
        {
          "key": "X-XSS-Protection",
          "value": "1; mode=block"
        },
        {
          "key": "Strict-Transport-Security",
          "value": "max-age=31536000; includeSubDomains"
        },
        {
          "key": "Referrer-Policy",
          "value": "strict-origin-when-cross-origin"
        },
        {
          "key": "Permissions-Policy",
          "value": "camera=(), microphone=(), geolocation=()"
        }
      ]
    },
    {
      "source": "/api/(.*)",
      "headers": [
        {
          "key": "Cache-Control",
          "value": "public, max-age=300, s-maxage=600, stale-while-revalidate=86400"
        }
      ]
    },
    {
      "source": "/api/ai/logging/stream",
      "headers": [
        {
          "key": "Cache-Control",
          "value": "no-cache, no-store, must-revalidate"
        },
        {
          "key": "X-Accel-Buffering",
          "value": "no"
        }
      ]
    }
  ],

  // ğŸŒ ê¸€ë¡œë²Œ ìµœì í™”
  "regions": ["icn1", "sin1"],
  "cleanUrls": true,
  "trailingSlash": false,

  // ğŸš€ ì„±ëŠ¥ ìµœì í™”
  "buildCommand": "npm run build",
  "outputDirectory": ".next",
  "installCommand": "npm ci",

  // ğŸ”„ ë¦¬ë””ë ‰ì…˜ ë° ë¼ìš°íŒ…
  "redirects": [
    {
      "source": "/",
      "has": [
        {
          "type": "query",
          "key": "dashboard"
        }
      ],
      "destination": "/dashboard",
      "permanent": false
    }
  ],

  "rewrites": [
    {
      "source": "/health",
      "destination": "/api/health"
    }
  ],

  // ğŸ†• í™˜ê²½ë³„ ìµœì í™”
  "env": {
    "DISABLE_LOCAL_RAG": "true",
    "PREFER_SUPABASE_RAG": "true",
    "AI_ENGINE_PRIORITY": "supabase_rag,rule_based,mcp,google_ai",
    "VERCEL_HEALTH_OPTIMIZATION": "true",
    "HEALTH_CHECK_CACHE_HOURS": "6",
    "DISABLE_EXCESSIVE_HEALTH_CHECKS": "true",
    "DISABLE_CRON_JOBS": "true",
    "AI_STREAM_TIMEOUT_PREVENTION": "true",
    "FLUID_COMPUTE_ENABLED": "true"
  },

  "build": {
    "env": {
      "NODE_ENV": "production",
      "DISABLE_LOCAL_RAG": "true",
      "VERCEL_HEALTH_OPTIMIZATION": "true",
      "DISABLE_CRON_JOBS": "true",
      "AI_STREAM_TIMEOUT_PREVENTION": "true",
      "NODE_OPTIONS": "--max-old-space-size=4096"
    }
  }
}
```

### 2. **Next.js ì„¤ì • ìµœì í™”**

```javascript
// next.config.mjs
/** @type {import('next').NextConfig} */
const nextConfig = {
  // ğŸ†• App Router ìµœì í™”
  experimental: {
    serverActions: {
      allowedOrigins: ['openmanager-vibe-v5.vercel.app', 'localhost:3000'],
    },
    optimizePackageImports: ['@supabase/supabase-js'],
    turbo: {
      rules: {
        '*.svg': {
          loaders: ['@svgr/webpack'],
          as: '*.js',
        },
      },
    },
  },

  // ğŸš€ ë²ˆë“¤ ìµœì í™”
  webpack: (config, { isServer, dev }) => {
    // í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œë§Œ ìµœì í™”
    if (!dev) {
      config.optimization.splitChunks = {
        chunks: 'all',
        cacheGroups: {
          vendor: {
            test: /[\\/]node_modules[\\/]/,
            name: 'vendors',
            chunks: 'all',
          },
        },
      };
    }

    // í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ í´ë°± ì„¤ì •
    if (!isServer) {
      config.resolve.fallback = {
        ...config.resolve.fallback,
        fs: false,
        net: false,
        tls: false,
        dns: false,
        crypto: false,
        stream: false,
        util: false,
        url: false,
        querystring: false,
      };
    }

    return config;
  },

  // ğŸ”’ ë³´ì•ˆ ì„¤ì •
  poweredByHeader: false,

  // ğŸ“Š ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
  analyticsId: process.env.VERCEL_ANALYTICS_ID,

  // ğŸŒ ì´ë¯¸ì§€ ìµœì í™”
  images: {
    domains: ['openmanager-vibe-v5.vercel.app'],
    formats: ['image/webp', 'image/avif'],
    minimumCacheTTL: 31536000,
  },

  // ğŸ“ TypeScript ë° ESLint
  typescript: {
    ignoreBuildErrors: false,
  },
  eslint: {
    ignoreDuringBuilds: false,
  },

  // ğŸ”§ ì„œë²„ ì„¤ì •
  serverExternalPackages: ['@supabase/supabase-js'],
};

export default nextConfig;
```

### 3. **í™˜ê²½ë³€ìˆ˜ ì—…ë°ì´íŠ¸**

ê¸°ì¡´ ì„¤ì •ì— ì¶”ê°€í•  í™˜ê²½ë³€ìˆ˜:

```bash
# ğŸ†• Vercel 2025ë…„ ê¸°ëŠ¥ í™œì„±í™”
VERCEL_SPEED_INSIGHTS_ENABLED=true
VERCEL_WEB_ANALYTICS_ENABLED=true
FLUID_COMPUTE_ENABLED=true
EDGE_RUNTIME_ENABLED=true

# ğŸ”’ ë³´ì•ˆ ê°•í™”
VERCEL_AUTOMATION_BYPASS_SECRET=your-secret-key
VERCEL_BRANCH_PROTECTION_BYPASS=your-bypass-token

# âš¡ ì„±ëŠ¥ ìµœì í™”
NEXT_PRIVATE_STANDALONE=true
TURBO_TELEMETRY_DISABLED=1
NEXT_PRIVATE_OUTPUT_TRACE=true

# ğŸŒ ê¸€ë¡œë²Œ ì„¤ì •
VERCEL_REGION=icn1
VERCEL_EDGE_REGIONS=icn1,sin1,nrt1

# ğŸ“Š ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…
VERCEL_LOG_LEVEL=info
OBSERVABILITY_PLUS_ENABLED=true
RUNTIME_LOGS_ENABLED=true
```

## ğŸ†• **2025ë…„ ìƒˆë¡œìš´ ê¸°ëŠ¥ í™œìš©**

### 1. **Fluid Compute ë§ˆì´ê·¸ë ˆì´ì…˜**

```typescript
// src/app/api/ai/route.ts
import { NextRequest } from 'next/server';

// ğŸ†• Fluid Compute ì„¤ì •
export const maxDuration = 600; // 10ë¶„ (ê¸°ì¡´ 45ì´ˆ â†’ 600ì´ˆ)
export const runtime = 'nodejs'; // Fluid Compute í™œì„±í™”

export async function POST(request: NextRequest) {
  // ì¥ì‹œê°„ AI ì²˜ë¦¬ ì‘ì—…
  const result = await processLongAITask();
  return Response.json(result);
}
```

### 2. **Edge Runtime í™œìš©**

```typescript
// src/app/api/edge/health/route.ts
import { NextRequest } from 'next/server';

// ğŸ†• Edge Runtimeìœ¼ë¡œ ì½œë“œ ìŠ¤íƒ€íŠ¸ ì œê±°
export const runtime = 'edge';

export async function GET(request: NextRequest) {
  return new Response(
    JSON.stringify({
      status: 'OK',
      timestamp: new Date().toISOString(),
      region: process.env.VERCEL_REGION || 'unknown',
    }),
    {
      status: 200,
      headers: {
        'Content-Type': 'application/json',
        'Cache-Control': 'public, max-age=60',
      },
    }
  );
}
```

### 3. **ëª¨ë‹ˆí„°ë§ í†µí•©**

```tsx
// src/app/layout.tsx
import { Analytics } from '@vercel/analytics/react';
import { SpeedInsights } from '@vercel/speed-insights/next';

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang='ko'>
      <body>
        {children}
        {/* ğŸ†• Vercel 2025 ëª¨ë‹ˆí„°ë§ */}
        <Analytics />
        <SpeedInsights />
      </body>
    </html>
  );
}
```

## ğŸ“Š **ì„±ëŠ¥ ìµœì í™” ì²´í¬ë¦¬ìŠ¤íŠ¸**

### âœ… **í•„ìˆ˜ ìµœì í™”**

- [ ] Fluid Compute í™œì„±í™” (`maxDuration: 300+`)
- [ ] Edge Runtime ì ìš© (ê°„ë‹¨í•œ API)
- [ ] ë³´ì•ˆ í—¤ë” ì—…ë°ì´íŠ¸ (2025ë…„ ê¸°ì¤€)
- [ ] ì´ë¯¸ì§€ ìµœì í™” (WebP, AVIF)
- [ ] ë²ˆë“¤ ë¶„ì„ ë° ìµœì í™”

### âœ… **ëª¨ë‹ˆí„°ë§ ì„¤ì •**

- [ ] Speed Insights í™œì„±í™”
- [ ] Web Analytics í™œì„±í™”
- [ ] Runtime Logs ì„¤ì •
- [ ] Error Boundary êµ¬í˜„
- [ ] Performance ë©”íŠ¸ë¦­ ì¶”ì 

### âœ… **ë³´ì•ˆ ê°•í™”**

- [ ] ìµœì‹  ë³´ì•ˆ í—¤ë” ì ìš©
- [ ] í™˜ê²½ë³€ìˆ˜ ì•”í˜¸í™”
- [ ] CORS ì •ì±… ì—…ë°ì´íŠ¸
- [ ] Rate Limiting êµ¬í˜„
- [ ] Bot Protection ì„¤ì •

## ğŸ”„ **ë°°í¬ ì›Œí¬í”Œë¡œìš° 2025**

### 1. **GitHub Actions ì—…ë°ì´íŠ¸**

```yaml
# .github/workflows/vercel-deploy-2025.yml
name: Vercel Deploy 2025
on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'

      # ğŸ†• 2025ë…„ ê°œì„ ì‚¬í•­
      - name: Install dependencies
        run: npm ci --prefer-offline --no-audit

      - name: Run tests
        run: npm run test

      - name: Build application
        run: npm run build
        env:
          FLUID_COMPUTE_ENABLED: true

      - name: Deploy to Vercel
        uses: amondnet/vercel-action@v25
        with:
          vercel-token: ${{ secrets.VERCEL_TOKEN }}
          vercel-org-id: ${{ secrets.VERCEL_ORG_ID }}
          vercel-project-id: ${{ secrets.VERCEL_PROJECT_ID }}
          vercel-args: '--prod'
```

### 2. **ë°°í¬ í›„ ìë™ ê²€ì¦**

```typescript
// scripts/post-deploy-verification.ts
export async function verifyDeployment() {
  const checks = [
    {
      name: 'Health Check',
      url: '/api/health',
      expect: (res: Response) => res.status === 200,
    },
    {
      name: 'Speed Insights',
      url: '/_vercel/insights/script.js',
      expect: (res: Response) => res.status === 200,
    },
    {
      name: 'Security Headers',
      url: '/',
      expect: (res: Response) =>
        res.headers.get('X-Content-Type-Options') === 'nosniff',
    },
  ];

  for (const check of checks) {
    const response = await fetch(`${process.env.VERCEL_URL}${check.url}`);
    if (!check.expect(response)) {
      throw new Error(`Deployment verification failed: ${check.name}`);
    }
  }

  console.log('âœ… All deployment verifications passed');
}
```

## ğŸ¯ **ë§ˆì´ê·¸ë ˆì´ì…˜ ë¡œë“œë§µ**

### **1ë‹¨ê³„: ì¦‰ì‹œ ì ìš© (ì˜¤ëŠ˜)**

1. í™˜ê²½ë³€ìˆ˜ì— `FLUID_COMPUTE_ENABLED=true` ì¶”ê°€
2. Speed Insights ë° Analytics ì„¤ì •
3. ë³´ì•ˆ í—¤ë” ì—…ë°ì´íŠ¸

### **2ë‹¨ê³„: 1ì£¼ì¼ ë‚´**

1. AI APIì— Fluid Compute ì ìš© (`maxDuration: 600`)
2. Edge Runtimeìœ¼ë¡œ ê°„ë‹¨í•œ API ë§ˆì´ê·¸ë ˆì´ì…˜
3. ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ ì„¤ì •

### **3ë‹¨ê³„: 1ê°œì›” ë‚´**

1. ì „ì²´ ì„±ëŠ¥ ìµœì í™” ì™„ë£Œ
2. ìë™í™”ëœ ë°°í¬ íŒŒì´í”„ë¼ì¸ êµ¬ì¶•
3. ê³ ê¸‰ ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼ ì‹œìŠ¤í…œ êµ¬ì¶•

---

## ğŸ“š **ì°¸ê³  ìë£Œ**

- [Vercel ê³µì‹ ë¬¸ì„œ 2025](https://vercel.com/docs)
- [Next.js App Router ìµœì í™”](https://nextjs.org/docs/app/building-your-application/deploying)
- [Fluid Compute ê°€ì´ë“œ](https://vercel.com/docs/compute/functions)
- [Edge Runtime API](https://vercel.com/docs/compute/edge-runtime)
- [Vercel ë³´ì•ˆ ëª¨ë²” ì‚¬ë¡€](https://vercel.com/docs/security)

**ì´ì œ OpenManager Vibe v5ê°€ 2025ë…„ ìµœì‹  ë² ë¥´ì…€ í”Œë«í¼ì„ 100% í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!** ğŸš€
