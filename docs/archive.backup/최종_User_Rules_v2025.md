# 🎯 최종 User Rules v2025

> **OpenManager Vibe v5 & 바이브 코딩 최적화 버전**

## 📋 핵심 개발 원칙

### 🏗️ **코드 구조 및 설계**

```markdown
- 800줄 넘는 파일은 SOLID 원칙에 따라 분리 작업 실시
- 단일 책임, 개방-폐쇄, 의존성 역전 등 SOLID 원칙 준수
- 점진적 구현: 작은 단위로 완성
- 점진적 리팩토링: 작은 단위로 개선하며 항상 테스트 유지
```

### 🧪 **테스트 주도 개발**

```markdown
- TDD 우선: 테스트 먼저 작성
- 단위 테스트는 필수: tests/unit/ 디렉토리 활용
- 통합 테스트로 시스템 검증: tests/integration/ 활용
- 기능 개발 전 항상 검증 스크립트 실행: npm run validate:quick
```

### ⚙️ **품질 관리 프로세스**

```markdown
- 커밋 전 자동 검증: type-check → lint → test:unit → build
- 성능 최적화는 측정 후 진행: lighthouse, bundle analyzer 활용
- 문서화는 코드와 함께 업데이트 (README, JSDoc, 인라인 주석)
```

---

## 🤖 **AI 협업 규칙 (바이브 코딩 특화)**

### 💬 **AI와의 소통**

```markdown
- 복잡한 작업은 AI에게 단계별로 요청
- 에러 발생 시 에러 메시지와 컨텍스트를 AI에게 정확히 제공
- 코드 리뷰 시 AI 도움 적극 활용
- 구체적이고 명확한 요청: "이 함수에 타입 추가해줘" (O) vs "코드 고쳐줘" (X)
```

### 🔄 **AI 협업 워크플로우**

```markdown
- Ctrl + L로 현재 파일 컨텍스트 먼저 제공
- 한 번에 하나의 작업만 요청
- AI 제안을 받은 후 반드시 테스트 실행
- 관련 없는 파일은 닫아서 AI 혼동 방지
```

---

## 🛡️ **에러 처리 및 보안**

### ⚠️ **에러 처리**

```markdown
- 모든 async 함수에 try-catch 필수
- 사용자에게 노출될 에러는 친화적 메시지로 변환
- 개발 환경에서는 상세 에러, 프로덕션에서는 일반적 에러
- 에러 발생 시 적절한 로깅과 함께 복구 방안 제시
```

### 🔐 **보안 기본 규칙**

```markdown
- API 키 등 민감정보는 환경변수 사용 필수
- 사용자 입력값은 항상 검증 (클라이언트 + 서버 양쪽)
- SQL 쿼리는 파라미터화 사용
- 인증이 필요한 API는 적절한 권한 검사
```

---

## 📊 **로깅 및 디버깅**

### 🔍 **로깅 규칙**

```markdown
- console.log는 개발 중에만, 프로덕션 빌드에서는 제거
- 이모지로 로그 구분: 📊 데이터, 🎯 성공, ⚠️ 경고, ❌ 에러, 🔄 진행
- 성능 측정이 필요한 부분에는 시간 로깅 추가
- 중요한 비즈니스 로직에는 실행 과정 로깅
```

### 🐛 **디버깅 지원**

```markdown
- 복잡한 데이터 구조는 JSON.stringify로 출력
- 조건부 로깅: 개발 환경에서만 상세 로그
- 에러 스택 트레이스 보존
- 재현 가능한 테스트 케이스 작성
```

---

## 🎯 **실무 적용 가이드**

### 📝 **일일 체크리스트**

```markdown
아침 시작:
□ npm run validate:quick 실행
□ git pull origin main
□ 테스트 환경 정상 동작 확인

개발 중:
□ 기능 구현 전 테스트 먼저 작성
□ 800줄 넘는 파일은 즉시 분리 계획
□ AI와 협업 시 명확한 컨텍스트 제공

커밋 전:
□ npm run type-check
□ npm run lint
□ npm run test:unit
□ npm run build
□ 관련 문서 업데이트 확인
```

### 🔄 **주간 리뷰**

```markdown
□ 코드 품질 메트릭 확인
□ 테스트 커버리지 검토
□ 성능 측정 결과 분석
□ 기술 부채 정리 계획
□ AI 협업 패턴 개선점 도출
```

---

## 💡 **규칙 적용 우선순위**

### 🚨 **최우선 (절대 지켜야 함)**

1. TDD: 테스트 먼저 작성
2. 커밋 전 자동 검증 파이프라인
3. 민감정보 환경변수 사용
4. async 함수 에러 처리

### ⭐ **높은 우선순위 (가능한 지키기)**

1. 800줄 파일 분리
2. AI 협업 시 명확한 소통
3. 이모지 로깅 사용
4. 점진적 리팩토링

### 📈 **지속적 개선 (시간 날 때)**

1. 성능 최적화
2. 문서화 개선
3. 테스트 커버리지 향상
4. 코드 구조 개선

---

## 🎉 **성공 지표**

### 📊 **정량적 지표**

- 테스트 커버리지 80% 이상 유지
- 빌드 실패율 5% 이하
- 800줄 넘는 파일 0개 유지
- 보안 취약점 0개

### 🎯 **정성적 지표**

- AI와의 협업이 자연스러워짐
- 디버깅 시간 단축
- 코드 리뷰 품질 향상
- 팀원 간 코딩 스타일 일관성

---

**🚀 이 규칙들로 더 나은 코딩 경험을 만들어가세요!**
