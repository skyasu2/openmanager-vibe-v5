# ë©”ëª¨ë¦¬ ì‚¬ìš© ê°€ì´ë“œ - íŒ€ í˜‘ì—… ë° í™˜ê²½ë³„ ì„¤ì •

**ìƒì„±ì¼**: 2025-08-24  
**ê¸°ë°˜**: 4-AI êµì°¨ê²€ì¦ ê²°ê³¼ (Claude 8.2/10, Gemini 6.2/10, Codex 6.0/10, Qwen 9.5/10)

## ğŸš¨ ì¤‘ìš” ê³µì§€

**JavaScript heap out of memory ë¬¸ì œ í•´ê²°ì„ ìœ„í•´ ë©”ëª¨ë¦¬ ì„¤ì •ì´ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤.**

âš ï¸ **í™˜ê²½ ë¶ˆì¼ì¹˜ ë°©ì§€**: ê¸€ë¡œë²Œ NODE_OPTIONS ì„¤ì •ì„ ì œê±°í•˜ê³  ìŠ¤í¬ë¦½íŠ¸ë³„ ì„¤ì •ìœ¼ë¡œ ì „í™˜í–ˆìŠµë‹ˆë‹¤.

### ğŸ§© WSL ìƒìœ„ ë¦¬ì†ŒìŠ¤ ì •ì±… ì •ë ¬ (2025-08-28)

WSL ì „ì²´ ìƒí•œì„ ê³¼ë„í•˜ê²Œ(24GB/ì „ì²´ 75%) í• ë‹¹í•œ ì´ì „ êµ¬ì„±ì—ì„œ 16GB(50%)ë¡œ ì¶•ì†Œí•˜ì—¬ Windows í˜¸ìŠ¤íŠ¸ ì—¬ìœ , ë¸Œë¼ìš°ì €/IDE ë°˜ì‘ì„±, ìŠ¤ì™‘ I/Oë¥¼ ê°œì„ í•©ë‹ˆë‹¤.

| í•­ëª© | ì´ì „ | ì‹ ê·œ ê¶Œì¥ | ê·¼ê±° |
|------|------|----------|------|
| memory | 24GB | 16GB | Node í™ ìµœëŒ€ 8GB + DB/íˆ´ ì—¬ìœ  í¬í•¨ 16GB í˜„ì‹¤ì  ìƒí•œ |
| processors | 16 | 12 | í˜¸ìŠ¤íŠ¸ ìŠ¤ì¼€ì¤„ë§ ì—¬ìœ  í™•ë³´ (ì•½ 25% ì˜ˆì•½) |
| swap | 8GB | 4GB | ê³¼ë„í•œ ìŠ¤ì™‘ íšŒí”¼, ê´€ì¸¡ í›„ í•„ìš” ì‹œ ìƒí–¥ |
| nestedVirtualization | true | ì œê±° | ë¹„ê³µì‹/íš¨ê³¼ ë¯¸ë¯¸, ì¡ìŒ ì œê±° |
| vmIdleTimeout | 60000 | ì œê±° | ê³µì‹ í‚¤ ì•„ë‹˜ (ì ìš© ë¶ˆí™•ì‹¤) |

ìˆ˜ë™ ë°˜ì˜ ì ˆì°¨(ìë™ ì¬ì‹œì‘ ê¸ˆì§€ ìš”êµ¬ ë°˜ì˜):

```powershell
# ëª¨ë“  WSL ì…¸ ë‹«ì€ ë’¤ ìˆ˜ë™ ì ìš©
wsl --shutdown
# ìƒˆ í„°ë¯¸ë„ì—ì„œ í™•ì¸
free -h
nproc
```

ê´€ë ¨ íŒŒì¼: `.wslconfig` (2025-08-28 ê°œì„  ì£¼ì„ í¬í•¨)

## ğŸ“Š í™˜ê²½ë³„ ê¶Œì¥ ë©”ëª¨ë¦¬ ì„¤ì •

### ğŸ¯ ê°œë°œ í™˜ê²½ (WSL/Linux/macOS)

| ì‘ì—… ìœ í˜• | ë©”ëª¨ë¦¬ ì„¤ì • | ëª…ë ¹ì–´ | ê¶Œì¥ ìƒí™© |
|-----------|-------------|--------|-----------|
| **ì¼ë°˜ ê°œë°œ** | 4GB | `npm run dev` | ëŒ€ë¶€ë¶„ì˜ ê°œë°œ ì‘ì—… |
| **ê²½ëŸ‰ ê°œë°œ** | 2GB | `npm run dev:light` | ë¦¬ì†ŒìŠ¤ ì ˆì•½ í•„ìš”ì‹œ |
| **ëŒ€ìš©ëŸ‰ ì‘ì—…** | 8GB | `npm run dev:heavy` | AI ê°œë°œ, ëŒ€ê·œëª¨ ë¹Œë“œ |

### ğŸ—ï¸ ë¹Œë“œ í™˜ê²½

| í™˜ê²½ | ë©”ëª¨ë¦¬ ì„¤ì • | ëª…ë ¹ì–´ | ìš©ë„ |
|------|-------------|--------|------|
| **ê¸°ë³¸ ë¹Œë“œ** | 2GB | `npm run build` | ì¼ë°˜ì ì¸ í”„ë¡œë•ì…˜ ë¹Œë“œ |
| **ê°œë°œ ë¹Œë“œ** | 4GB | `npm run build:dev` | ê°œë°œìš© ë¹Œë“œ (ì†ŒìŠ¤ë§µ í¬í•¨) |
| **ëŒ€ìš©ëŸ‰ ë¹Œë“œ** | 8GB | `npm run build:heavy` | ë³µì¡í•œ ìµœì í™” ì‘ì—… |
| **CI í™˜ê²½** | 1.5GB | `npm run build:ci` | GitHub Actions ìµœì í™” |
| **Vercel ë¹Œë“œ** | 1.5GB | ìë™ ì ìš© | Vercel í”Œë«í¼ ì œí•œ |

### ğŸ’» Claude Code ì‹¤í–‰

| ìš©ë„ | ë©”ëª¨ë¦¬ ì„¤ì • | ëª…ë ¹ì–´ | ê¶Œì¥ ìƒí™© |
|------|-------------|--------|-----------|
| **ì¼ë°˜ ì‚¬ìš©** | 4GB | `claude-dev` | í‘œì¤€ AI ê°œë°œ ì‘ì—… |
| **ê²½ëŸ‰ ì‚¬ìš©** | 2GB | `claude-light` | ê°„ë‹¨í•œ ì§ˆë¬¸, ë¦¬ì†ŒìŠ¤ ì ˆì•½ |
| **ì§‘ì¤‘ ì‘ì—…** | 8GB | `claude-heavy` | ë³µì¡í•œ ì½”ë”©, ëŒ€í™”í˜• ê°œë°œ |
| **ìŠ¤í¬ë¦½íŠ¸** | ê°€ë³€ | `claude-memory` | ìë™ ë©”ëª¨ë¦¬ ì„¤ì • |

## ğŸ” ë©”ëª¨ë¦¬ ë¶€ì¡± ì¦ìƒ ë° í•´ê²°ì±…

### âš ï¸ ì¦ìƒ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] `JavaScript heap out of memory` ì˜¤ë¥˜
- [ ] ë¹Œë“œ/ê°œë°œ ì„œë²„ê°€ ê°‘ìê¸° ì¤‘ë‹¨ë¨  
- [ ] ì‹œìŠ¤í…œ ì „ì²´ ì‘ë‹µ ì†ë„ ì €í•˜
- [ ] ë¹Œë“œ ì‹œê°„ì´ í‰ì†Œë³´ë‹¤ 10ë°° ì´ìƒ ì†Œìš”
- [ ] TypeScript ì»´íŒŒì¼ì´ ë©ˆì¶¤

### ğŸš€ ì¦‰ì‹œ í•´ê²° ë°©ë²•

```bash
# 1ë‹¨ê³„: ê²½ëŸ‰ ëª¨ë“œë¡œ ì‹œì‘
npm run dev:light        # 2GBë¡œ ì‹œì‘

# 2ë‹¨ê³„: í‘œì¤€ ëª¨ë“œë¡œ ì¦ê°€
npm run dev              # 4GBë¡œ ì¦ê°€

# 3ë‹¨ê³„: ëŒ€ìš©ëŸ‰ ëª¨ë“œë¡œ í™•ì¥
npm run dev:heavy        # 8GBë¡œ í™•ì¥

# 4ë‹¨ê³„: Claude Code ë©”ëª¨ë¦¬ ì•ˆì „ ëª¨ë“œ
claude-memory            # ìŠ¤í¬ë¦½íŠ¸ ìë™ ì„¤ì •
```

### ğŸ“Š ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§

```bash
# ì‹¤ì‹œê°„ ë©”ëª¨ë¦¬ ëª¨ë‹ˆí„°ë§
npm run monitor:memory

# ê°œë°œ ì„œë²„ + ë©”ëª¨ë¦¬ ì¶”ì 
npm run monitor:memory:dev

# ë¹Œë“œ + ë©”ëª¨ë¦¬ ì¶”ì   
npm run monitor:memory:build

# ì—°ì† ëª¨ë‹ˆí„°ë§ (5ì´ˆ ê°„ê²©)
node scripts/memory-monitor.js --watch
```

## ğŸ‘¥ íŒ€ í˜‘ì—… ê°€ì´ë“œë¼ì¸

### ğŸ”„ ìƒˆë¡œìš´ íŒ€ì› ì˜¨ë³´ë”©

1. **í•„ìˆ˜ ì„¤ì • í™•ì¸**

    ```bash
   # ~/.bashrc í™•ì¸ (ê¸€ë¡œë²Œ NODE_OPTIONS ì—†ì–´ì•¼ í•¨)
   grep NODE_OPTIONS ~/.bashrc
   
   # ë³„ì¹­ ì„¤ì • í™•ì¸
   alias | grep claude
   ```

2. **ì²« ë²ˆì§¸ ì‹¤í–‰ í…ŒìŠ¤íŠ¸**

    ```bash
   # ë©”ëª¨ë¦¬ ëª¨ë‹ˆí„°ë§ê³¼ í•¨ê»˜ ê°œë°œ ì„œë²„ ì‹œì‘
   npm run monitor:memory:dev
   ```

### ğŸ’¡ Code Review ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] ë©”ëª¨ë¦¬ ì§‘ì•½ì  ì½”ë“œì— ëŒ€í•œ ì£¼ì„ ì¶”ê°€
- [ ] ëŒ€ìš©ëŸ‰ ë°°ì—´/ê°ì²´ ìƒì„± ì‹œ ì •ë‹¹ì„± ê²€í† 
- [ ] ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ê°€ëŠ¥ì„± ìˆëŠ” íŒ¨í„´ í™•ì¸ (ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ, íƒ€ì´ë¨¸ ë“±)
- [ ] í”„ë¡œë•ì…˜ í™˜ê²½ ë©”ëª¨ë¦¬ ì œí•œ ê³ ë ¤

### ğŸš¨ í™˜ê²½ë³„ ì£¼ì˜ì‚¬í•­

#### WSL ì‚¬ìš©ì

```bash
# WSL ë©”ëª¨ë¦¬ ìƒíƒœ í™•ì¸
free -h

# WSL ë©”ëª¨ë¦¬ ë¶€ì¡± ì‹œ Windows ì„¤ì • ì¡°ì • í•„ìš”
# .wslconfig íŒŒì¼ì—ì„œ memory ì„¤ì • í™•ì¸
```

#### macOS ì‚¬ìš©ì  

```bash
# ì‹œìŠ¤í…œ ë©”ëª¨ë¦¬ í™•ì¸
vm_stat

# Docker ì‚¬ìš©ì‹œ ë©”ëª¨ë¦¬ ì œí•œ í™•ì¸
docker stats
```

#### Windows ì‚¬ìš©ì

```powershell
# ì‹œìŠ¤í…œ ë©”ëª¨ë¦¬ í™•ì¸
Get-WmiObject -Class Win32_OperatingSystem | Select-Object TotalVisibleMemorySize,FreePhysicalMemory
```

## ğŸ“ˆ ì„±ëŠ¥ ìµœì í™” ì „ëµ

### ğŸ¯ Qwen AI ìˆ˜í•™ì  ëª¨ë¸ ê¸°ë°˜ ìµœì í™”

#### V8 í™ í¬ê¸° ìµœì í™” ê³µì‹

```text
ìµœì  í™ í¬ê¸° = (í˜„ì¬ ì‚¬ìš©ëŸ‰ Ã— 1.5) ë°˜ì˜¬ë¦¼ 512MB ë‹¨ìœ„
ì•ˆì „ ë²”ìœ„ = 1024MB ~ 8192MB
```

#### í™˜ê²½ë³„ íš¨ìœ¨ì„± ë§¤íŠ¸ë¦­ìŠ¤

| í™˜ê²½ | ê¶Œì¥ í™ | íš¨ìœ¨ì„± | ì•ˆì •ì„± | ë¹„ìš© |
|------|---------|--------|--------|------|
| **ë¡œì»¬ ê°œë°œ** | 4GB | â­â­â­â­ | â­â­â­â­â­ | â­â­â­ |
| **CI/CD** | 1.5GB | â­â­â­â­â­ | â­â­â­ | â­â­â­â­â­ |
| **í”„ë¡œë•ì…˜** | 1.5GB | â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ |

### ğŸ”§ ìë™ ë©”ëª¨ë¦¬ ìµœì í™”

#### ë™ì  ë©”ëª¨ë¦¬ í• ë‹¹ ìŠ¤í¬ë¦½íŠ¸

```bash
#!/bin/bash
# scripts/auto-memory.sh
AVAILABLE_MEMORY=$(free -m | awk 'NR==2{printf "%.0f", $7}')

if [ "$AVAILABLE_MEMORY" -gt 16000 ]; then
    export NODE_OPTIONS="--max-old-space-size=8192"
elif [ "$AVAILABLE_MEMORY" -gt 8000 ]; then
    export NODE_OPTIONS="--max-old-space-size=4096"
else
    export NODE_OPTIONS="--max-old-space-size=2048"
fi

echo "ìë™ ì„¤ì •: NODE_OPTIONS=$NODE_OPTIONS (ì—¬ìœ  ë©”ëª¨ë¦¬: ${AVAILABLE_MEMORY}MB)"
```

## ğŸ¯ ë¬¸ì œ í•´ê²° í”Œë ˆì´ë¶

### ğŸš¨ Emergency: ë©”ëª¨ë¦¬ ë¶€ì¡±ìœ¼ë¡œ ì‘ì—… ì¤‘ë‹¨

```bash
# 1. ì¦‰ì‹œ ê²½ëŸ‰ ëª¨ë“œë¡œ ì „í™˜
pkill -f "next dev" || pkill -f "node"
npm run dev:light

# 2. ë©”ëª¨ë¦¬ ìƒíƒœ í™•ì¸
npm run monitor:memory

# 3. ì‹œìŠ¤í…œ ë©”ëª¨ë¦¬ ì •ë¦¬
# Linux/WSL
sudo sh -c 'echo 3 > /proc/sys/vm/drop_caches'

# 4. ì•ˆì „ ëª¨ë“œë¡œ Claude ì¬ì‹œì‘
claude-light
```

### ğŸ“Š ì„±ëŠ¥ ë¶„ì„

```bash
# GC íŒ¨í„´ ë¶„ì„
NODE_OPTIONS="--trace-gc --max-old-space-size=4096" npm run build

# í™ ìŠ¤ëƒ…ìƒ· ìƒì„±
NODE_OPTIONS="--inspect --max-old-space-size=4096" npm run dev
# Chrome DevToolsì—ì„œ Memory íƒ­ â†’ Heap Snapshot
```

## ğŸ“‹ ë¹ ë¥¸ ì°¸ì¡°

### ëª…ë ¹ì–´ ì¹˜íŠ¸ì‹œíŠ¸

```bash
# ê°œë°œ
npm run dev              # 4GB (í‘œì¤€)
npm run dev:light        # 2GB (ê²½ëŸ‰)  
npm run dev:heavy        # 8GB (ëŒ€ìš©ëŸ‰)

# ë¹Œë“œ
npm run build            # 2GB (í‘œì¤€)
npm run build:dev        # 4GB (ê°œë°œìš©)
npm run build:ci         # 1.5GB (CI)

# Claude Code  
claude-dev               # 4GB (í‘œì¤€)
claude-light             # 2GB (ê²½ëŸ‰)
claude-heavy             # 8GB (ëŒ€ìš©ëŸ‰)

# ëª¨ë‹ˆí„°ë§
npm run monitor:memory   # í˜„ì¬ ìƒíƒœ
node scripts/memory-monitor.js --watch  # ì—°ì† ëª¨ë‹ˆí„°ë§
```

### í™˜ê²½ë³€ìˆ˜ ì„¤ì •

```bash
# .env.local (í”„ë¡œì íŠ¸ë³„ ì„¤ì •)
NODE_MAX_MEMORY=4096

# ì„ì‹œ ì„¤ì • (í˜„ì¬ ì„¸ì…˜ë§Œ)
export NODE_OPTIONS="--max-old-space-size=4096"
```

---

## âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸

íŒ€ì› ëª¨ë‘ê°€ í™•ì¸í•´ì•¼ í•  ì„¤ì •:

- [ ] ê¸€ë¡œë²Œ NODE_OPTIONS ì„¤ì • ì œê±° í™•ì¸
- [ ] ë³„ì¹­ ëª…ë ¹ì–´ (`claude-dev`, `claude-light` ë“±) ì‘ë™ í™•ì¸  
- [ ] ì²« ì‹¤í–‰ ì‹œ `npm run monitor:memory` ê²°ê³¼ í™•ì¸
- [ ] ë©”ëª¨ë¦¬ ë¶€ì¡± ì¦ìƒ ë°œìƒì‹œ ë‹¨ê³„ì  í•´ê²° ë°©ë²• ìˆ™ì§€
- [ ] Code Review ì‹œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì²´í¬ ìŠµê´€í™”

**ë¬¸ì œ ë°œìƒì‹œ**: ì´ ë¬¸ì„œì˜ "Emergency" ì„¹ì…˜ ì°¸ì¡° ë˜ëŠ” íŒ€ Slack #dev-support ì±„ë„ ë¬¸ì˜

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-08-24 (4-AI êµì°¨ê²€ì¦ ì™„ë£Œ)
