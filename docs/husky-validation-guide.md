# Husky ê²€ì¦ ê°€ì´ë“œ (2025.08.14 ê°„ì†Œí™” ë²„ì „)

## ğŸ“‹ ê°œìš”

Huskyë¥¼ í†µí•œ Git Hook ê²€ì¦ ì‹œìŠ¤í…œì´ ê°„ì†Œí™”ë˜ì—ˆìŠµë‹ˆë‹¤. ë³µì¡í•œ ì§€ëŠ¥í˜• ê²€ì¦ ì‹œìŠ¤í…œì„ ì œê±°í•˜ê³  í•µì‹¬ ê²€ì¦ë§Œ ìœ ì§€í•©ë‹ˆë‹¤.

## ğŸš€ í˜„ì¬ ê²€ì¦ êµ¬ì¡°

### Pre-commit (ì»¤ë°‹ ì‹œ)

- **lint-staged**: ë³€ê²½ëœ íŒŒì¼ë§Œ ESLint + Prettier ì ìš©
- **ì¤‘êµ­ì–´ ê²€ì‚¬**: ì¤‘êµ­ì–´ ë¬¸ì í¬í•¨ ì—¬ë¶€ ì²´í¬
- **ì‹¤í–‰ ì‹œê°„**: 2-5ì´ˆ

### Pre-push (í‘¸ì‹œ ì‹œ)

- **TypeScript ì²´í¬**: íƒ€ì… ì—ëŸ¬ í™•ì¸
- **í•µì‹¬ í…ŒìŠ¤íŠ¸**: test:quick ì‹¤í–‰ (22ms)
- **ì‹¤í–‰ ì‹œê°„**: 10-30ì´ˆ

## ğŸ› ï¸ ì£¼ìš” ë³€ê²½ ì‚¬í•­

### 1. ESLint ì„¤ì • ì™„í™”

```javascript
// eslint.config.mjs
// TypeScript unsafe ê·œì¹™ ë¹„í™œì„±í™”
'@typescript-eslint/no-unsafe-member-access': 'off',
'@typescript-eslint/no-unsafe-assignment': 'off',
'@typescript-eslint/no-unsafe-call': 'off',
'@typescript-eslint/no-unsafe-return': 'off',
'@typescript-eslint/no-unsafe-argument': 'off',
```

### 2. Lint-staged ê²½ê³  í—ˆìš© ì¦ê°€

```javascript
// .lintstagedrc.js
// max-warnings: 20 â†’ 100
`eslint --cache --fix --max-warnings 100`;
```

### 3. ì§€ëŠ¥í˜• ê²€ì¦ ì‹œìŠ¤í…œ ì œê±°

- âŒ ì œê±°: intelligent-pre-push.js
- âŒ ì œê±°: risk-calculator.js
- âŒ ì œê±°: dependency-analyzer.js
- âœ… ìœ ì§€: ë‹¨ìˆœí•œ type-check + test:quick

## ğŸ’¡ ì‚¬ìš© ê°€ì´ë“œ

### ì¼ë°˜ ì›Œí¬í”Œë¡œìš°

```bash
# ì¼ë°˜ ì»¤ë°‹
git add .
git commit -m "feat: ìƒˆ ê¸°ëŠ¥ ì¶”ê°€"

# ì¼ë°˜ í‘¸ì‹œ
git push origin main
```

### HUSKY=0 ì‚¬ìš© ì‹œì 

#### ì–¸ì œ ì‚¬ìš©í•´ì•¼ í•˜ëŠ”ê°€?

1. **ê¸´ê¸‰ í•«í”½ìŠ¤**: í”„ë¡œë•ì…˜ ì¥ì•  ìˆ˜ì •
2. **ë¬¸ì„œë§Œ ìˆ˜ì •**: README, docs í´ë”ë§Œ ë³€ê²½
3. **ì„¤ì • íŒŒì¼**: package.json, tsconfig ë“±ë§Œ ìˆ˜ì •
4. **ì„ì‹œ ì‘ì—…**: WIP ì»¤ë°‹ì„ ë¸Œëœì¹˜ì— í‘¸ì‹œ

#### ì‚¬ìš© ë°©ë²•

```bash
# ì»¤ë°‹ ì‹œ ê²€ì¦ ìŠ¤í‚µ
HUSKY=0 git commit -m "hotfix: ê¸´ê¸‰ ìˆ˜ì •"

# í‘¸ì‹œ ì‹œ ê²€ì¦ ìŠ¤í‚µ
HUSKY=0 git push origin main

# ëª¨ë“  ê²€ì¦ ìŠ¤í‚µ
HUSKY=0 git commit -m "WIP" && HUSKY=0 git push
```

## ğŸ”§ ë¬¸ì œ í•´ê²°

### TypeScript ì—ëŸ¬ê°€ ë§ì„ ë•Œ

```bash
# íƒ€ì… ì²´í¬ë§Œ ì‹¤í–‰
npm run type-check

# ì—ëŸ¬ ë¬´ì‹œí•˜ê³  í‘¸ì‹œ (ê¶Œì¥í•˜ì§€ ì•ŠìŒ)
HUSKY=0 git push
```

### ESLint ê²½ê³ ê°€ ë§ì„ ë•Œ

```bash
# ìë™ ìˆ˜ì • ì‹œë„
npm run lint:fix

# ê·¸ë˜ë„ ë§ìœ¼ë©´ HUSKY=0 ì‚¬ìš©
HUSKY=0 git commit -m "lint ê²½ê³  ìˆëŠ” ì»¤ë°‹"
```

### í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ì‹œ

```bash
# í•µì‹¬ í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰
npm run test:quick

# ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npm test

# í…ŒìŠ¤íŠ¸ ìˆ˜ì • í›„ ë‹¤ì‹œ í‘¸ì‹œ
git push
```

## ğŸ“Š ì„±ëŠ¥ ë¹„êµ

| í•­ëª©       | ì´ì „ (ì§€ëŠ¥í˜•)    | í˜„ì¬ (ê°„ì†Œí™”)   | ê°œì„ ìœ¨ |
| ---------- | ---------------- | --------------- | ------ |
| Pre-commit | 10-20ì´ˆ          | 2-5ì´ˆ           | 75% â†“  |
| Pre-push   | 60-120ì´ˆ         | 10-30ì´ˆ         | 75% â†“  |
| ë³µì¡ë„     | ë†’ìŒ (5ê°œ ëª¨ë“ˆ)  | ë‚®ìŒ (2ê°œ ì²´í¬) | 60% â†“  |
| ì‹ ë¢°ì„±     | ë‚®ìŒ (ìì£¼ ì‹¤íŒ¨) | ë†’ìŒ (ë‹¨ìˆœí•¨)   | 90% â†‘  |

## ğŸ¯ ê¶Œì¥ ì‚¬í•­

1. **ì¼ë°˜ ê°œë°œ**: Husky ê²€ì¦ ê·¸ëŒ€ë¡œ ì‚¬ìš©
2. **ë¹ ë¥¸ ë°˜ë³µ**: HUSKY=0ìœ¼ë¡œ ì„ì‹œ ì»¤ë°‹, ë‚˜ì¤‘ì— ì •ë¦¬
3. **PR ì „**: ë°˜ë“œì‹œ ì „ì²´ ê²€ì¦ í†µê³¼ í™•ì¸
4. **ë©”ì¸ ë¸Œëœì¹˜**: ê°€ëŠ¥í•œ ê²€ì¦ í†µê³¼ í›„ í‘¸ì‹œ

## ğŸ“ ì¶”ê°€ ìŠ¤í¬ë¦½íŠ¸

```bash
# ë¹ ë¥¸ ê²€ì¦ (ì»¤ë°‹ ì „)
npm run validate:quick

# ì „ì²´ ê²€ì¦ (PR ì „)
npm run validate:all

# ë¦°íŠ¸ë§Œ í™•ì¸
npm run lint:quick

# íƒ€ì…ë§Œ í™•ì¸
npm run type-check
```

## âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸

ì»¤ë°‹/í‘¸ì‹œ ì „ í™•ì¸ì‚¬í•­:

- [ ] TypeScript ì—ëŸ¬ ì—†ìŒ (ë˜ëŠ” ìµœì†Œí™”)
- [ ] í•µì‹¬ í…ŒìŠ¤íŠ¸ í†µê³¼
- [ ] ì¤‘êµ­ì–´ ë¬¸ì ì—†ìŒ
- [ ] ë¯¼ê°í•œ ì •ë³´ ì—†ìŒ (API í‚¤ ë“±)

## ğŸš¨ ì£¼ì˜ì‚¬í•­

- HUSKY=0ì€ ì„ì‹œ ë°©í¸ì…ë‹ˆë‹¤
- ë©”ì¸ ë¸Œëœì¹˜ì—ëŠ” ê²€ì¦ í†µê³¼ ì½”ë“œë§Œ í‘¸ì‹œí•˜ì„¸ìš”
- PR ìƒì„± ì „ì—ëŠ” ë°˜ë“œì‹œ ì „ì²´ ê²€ì¦ì„ í†µê³¼í•˜ì„¸ìš”
- íŒ€ì›ê³¼ì˜ í˜‘ì—… ì‹œ HUSKY=0 ì‚¬ìš©ì„ ìµœì†Œí™”í•˜ì„¸ìš”

---

ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: 2025.08.14
ì‘ì„±ì: Claude Code + ì‚¬ìš©ì
