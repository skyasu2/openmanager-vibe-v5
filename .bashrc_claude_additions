# Claude Code 터미널 스크롤 최적화 설정
# ~/.bashrc에 추가하거나 source로 로드

# 환경 변수 설정
export TERM=xterm-256color
export WSL_UTF8=1
export COLORTERM=truecolor
export NODE_OPTIONS="--max-old-space-size=4096 --no-warnings"
export NODE_NO_READLINE=1

# Claude Code 별칭 (스크롤 최적화 포함)
alias claude-stable='source /mnt/d/cursor/openmanager-vibe-v5/.claude/terminal-scroll-fix.sh'
alias claude-fix='source /mnt/d/cursor/openmanager-vibe-v5/.claude/terminal-scroll-fix.sh'

# 기존 claude 명령어를 최적화된 버전으로 오버라이드
claude() {
    echo "🔧 Claude Code 스크롤 최적화 모드로 실행..."
    source /mnt/d/cursor/openmanager-vibe-v5/.claude/terminal-scroll-fix.sh "$@"
}

# 터미널 설정 최적화 함수
optimize_terminal() {
    echo "🖥️ 터미널 최적화 설정 적용 중..."
    
    # TTY 설정
    stty sane 2>/dev/null || true
    
    # 프롬프트 최적화 (깜빡임 방지)
    if [[ -z "$PS1_BACKUP" ]]; then
        export PS1_BACKUP="$PS1"
        export PS1='\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$ '
    fi
    
    echo "   ✅ 터미널 최적화 완료"
}

# 자동 최적화 (선택적)
# optimize_terminal

echo "✅ Claude Code 터미널 스크롤 최적화 설정 로드 완료"
echo "   사용법: claude-stable [명령어] 또는 claude-fix [명령어]"