#!/bin/sh

echo "ğŸš€ Pre-commit ê²€ì¦ ì‹œì‘..."

# í™˜ê²½ ë³€ìˆ˜ë¡œ ìŠ¤í‚µ ê°€ëŠ¥
if [ "$HUSKY" = "0" ]; then
    echo "â­ï¸  Huskyê°€ ë¹„í™œì„±í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ê²€ì¦ì„ ê±´ë„ˆëœë‹ˆë‹¤."
    exit 0
fi

# íƒ€ì… ì²´í¬
echo "ğŸ“ íƒ€ì… ì²´í¬ ì¤‘..."
npm run type-check
if [ $? -ne 0 ]; then
    echo "âŒ íƒ€ì… ì²´í¬ ì‹¤íŒ¨!"
    exit 1
fi

# ë¦°íŠ¸
echo "ğŸ§¹ ë¦°íŠ¸ ê²€ì‚¬ ì¤‘..."
npm run lint
if [ $? -ne 0 ]; then
    echo "âŒ ë¦°íŠ¸ ê²€ì‚¬ ì‹¤íŒ¨!"
    exit 1
fi

echo "âœ… Pre-commit ê²€ì¦ í†µê³¼!"