#!/usr/bin/env bash

# Post-commit Hook: Background AI Code Review
# ëª©ì : ì»¤ë°‹ ì™„ë£Œ í›„ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ìžë™ AI ì½”ë“œ ë¦¬ë·° ì‹¤í–‰
# ë³€ê²½ ì´ë ¥:
#   - 2025-11-26: pre-commitì—ì„œ post-commitìœ¼ë¡œ ì´ë™ (ì»¤ë°‹ ë¸”ë¡œí‚¹ ë°©ì§€)

set -e

echo "ðŸš€ Post-commit validation started (background)..."

# Run the orchestrator in the background, detached
# nohup allows it to keep running even if the terminal closes (though in husky context it might be different, & is usually enough)
(
  nohup bash scripts/git/post-commit-background.sh > logs/post-commit.log 2>&1 &
) &

echo "âœ… Background tasks launched."
echo "ðŸ’¡ Logs: logs/post-commit.log"

exit 0
