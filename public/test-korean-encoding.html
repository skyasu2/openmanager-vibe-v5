<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ”§ í•œê¸€ ì¸ì½”ë”© í…ŒìŠ¤íŠ¸ - OpenManager Vibe v5</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            min-height: 100vh;
        }

        .container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        h1 {
            color: #4a5568;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
        }

        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            background: #f7fafc;
        }

        .test-section h3 {
            color: #2d3748;
            margin-top: 0;
            border-bottom: 2px solid #4299e1;
            padding-bottom: 10px;
        }

        input,
        textarea,
        select,
        button {
            padding: 12px;
            margin: 5px;
            border: 1px solid #cbd5e0;
            border-radius: 8px;
            font-size: 16px;
            width: 100%;
            box-sizing: border-box;
        }

        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            cursor: pointer;
            transition: transform 0.2s;
            width: auto;
            min-width: 150px;
        }

        button:hover {
            transform: translateY(-2px);
        }

        button:disabled {
            background: #a0aec0;
            cursor: not-allowed;
            transform: none;
        }

        .result {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            white-space: pre-wrap;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 400px;
            overflow-y: auto;
        }

        .success {
            background: #f0fff4;
            border-left: 4px solid #38a169;
            color: #2f855a;
        }

        .error {
            background: #fed7d7;
            border-left: 4px solid #e53e3e;
            color: #c53030;
        }

        .info {
            background: #ebf8ff;
            border-left: 4px solid #3182ce;
            color: #2b6cb0;
        }

        .warning {
            background: #fffbeb;
            border-left: 4px solid #d69e2e;
            color: #b7791f;
        }

        .sample-queries {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }

        .sample-query {
            background: #edf2f7;
            padding: 10px;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.2s;
            border: 1px solid #e2e8f0;
        }

        .sample-query:hover {
            background: #e2e8f0;
        }

        .encoding-status {
            display: flex;
            gap: 15px;
            margin-top: 15px;
        }

        .status-item {
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            text-align: center;
            flex: 1;
        }

        .status-ok {
            background: #c6f6d5;
            color: #22543d;
        }

        .status-warning {
            background: #fefcbf;
            color: #744210;
        }

        .status-error {
            background: #fed7d7;
            color: #742a2a;
        }

        .progress {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #4299e1, #38a169);
            transition: width 0.3s ease;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>ğŸ”§ í•œê¸€ ì¸ì½”ë”© í…ŒìŠ¤íŠ¸</h1>
        <p style="text-align: center; color: #666; margin-bottom: 30px;">
            OpenManager Vibe v5ì˜ í•œê¸€ ì²˜ë¦¬ ì‹œìŠ¤í…œì„ í…ŒìŠ¤íŠ¸í•˜ê³  ë¬¸ì œë¥¼ ì§„ë‹¨í•©ë‹ˆë‹¤.
        </p>

        <!-- 1. ê¸°ë³¸ ì¸ì½”ë”© í…ŒìŠ¤íŠ¸ -->
        <div class="test-section">
            <h3>ğŸ“Š 1. ê¸°ë³¸ ì¸ì½”ë”© ìƒíƒœ í™•ì¸</h3>
            <p>ì‹œìŠ¤í…œì˜ ê¸°ë³¸ í•œê¸€ ì¸ì½”ë”© ìƒíƒœë¥¼ í™•ì¸í•©ë‹ˆë‹¤.</p>
            <button onclick="testBasicEncoding()">ê¸°ë³¸ ì¸ì½”ë”© í…ŒìŠ¤íŠ¸</button>
            <div id="basic-result" class="result" style="display: none;"></div>
        </div>

        <!-- 2. ì¿¼ë¦¬ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸ -->
        <div class="test-section">
            <h3>ğŸ” 2. í•œê¸€ ì¿¼ë¦¬ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸</h3>
            <p>API ìš”ì²­ì—ì„œ í•œê¸€ ì¿¼ë¦¬ê°€ ì˜¬ë°”ë¥´ê²Œ ì²˜ë¦¬ë˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.</p>

            <div style="margin-bottom: 15px;">
                <label for="test-query">í…ŒìŠ¤íŠ¸ ì¿¼ë¦¬:</label>
                <input type="text" id="test-query" placeholder="í•œê¸€ í…ŒìŠ¤íŠ¸ ì¿¼ë¦¬ë¥¼ ì…ë ¥í•˜ì„¸ìš”" value="ì„œë²„ ìƒíƒœ í™•ì¸">
            </div>

            <div class="sample-queries">
                <div class="sample-query" onclick="setTestQuery('CPU ì‚¬ìš©ëŸ‰ ë¶„ì„')">
                    ğŸ“Š CPU ì‚¬ìš©ëŸ‰ ë¶„ì„
                </div>
                <div class="sample-query" onclick="setTestQuery('ë©”ëª¨ë¦¬ ë¶€ì¡± ê²½ê³ ')">
                    âš ï¸ ë©”ëª¨ë¦¬ ë¶€ì¡± ê²½ê³ 
                </div>
                <div class="sample-query" onclick="setTestQuery('ë„¤íŠ¸ì›Œí¬ ì—°ê²° ìƒíƒœ')">
                    ğŸŒ ë„¤íŠ¸ì›Œí¬ ì—°ê²° ìƒíƒœ
                </div>
                <div class="sample-query" onclick="setTestQuery('ë°ì´í„°ë² ì´ìŠ¤ ì„±ëŠ¥ ìµœì í™”')">
                    ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ì„±ëŠ¥ ìµœì í™”
                </div>
            </div>

            <button onclick="testQueryProcessing()">ì¿¼ë¦¬ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸</button>
            <div id="query-result" class="result" style="display: none;"></div>
        </div>

        <!-- 3. AI ì—”ì§„ í†µí•© í…ŒìŠ¤íŠ¸ -->
        <div class="test-section">
            <h3>ğŸ¤– 3. AI ì—”ì§„ í•œê¸€ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸</h3>
            <p>ìµœì í™”ëœ AI ì—”ì§„ì—ì„œ í•œê¸€ ì¿¼ë¦¬ê°€ ì˜¬ë°”ë¥´ê²Œ ì²˜ë¦¬ë˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.</p>

            <div style="margin-bottom: 15px;">
                <label for="ai-query">AI í…ŒìŠ¤íŠ¸ ì¿¼ë¦¬:</label>
                <input type="text" id="ai-query" placeholder="AI ì—”ì§„ í…ŒìŠ¤íŠ¸ìš© í•œê¸€ ì¿¼ë¦¬" value="ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ë¶„ì„">
            </div>

            <div style="margin-bottom: 15px;">
                <label for="ai-mode">AI ëª¨ë“œ:</label>
                <select id="ai-mode">
                    <option value="AUTO">ìë™ ëª¨ë“œ</option>
                    <option value="INTERNAL">ë‚´ë¶€ ì—”ì§„ë§Œ</option>
                    <option value="GOOGLE_AI">Google AI</option>
                </select>
            </div>

            <button onclick="testAIEngineKorean()">AI ì—”ì§„ í•œê¸€ í…ŒìŠ¤íŠ¸</button>
            <div id="ai-result" class="result" style="display: none;"></div>
        </div>

        <!-- 4. ì¢…í•© ì§„ë‹¨ -->
        <div class="test-section">
            <h3>ğŸ”¬ 4. ì¢…í•© ì§„ë‹¨ ë° ê¶Œì¥ì‚¬í•­</h3>
            <p>ëª¨ë“  í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ì¢…í•©í•˜ì—¬ ë¬¸ì œì ê³¼ í•´ê²°ì±…ì„ ì œì‹œí•©ë‹ˆë‹¤.</p>
            <button onclick="runComprehensiveTest()">ì¢…í•© ì§„ë‹¨ ì‹¤í–‰</button>
            <div class="progress" id="comprehensive-progress" style="display: none;">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
            <div id="comprehensive-result" class="result" style="display: none;"></div>
        </div>

        <!-- 5. ì¸ì½”ë”© ìƒíƒœ -->
        <div class="test-section">
            <h3>ğŸ“‹ 5. í˜„ì¬ ì¸ì½”ë”© ìƒíƒœ</h3>
            <div class="encoding-status">
                <div class="status-item status-ok" id="browser-status">
                    ğŸŒ ë¸Œë¼ìš°ì €: UTF-8
                </div>
                <div class="status-item status-warning" id="server-status">
                    ğŸ–¥ï¸ ì„œë²„: í™•ì¸ ì¤‘...
                </div>
                <div class="status-item status-warning" id="api-status">
                    ğŸ”— API: í™•ì¸ ì¤‘...
                </div>
            </div>
        </div>
    </div>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let testResults = {
            basic: null,
            query: null,
            ai: null,
            comprehensive: null
        };

        // í…ŒìŠ¤íŠ¸ ì¿¼ë¦¬ ì„¤ì •
        function setTestQuery(query) {
            document.getElementById('test-query').value = query;
        }

        // 1. ê¸°ë³¸ ì¸ì½”ë”© í…ŒìŠ¤íŠ¸
        async function testBasicEncoding() {
            const resultDiv = document.getElementById('basic-result');
            resultDiv.style.display = 'block';
            resultDiv.className = 'result info';
            resultDiv.textContent = 'ğŸ” ê¸°ë³¸ ì¸ì½”ë”© ìƒíƒœ í™•ì¸ ì¤‘...';

            try {
                const response = await fetch('/api/test-korean-encoding');
                const data = await response.json();

                if (data.success) {
                    testResults.basic = data;
                    resultDiv.className = 'result success';
                    resultDiv.textContent = `âœ… ê¸°ë³¸ ì¸ì½”ë”© í…ŒìŠ¤íŠ¸ ì„±ê³µ

í”Œë«í¼: ${data.platform}
í„°ë¯¸ë„ LANG: ${data.encoding.terminal.LANG || 'ì„¤ì •ë˜ì§€ ì•ŠìŒ'}
í„°ë¯¸ë„ LC_ALL: ${data.encoding.terminal.LC_ALL || 'ì„¤ì •ë˜ì§€ ì•ŠìŒ'}

í…ŒìŠ¤íŠ¸ ê²°ê³¼:
${data.encoding.tests.map(test =>
                        `${test.success ? 'âœ…' : 'âŒ'} ${test.name}: ${test.output}`
                    ).join('\n')}

ìƒ˜í”Œ í•œê¸€:
- ê¸°ë³¸: ${data.samples.korean}
- í˜¼í•©: ${data.samples.mixed}
- íŠ¹ìˆ˜: ${data.samples.special}
- ê¸°ìˆ : ${data.samples.technical}

ê¶Œì¥ì‚¬í•­:
${data.recommendations.join('\n')}`;

                    updateServerStatus(data.encoding.overall ? 'ok' : 'error');
                } else {
                    resultDiv.className = 'result error';
                    resultDiv.textContent = `âŒ ê¸°ë³¸ ì¸ì½”ë”© í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨: ${data.error}`;
                    updateServerStatus('error');
                }
            } catch (error) {
                resultDiv.className = 'result error';
                resultDiv.textContent = `âŒ ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜: ${error.message}`;
                updateServerStatus('error');
            }
        }

        // 2. ì¿¼ë¦¬ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
        async function testQueryProcessing() {
            const query = document.getElementById('test-query').value;
            const resultDiv = document.getElementById('query-result');

            if (!query.trim()) {
                alert('í…ŒìŠ¤íŠ¸ ì¿¼ë¦¬ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }

            resultDiv.style.display = 'block';
            resultDiv.className = 'result info';
            resultDiv.textContent = 'ğŸ” ì¿¼ë¦¬ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸ ì¤‘...';

            try {
                const response = await fetch('/api/test-korean-encoding', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json; charset=utf-8',
                    },
                    body: JSON.stringify({
                        testQuery: query,
                        expectedResult: 'ì •ìƒ ì²˜ë¦¬'
                    })
                });

                const data = await response.json();

                if (data.success) {
                    testResults.query = data;
                    resultDiv.className = 'result success';
                    resultDiv.textContent = `âœ… ì¿¼ë¦¬ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸ ì„±ê³µ

ì…ë ¥ ì¿¼ë¦¬: "${data.input.testQuery}"
ì²˜ë¦¬ ê²°ê³¼: "${data.processing.processed}"

ê²€ì¦ ê²°ê³¼:
- í•œê¸€ í¬í•¨: ${data.validation.isKorean ? 'ì˜ˆ' : 'ì•„ë‹ˆì˜¤'}
- ê¹¨ì§„ ë¬¸ì: ${data.validation.isBroken ? 'ë°œê²¬ë¨' : 'ì—†ìŒ'}
- ìƒíƒœ: ${data.validation.status}
- ê¸¸ì´: ${data.processing.length}ì

ì‘ë‹µ ë©”ì‹œì§€: ${data.echo.message}
ê¶Œì¥ì‚¬í•­: ${data.echo.recommendation}`;

                    updateApiStatus(data.validation.status === 'ì •ìƒ' ? 'ok' : 'error');
                } else {
                    resultDiv.className = 'result error';
                    resultDiv.textContent = `âŒ ì¿¼ë¦¬ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨: ${data.error}`;
                    updateApiStatus('error');
                }
            } catch (error) {
                resultDiv.className = 'result error';
                resultDiv.textContent = `âŒ ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜: ${error.message}`;
                updateApiStatus('error');
            }
        }

        // 3. AI ì—”ì§„ í•œê¸€ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
        async function testAIEngineKorean() {
            const query = document.getElementById('ai-query').value;
            const mode = document.getElementById('ai-mode').value;
            const resultDiv = document.getElementById('ai-result');

            if (!query.trim()) {
                alert('AI í…ŒìŠ¤íŠ¸ ì¿¼ë¦¬ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }

            resultDiv.style.display = 'block';
            resultDiv.className = 'result info';
            resultDiv.textContent = 'ğŸ¤– AI ì—”ì§„ í•œê¸€ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸ ì¤‘...';

            try {
                const response = await fetch('/api/test-optimized-ai', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json; charset=utf-8',
                    },
                    body: JSON.stringify({
                        query: query,
                        mode: mode
                    })
                });

                const data = await response.json();

                if (data.success) {
                    testResults.ai = data;
                    resultDiv.className = 'result success';
                    resultDiv.textContent = `âœ… AI ì—”ì§„ í•œê¸€ ì²˜ë¦¬ ì„±ê³µ

í…ŒìŠ¤íŠ¸ ì¿¼ë¦¬: "${data.testQuery}"
ì²˜ë¦¬ ëª¨ë“œ: ${data.mode}
ì‚¬ìš© ì—”ì§„: ${data.result.engine}
ì²˜ë¦¬ ì‹œê°„: ${data.result.processingTime}ms
ì‹ ë¢°ë„: ${data.result.confidence}%

AI ì‘ë‹µ:
${data.result.response || 'ì‘ë‹µ ë°ì´í„° ì—†ìŒ'}

ì—”ì§„ í†µê³„:
- ì´ ì¿¼ë¦¬: ${data.stats.totalQueries}
- ì„±ê³µë¥ : ${((data.stats.successfulQueries / data.stats.totalQueries) * 100).toFixed(1)}%
- í‰ê·  ì‘ë‹µì‹œê°„: ${data.stats.averageResponseTime}ms

ë©”íƒ€ë°ì´í„°:
- ì´ ì—”ì§„ ìˆ˜: ${data.result.metadata?.totalEngines || 'N/A'}
- í™œì„± ì—”ì§„: ${data.result.metadata?.activeEngines?.join(', ') || 'N/A'}`;

                } else {
                    resultDiv.className = 'result error';
                    resultDiv.textContent = `âŒ AI ì—”ì§„ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨: ${data.error}
                    
ì„¸ë¶€ì‚¬í•­: ${data.details || 'ì—†ìŒ'}
ì²˜ë¦¬ ì‹œê°„: ${data.processingTime || 'N/A'}ms`;
                }
            } catch (error) {
                resultDiv.className = 'result error';
                resultDiv.textContent = `âŒ ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜: ${error.message}`;
            }
        }

        // 4. ì¢…í•© ì§„ë‹¨
        async function runComprehensiveTest() {
            const resultDiv = document.getElementById('comprehensive-result');
            const progressDiv = document.getElementById('comprehensive-progress');
            const progressBar = document.getElementById('progress-bar');

            resultDiv.style.display = 'none';
            progressDiv.style.display = 'block';

            // ì§„í–‰ë¥  ì• ë‹ˆë©”ì´ì…˜
            let progress = 0;
            const interval = setInterval(() => {
                progress += 2;
                progressBar.style.width = progress + '%';
                if (progress >= 100) {
                    clearInterval(interval);
                }
            }, 50);

            try {
                // ëª¨ë“  í…ŒìŠ¤íŠ¸ ìˆœì°¨ ì‹¤í–‰
                await testBasicEncoding();
                await new Promise(resolve => setTimeout(resolve, 500));

                await testQueryProcessing();
                await new Promise(resolve => setTimeout(resolve, 500));

                await testAIEngineKorean();
                await new Promise(resolve => setTimeout(resolve, 500));

                // ì¢…í•© ê²°ê³¼ ë¶„ì„
                const issues = [];
                const successes = [];

                if (testResults.basic?.success) {
                    successes.push('âœ… ê¸°ë³¸ ì¸ì½”ë”© ì‹œìŠ¤í…œ ì •ìƒ');
                } else {
                    issues.push('âŒ ê¸°ë³¸ ì¸ì½”ë”© ì‹œìŠ¤í…œ ë¬¸ì œ');
                }

                if (testResults.query?.success) {
                    successes.push('âœ… API ì¿¼ë¦¬ ì²˜ë¦¬ ì •ìƒ');
                } else {
                    issues.push('âŒ API ì¿¼ë¦¬ ì²˜ë¦¬ ë¬¸ì œ');
                }

                if (testResults.ai?.success) {
                    successes.push('âœ… AI ì—”ì§„ í•œê¸€ ì²˜ë¦¬ ì •ìƒ');
                } else {
                    issues.push('âŒ AI ì—”ì§„ í•œê¸€ ì²˜ë¦¬ ë¬¸ì œ');
                }

                progressDiv.style.display = 'none';
                resultDiv.style.display = 'block';

                if (issues.length === 0) {
                    resultDiv.className = 'result success';
                    resultDiv.textContent = `ğŸ‰ ì¢…í•© ì§„ë‹¨ ì™„ë£Œ - ëª¨ë“  ì‹œìŠ¤í…œ ì •ìƒ!

${successes.join('\n')}

ğŸš€ ê¶Œì¥ì‚¬í•­:
- í˜„ì¬ í•œê¸€ ì¸ì½”ë”© ì‹œìŠ¤í…œì´ ì™„ë²½í•˜ê²Œ ì‘ë™í•˜ê³  ìˆìŠµë‹ˆë‹¤
- ì •ê¸°ì ì¸ ëª¨ë‹ˆí„°ë§ì„ í†µí•´ ìƒíƒœë¥¼ ìœ ì§€í•˜ì„¸ìš”
- ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ ì‹œì—ë„ í•œê¸€ ì²˜ë¦¬ë¥¼ ê³ ë ¤í•˜ì„¸ìš”

ğŸ“Š ì„±ëŠ¥ ìš”ì•½:
- ê¸°ë³¸ ì¸ì½”ë”©: ${testResults.basic?.encoding?.overall ? 'ì •ìƒ' : 'ë¬¸ì œ'}
- ì¿¼ë¦¬ ì²˜ë¦¬: ${testResults.query?.validation?.status || 'í™•ì¸ í•„ìš”'}
- AI ì—”ì§„: ${testResults.ai?.success ? 'ì •ìƒ' : 'ë¬¸ì œ'}`;

                } else {
                    resultDiv.className = 'result warning';
                    resultDiv.textContent = `âš ï¸ ì¢…í•© ì§„ë‹¨ ì™„ë£Œ - ì¼ë¶€ ë¬¸ì œ ë°œê²¬

âœ… ì •ìƒ ê¸°ëŠ¥:
${successes.join('\n')}

âŒ ë¬¸ì œ ë°œê²¬:
${issues.join('\n')}

ğŸ”§ í•´ê²° ë°©ë²•:
1. í„°ë¯¸ë„ ì¸ì½”ë”© ì„¤ì •: export LANG=ko_KR.UTF-8
2. í™˜ê²½ë³€ìˆ˜ í™•ì¸: .env.local íŒŒì¼ì˜ UTF-8 ì„¤ì •
3. ë¸Œë¼ìš°ì € ì¸ì½”ë”©: ê°œë°œì ë„êµ¬ì—ì„œ UTF-8 í™•ì¸
4. ì„œë²„ ì¬ì‹œì‘: npm run devë¡œ ê°œë°œ ì„œë²„ ì¬ì‹œì‘

ğŸ“ ì¶”ê°€ ì§€ì›ì´ í•„ìš”í•œ ê²½ìš°:
- ê°œë°œíŒ€ì— ë¬¸ì˜í•˜ì—¬ ìƒì„¸ ì§„ë‹¨ì„ ë°›ìœ¼ì„¸ìš”
- ë¡œê·¸ íŒŒì¼ì„ í™•ì¸í•˜ì—¬ êµ¬ì²´ì ì¸ ì˜¤ë¥˜ë¥¼ ì°¾ìœ¼ì„¸ìš”`;
                }

            } catch (error) {
                progressDiv.style.display = 'none';
                resultDiv.style.display = 'block';
                resultDiv.className = 'result error';
                resultDiv.textContent = `âŒ ì¢…í•© ì§„ë‹¨ ì‹¤íŒ¨: ${error.message}`;
            }
        }

        // ìƒíƒœ ì—…ë°ì´íŠ¸ í•¨ìˆ˜ë“¤
        function updateServerStatus(status) {
            const element = document.getElementById('server-status');
            element.className = `status-item status-${status}`;
            element.textContent = `ğŸ–¥ï¸ ì„œë²„: ${status === 'ok' ? 'ì •ìƒ' : status === 'warning' ? 'ê²½ê³ ' : 'ì˜¤ë¥˜'}`;
        }

        function updateApiStatus(status) {
            const element = document.getElementById('api-status');
            element.className = `status-item status-${status}`;
            element.textContent = `ğŸ”— API: ${status === 'ok' ? 'ì •ìƒ' : status === 'warning' ? 'ê²½ê³ ' : 'ì˜¤ë¥˜'}`;
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function () {
            console.log('ğŸ”§ í•œê¸€ ì¸ì½”ë”© í…ŒìŠ¤íŠ¸ í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ');

            // ë¸Œë¼ìš°ì € ì¸ì½”ë”© í™•ì¸
            const charset = document.characterSet || document.charset;
            if (charset.toLowerCase() === 'utf-8') {
                document.getElementById('browser-status').className = 'status-item status-ok';
                document.getElementById('browser-status').textContent = 'ğŸŒ ë¸Œë¼ìš°ì €: UTF-8 âœ“';
            }
        });
    </script>
</body>

</html>