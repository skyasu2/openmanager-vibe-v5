<!DOCTYPE html>
<html>
<head>
    <title>GCP VM Proxy</title>
    <meta charset="utf-8">
</head>
<body>
    <script>
        // GCP VM 데이터를 가져와서 베르셀에서 사용할 수 있도록 프록시
        async function fetchGCPData() {
            try {
                const response = await fetch('http://35.209.146.37:10000/api/v3/metrics', {
                    headers: {
                        'Authorization': 'Bearer 4/0AVMBsJijWnbHYdXJmhWcM_JsSs2HUqDB9eiF2FeeIVAD8eLWvzcyB8iy3jEbRLXv2BqUMQ',
                        'Content-Type': 'application/json'
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    console.log('GCP VM 데이터:', data);
                    
                    // 데이터를 로컬스토리지에 저장 (임시)
                    localStorage.setItem('gcp-vm-data', JSON.stringify(data));
                    
                    document.body.innerHTML = `
                        <h1>GCP VM 데이터 로드 성공</h1>
                        <p>서버 수: ${data.data?.length || 0}</p>
                        <pre>${JSON.stringify(data, null, 2)}</pre>
                    `;
                } else {
                    throw new Error(`HTTP ${response.status}`);
                }
            } catch (error) {
                console.error('GCP VM 연결 실패:', error);
                document.body.innerHTML = `
                    <h1>GCP VM 연결 실패</h1>
                    <p>에러: ${error.message}</p>
                `;
            }
        }
        
        // 페이지 로드시 실행
        fetchGCPData();
    </script>
</body>
</html>