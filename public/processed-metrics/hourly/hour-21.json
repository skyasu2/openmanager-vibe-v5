{
  "hour": 21,
  "scenario": "API 요청 폭증 - CPU 과부하",
  "aggregated": {
    "statusCounts": {
      "total": 15,
      "online": 11,
      "warning": 1,
      "critical": 3,
      "offline": 0
    },
    "byServerType": [
      {
        "serverType": "web",
        "count": 3,
        "avgCpu": 31,
        "avgMemory": 43,
        "avgDisk": 28,
        "avgNetwork": 53,
        "maxCpu": 39,
        "maxMemory": 48,
        "onlineCount": 3,
        "warningCount": 0,
        "criticalCount": 0
      },
      {
        "serverType": "application",
        "count": 3,
        "avgCpu": 71,
        "avgMemory": 68,
        "avgDisk": 32,
        "avgNetwork": 44,
        "maxCpu": 96,
        "maxMemory": 85,
        "onlineCount": 1,
        "warningCount": 0,
        "criticalCount": 2
      },
      {
        "serverType": "database",
        "count": 3,
        "avgCpu": 37,
        "avgMemory": 57,
        "avgDisk": 42,
        "avgNetwork": 32,
        "maxCpu": 53,
        "maxMemory": 66,
        "onlineCount": 3,
        "warningCount": 0,
        "criticalCount": 0
      },
      {
        "serverType": "cache",
        "count": 2,
        "avgCpu": 25,
        "avgMemory": 74,
        "avgDisk": 18,
        "avgNetwork": 44,
        "maxCpu": 28,
        "maxMemory": 74,
        "onlineCount": 2,
        "warningCount": 0,
        "criticalCount": 0
      },
      {
        "serverType": "storage",
        "count": 2,
        "avgCpu": 24,
        "avgMemory": 39,
        "avgDisk": 60,
        "avgNetwork": 53,
        "maxCpu": 29,
        "maxMemory": 43,
        "onlineCount": 2,
        "warningCount": 0,
        "criticalCount": 0
      },
      {
        "serverType": "loadbalancer",
        "count": 2,
        "avgCpu": 59,
        "avgMemory": 31,
        "avgDisk": 14,
        "avgNetwork": 79,
        "maxCpu": 80,
        "maxMemory": 31,
        "onlineCount": 0,
        "warningCount": 1,
        "criticalCount": 1
      }
    ],
    "topCpu": [
      {
        "serverId": "api-was-icn-01",
        "instance": "api-was-icn-01:9100",
        "serverType": "application",
        "value": 96
      },
      {
        "serverId": "api-was-icn-02",
        "instance": "api-was-icn-02:9100",
        "serverType": "application",
        "value": 94
      },
      {
        "serverId": "lb-haproxy-icn-01",
        "instance": "lb-haproxy-icn-01:9100",
        "serverType": "loadbalancer",
        "value": 80
      },
      {
        "serverId": "db-mysql-icn-primary",
        "instance": "db-mysql-icn-primary:9100",
        "serverType": "database",
        "value": 53
      },
      {
        "serverId": "db-mysql-icn-replica",
        "instance": "db-mysql-icn-replica:9100",
        "serverType": "database",
        "value": 41
      }
    ],
    "topMemory": [
      {
        "serverId": "api-was-icn-01",
        "instance": "api-was-icn-01:9100",
        "serverType": "application",
        "value": 85
      },
      {
        "serverId": "api-was-icn-02",
        "instance": "api-was-icn-02:9100",
        "serverType": "application",
        "value": 82
      },
      {
        "serverId": "cache-redis-icn-01",
        "instance": "cache-redis-icn-01:9100",
        "serverType": "cache",
        "value": 74
      },
      {
        "serverId": "cache-redis-icn-02",
        "instance": "cache-redis-icn-02:9100",
        "serverType": "cache",
        "value": 73
      },
      {
        "serverId": "db-mysql-icn-primary",
        "instance": "db-mysql-icn-primary:9100",
        "serverType": "database",
        "value": 66
      }
    ],
    "avgCpu": 42,
    "avgMemory": 53,
    "avgDisk": 32,
    "avgNetwork": 49
  },
  "alerts": [
    {
      "id": "api-was-icn-01-cpu",
      "serverId": "api-was-icn-01",
      "instance": "api-was-icn-01:9100",
      "labels": {
        "server_type": "application",
        "datacenter": "Seoul-ICN-AZ1"
      },
      "metric": "cpu",
      "value": 96,
      "threshold": 90,
      "severity": "critical",
      "state": "firing",
      "firedAt": "2026-01-01T12:30:00.000Z",
      "duration": 0
    },
    {
      "id": "api-was-icn-01-memory",
      "serverId": "api-was-icn-01",
      "instance": "api-was-icn-01:9100",
      "labels": {
        "server_type": "application",
        "datacenter": "Seoul-ICN-AZ1"
      },
      "metric": "memory",
      "value": 85,
      "threshold": 80,
      "severity": "warning",
      "state": "firing",
      "firedAt": "2026-01-01T12:30:00.000Z",
      "duration": 0
    },
    {
      "id": "api-was-icn-02-cpu",
      "serverId": "api-was-icn-02",
      "instance": "api-was-icn-02:9100",
      "labels": {
        "server_type": "application",
        "datacenter": "Seoul-ICN-AZ2"
      },
      "metric": "cpu",
      "value": 94,
      "threshold": 90,
      "severity": "critical",
      "state": "firing",
      "firedAt": "2026-01-01T12:30:00.000Z",
      "duration": 0
    },
    {
      "id": "api-was-icn-02-memory",
      "serverId": "api-was-icn-02",
      "instance": "api-was-icn-02:9100",
      "labels": {
        "server_type": "application",
        "datacenter": "Seoul-ICN-AZ2"
      },
      "metric": "memory",
      "value": 82,
      "threshold": 80,
      "severity": "warning",
      "state": "firing",
      "firedAt": "2026-01-01T12:30:00.000Z",
      "duration": 0
    },
    {
      "id": "lb-haproxy-icn-01-cpu",
      "serverId": "lb-haproxy-icn-01",
      "instance": "lb-haproxy-icn-01:9100",
      "labels": {
        "server_type": "loadbalancer",
        "datacenter": "Seoul-ICN-AZ1"
      },
      "metric": "cpu",
      "value": 80,
      "threshold": 80,
      "severity": "warning",
      "state": "firing",
      "firedAt": "2026-01-01T12:30:00.000Z",
      "duration": 0
    },
    {
      "id": "lb-haproxy-icn-01-network",
      "serverId": "lb-haproxy-icn-01",
      "instance": "lb-haproxy-icn-01:9100",
      "labels": {
        "server_type": "loadbalancer",
        "datacenter": "Seoul-ICN-AZ1"
      },
      "metric": "network",
      "value": 88,
      "threshold": 85,
      "severity": "critical",
      "state": "firing",
      "firedAt": "2026-01-01T12:30:00.000Z",
      "duration": 0
    },
    {
      "id": "lb-haproxy-pus-01-network",
      "serverId": "lb-haproxy-pus-01",
      "instance": "lb-haproxy-pus-01:9100",
      "labels": {
        "server_type": "loadbalancer",
        "datacenter": "Busan-PUS-DR"
      },
      "metric": "network",
      "value": 70,
      "threshold": 70,
      "severity": "warning",
      "state": "firing",
      "firedAt": "2026-01-01T12:30:00.000Z",
      "duration": 0
    }
  ],
  "health": {
    "score": 35,
    "grade": "F",
    "penalties": {
      "criticalAlerts": 45,
      "warningAlerts": 20,
      "highCpuAvg": 0,
      "longFiringAlerts": 0
    }
  },
  "aiContext": "[Monitoring Report - 21:00 KST]\nScenario: API 요청 폭증 - CPU 과부하\nSystem Health: 35/100 (F)\nScrape: node-exporter | 15 targets, 11 UP\n\nActive Alerts (7):\n- api-was-icn-01:9100 cpu=96% [CRITICAL]\n- api-was-icn-02:9100 cpu=94% [CRITICAL]\n- lb-haproxy-icn-01:9100 network=88% [CRITICAL]\n- api-was-icn-01:9100 memory=85% [WARNING]\n- api-was-icn-02:9100 memory=82% [WARNING]\n\nBy Type: web(3) avg CPU 31% | application(3) avg CPU 71% | database(3) avg CPU 37% | cache(2) avg CPU 25% | storage(2) avg CPU 24% | loadbalancer(2) avg CPU 59%\nTop CPU: api-was-icn-01:9100(96%), api-was-icn-02:9100(94%), lb-haproxy-icn-01:9100(80%)\n"
}