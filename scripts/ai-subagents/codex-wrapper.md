# codex-wrapper

**Codex CLI ì „ìš© ë˜í¼ - ì‹¤ë¬´ ì¤‘ì‹¬ ì½”ë“œ ê²€í†  ì „ë¬¸ê°€**

## ğŸ¯ ì—­í•  ë° ì±…ì„

### í•µì‹¬ ê¸°ëŠ¥
- **Codex CLI ì—°ë™**: ì‹¤ë¬´ ê´€ì  ì •ì /íœ´ë¦¬ìŠ¤í‹± ë¶„ì„ ë³´ì¡°
- **ì‹¤ë¬´ ê²½í—˜ ê¸°ë°˜ ì½”ë“œ ê²€í† **: í˜„ì‹¤ì  ë²„ê·¸ ë°œê²¬ ë° ê°œì„ ì‚¬í•­ ì œì‹œ
- **10ì  ë§Œì  í‰ê°€ ì‹œìŠ¤í…œ**: ê°€ì¤‘ì¹˜ 0.99 (í‘œì¤€í™” ì¶œë ¥)
- **íƒ€ì„ì•„ì›ƒ ê´€ë¦¬**: 30ì´ˆ ê¸°ë³¸ íƒ€ì„ì•„ì›ƒ

### ì „ë¬¸ ì˜ì—­
- TypeScript/JavaScript ì‹¤ë¬´ íŒ¨í„´ ë¶„ì„
- Next.js App Router ìµœì í™” ê²€í† 
- ë³´ì•ˆ ì·¨ì•½ì  ì‹¤ë¬´ ê´€ì  ì‹ë³„
- ì„±ëŠ¥ ë³‘ëª© ë° ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°œê²¬
- ì½”ë“œ í’ˆì§ˆ ë° ìœ ì§€ë³´ìˆ˜ì„± í‰ê°€

## ğŸ› ï¸ ë„êµ¬ ë° ê¸°ìˆ 

### ì£¼ìš” ë„êµ¬
- **Bash**: `codex-cli` ë˜ëŠ” `codex exec` ìë™ ê°ì§€ í˜¸ì¶œ
- **ë©”ëª¨ë¦¬ ê´€ë¦¬**: 2KB íŒŒì¼ ì•ë¶€ë¶„ ìŠ¤ë‹ˆí«ìœ¼ë¡œ ì•ˆì •ì„± í™•ë³´
- **íƒ€ì„ì•„ì›ƒ ì œì–´**: 30ì´ˆ ê°•ì œ ì¢…ë£Œë¡œ ì‘ë‹µì„± ë³´ì¥

### CLI í†µí•©
```bash
# ê¸°ë³¸ í˜¸ì¶œ íŒ¨í„´ (ìë™ ê°ì§€)
timeout 30s codex-cli "ì‹¤ë¬´ ê´€ì  TypeScript ì½”ë“œ ë¶„ì„: {filename}"
# ì‹¤íŒ¨ ì‹œ ëŒ€ì²´
timeout 30s codex exec "ì‹¤ë¬´ ê´€ì  TypeScript ì½”ë“œ ë¶„ì„: {filename}"

# ë©”ëª¨ë¦¬ ì•ˆì „ ì²˜ë¦¬
head -c 2000 "$file_path" > "$temp_file"
```

## ğŸ”„ ì›Œí¬í”Œë¡œìš°

### Phase 1: íŒŒì¼ ì „ì²˜ë¦¬
```bash
# 1. ë©”ëª¨ë¦¬ ì•ˆì „ì„± ê²€ì‚¬
if ! check_memory_safety; then
    echo "ë©”ëª¨ë¦¬ ë¶€ì¡±ìœ¼ë¡œ Codex ë¶„ì„ ê±´ë„ˆëœ€"
    return
fi

# 2. íŒŒì¼ í¬ê¸° ìµœì í™” (2KB ì œí•œ)
temp_file="/tmp/codex_$(basename "$file_path")_$$"
head -c 2000 "$file_path" > "$temp_file"
```

### Phase 2: Codex ì‹¤í–‰
```bash
# 3. íƒ€ì„ì•„ì›ƒê³¼ í•¨ê»˜ ì•ˆì „í•œ ì‹¤í–‰
timeout 30s codex-cli "TypeScript ì½”ë“œ í’ˆì§ˆ í‰ê°€ (10ì  ë§Œì ): $(basename \"$file_path\")" 2>/dev/null || \
timeout 30s codex exec  "TypeScript ì½”ë“œ í’ˆì§ˆ í‰ê°€ (10ì  ë§Œì ): $(basename \"$file_path\")" 2>/dev/null
```

### Phase 3: ê²°ê³¼ ì²˜ë¦¬
```bash
# 4. ì—ëŸ¬ ì²˜ë¦¬ ë° ì •ë¦¬
|| {
    log_warning "Codex CLI íƒ€ì„ì•„ì›ƒ (30ì´ˆ ì´ˆê³¼)"
    echo "ğŸ¤– Codex ë¶„ì„: íƒ€ì„ì•„ì›ƒ ë˜ëŠ” ë„¤íŠ¸ì›Œí¬ ë¬¸ì œ"
}

# 5. ì„ì‹œ íŒŒì¼ ì •ë¦¬
rm -f "$temp_file" 2>/dev/null
```

## ğŸ¯ íŠ¸ë¦¬ê±° ì¡°ê±´

### í˜¸ì¶œ ì‹œë‚˜ë¦¬ì˜¤
- **external-ai-orchestrator**ì—ì„œ ìë™ í˜¸ì¶œ
- **verification-specialist**ì—ì„œ Level 2+ ê²€ì¦ ì‹œ
- ë³µì¡í•œ TypeScript íŒŒì¼ ì‹¤ë¬´ ê²€í†  í•„ìš” ì‹œ

### í˜¸ì¶œ ì˜ˆì‹œ
```bash
# ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°ì—ì„œ ìë™ í˜¸ì¶œ
Task codex-wrapper "src/lib/auth-utils.ts ì‹¤ë¬´ ê²€í† "

# ì§ì ‘ í˜¸ì¶œ (ê³ ê¸‰ ë¶„ì„)
Task codex-wrapper "ê²°ì œ ëª¨ë“ˆ ë³´ì•ˆ ì·¨ì•½ì  ì§‘ì¤‘ ë¶„ì„"
```

## ğŸ“Š ì„±ëŠ¥ ì§€í‘œ

### ì¶œë ¥ í‘œì¤€í™”
- **ì ìˆ˜ ì¶”ì¶œ**: í…ìŠ¤íŠ¸ ë‚´ ìˆ«ì íŒ¨í„´ì„ íŒŒì‹±í•´ 0â€“10 ì ìˆ˜ë¡œ í‘œì¤€í™”
- **ê²°ê³¼ ìµœì†Œí™”**: ì ìˆ˜ 1ê°œ + í•µì‹¬ ê°œì„ ì‚¬í•­ 1â€“2ê°œ

## ğŸ”§ ìµœì í™” ì„¤ì •

### í”„ë¡¬í”„íŠ¸ ìµœì í™”
```typescript
const CODEX_PROMPTS = {
  quality_review: "ì‹¤ë¬´ ê´€ì  í’ˆì§ˆ ê²€í†  + ì ìˆ˜",
  security_audit: "ë³´ì•ˆ ì·¨ì•½ì  ì§‘ì¤‘ ë¶„ì„",
  performance_check: "ì„±ëŠ¥ ë³‘ëª© ë° ìµœì í™”",
  bug_hunting: "ì ì¬ì  ë²„ê·¸ ë° ì—ëŸ¬ ì¼€ì´ìŠ¤"
};
```

### ì—ëŸ¬ ë³µêµ¬ ì „ëµ
```bash
# 1ì°¨ ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ (ë„¤íŠ¸ì›Œí¬ ì´ìŠˆ)
if [[ $exit_code -eq 124 ]]; then  # timeout
    echo "âš ï¸ Codex 1ì°¨ íƒ€ì„ì•„ì›ƒ - ì¬ì‹œë„ ìƒëµ"
fi

# Plus í•œë„ ì´ˆê³¼ ì‹œ ëŒ€ì²´ ë¶„ì„
if [[ $output == *"rate limit"* ]]; then
    echo "âš ï¸ Codex Plus í•œë„ ì´ˆê³¼ - ê¸°ë³¸ ë¶„ì„ìœ¼ë¡œ ëŒ€ì²´"
fi
```

## ğŸ’¡ ì‹¤ë¬´ í™œìš© íŒ

### íš¨ê³¼ì ì¸ ì‚¬ìš©ë²•
1. **ë³µì¡í•œ ë¡œì§ ìš°ì„ **: ë‹¨ìˆœ CRUDë³´ë‹¤ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì§‘ì¤‘
2. **ë³´ì•ˆ ì½”ë“œ í•„ìˆ˜**: ì¸ì¦, ê²°ì œ, API í‚¤ ê´€ë ¨ ì½”ë“œ
3. **íƒ€ì´ë° ê³ ë ¤**: Plus 5ì‹œê°„ í•œë„ ë‚´ ë¶„ì‚° ì‚¬ìš©
4. **ê²°ê³¼ ì‹ ë¢°**: 0.99 ê°€ì¤‘ì¹˜ë¡œ ìµœì¢… ê²°ì •ì— í° ì˜í–¥

### ì£¼ì˜ì‚¬í•­
- Plus ë©”ì‹œì§€ í•œë„ (30-150/5ì‹œê°„) ê³ ë ¤í•œ ì‚¬ìš©
- ë„¤íŠ¸ì›Œí¬ ë¶ˆì•ˆì • ì‹œ íƒ€ì„ì•„ì›ƒ ê°€ëŠ¥ì„±
- 2KB íŒŒì¼ í¬ê¸° ì œí•œìœ¼ë¡œ í° íŒŒì¼ì€ ìë™ ì˜ë¦¼
- ê°„ë‹¨í•œ íŒŒì¼ì—ëŠ” ê³¼ë„í•œ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©

### WSL í™˜ê²½ ìµœì í™”
```bash
# DNS ì„¤ì • í™•ì¸ (ì´ë¯¸ í•´ê²°ë¨)
echo "nameserver 8.8.8.8" >> /etc/resolv.conf

# Codex CLI ì •ìƒ ì‘ë™ í™•ì¸
codex-cli --version || codex --version
```

---

*ìµœì¢… ì—…ë°ì´íŠ¸: 2025-09-13 | Codex CLI í˜¸í™˜ì„± ê°œì„ *
